{
  "url": null,
  "timestamp": "2015-02-12 21:54:53 +0000",
  "card": {
    "name": "export",
    "type": "Pointer",
    "content": "[[*css]]\n[[*all+*script]]\n[[webpage source preview script]]\n[[source link]]\n[[Page+*type+*structure]]\n[[suggested source script]]",
    "value": [
      {
        "name": "*css",
        "type": "SCSS",
        "content": "//***ALL COLOR VARS & MIXINS***//\r\n$heading_color: #555;\r\n$body_background: #ebebeb;\r\n$primary_color: #555;\r\n$anchor_color: #03998D;\r\n$body-txt-color: #4F4F4F;\r\n$wanted-card-color: #b6060a;\r\n$closed-content-a-color: #729;\r\n$infographic-heading: #949494;\r\n$div-border-color:#f1f1f1;\r\n\r\n//button colors\r\n$button-color: #03998D;\r\n$button-color-hover: #009185;\r\n$button-border: #00756C;\r\n$cancel-button-color: #BEBEBE;\r\n$cancel-button-border: #9B9B9B;\r\n$cancel-button-hover:#B4B4B4;\r\n\r\n//claim colors\r\n$claim-tag-companybg: #D3741C;\r\n$claim-tag-companybg-hover:#BB5B00;\r\n$claim-tag-topicbg:#2B7EA0;\r\n$claim-tag-topicbg-hover:#01648D;\r\n$claim-tag-notexist:#f0f0f0;\r\n$claim-tag-notexist-hover: #ececec;\r\n\r\n$card-header-color: #fff;\r\n\r\n//card colors\r\n@mixin card-txt-color{\r\n  color: #646464;\r\n  a {\r\n    color: #646464;\r\n  }\r\n}\r\n\r\n//border radius mixin\r\n@mixin border-radius($radius) {\r\n  -webkit-border-radius: $radius;\r\n  border-radius: $radius;\r\n  background-clip: padding-box;  /* stops bg color from leaking outside the border: */\r\n}\r\n//***COLOR VARS - END***//\r\n\r\n//***Shadow***//\r\n\r\n@mixin box-shadow($x: 2px, $y: 2px, $blur: 5px, $color: rgba(0,0,0,.4), $inset: \"\") {\r\n  @if ($inset != \"\") {\r\n    -webkit-box-shadow: $inset $x $y $blur $color;\r\n    -moz-box-shadow:    $inset $x $y $blur $color;\r\n    box-shadow:         $inset $x $y $blur $color;\r\n  } @else {\r\n    -webkit-box-shadow: $x $y $blur $color;\r\n    -moz-box-shadow:    $x $y $blur $color;\r\n    box-shadow:         $x $y $blur $color;\r\n  }\r\n}\r\n\r\n// ***Shadow- END***//\r\n\r\nbody {\r\n  color: $body-txt-color;\r\n  font-family: 'Droid Sans',verdana, arial, helvetica, sans-serif;\r\n  line-height: 1.5em;\r\n  font-size: 0.9em;\r\n}\r\n\r\nbody#wagn {\r\n  min-height: 100%;\r\n  min-width: 480px;\r\n  background: $body_background;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\nbody#tinymce {\r\n   padding: 4px;\r\n}\r\n\r\nsup {\r\n  line-height: 0;\r\n}\r\n\r\na {\r\n  color: $anchor_color;\r\n}\r\n\r\na.wanted-card {\r\n  color: $wanted-card-color;\r\n}\r\n\r\n/* many sites may want this external link behavior; it's here because it's a nuisance to override when not desired */\r\na.external-link,\r\n.closed-content a.external-link {\r\n  color: $closed-content-a-color;\r\n  background: url(/assets/external_link.png) center right no-repeat;\r\n  padding-right: 13px !important;\r\n}\r\n\r\nimg {\r\n  border: 0\r\n}\r\n\r\nh1, h2 {\r\n  color: $heading_color;\r\n}\r\n\r\nh1 {\r\n  font-size: 1.2em;\r\n  font-weight: normal;\r\n  line-height: 1.8em;\r\n  padding: 5px 0;\r\n}\r\n\r\n.more-link {\r\n  float: right;\r\n}\r\n\r\n.card-header {\r\n  //font-family: 'Droid Sans';\r\n}\r\n.card-content .titled-view > .card-header {\r\n  line-height: 1.4em;\r\n  margin-top: 1em;\r\n}\r\n\r\n.card-frame {\r\n  border-radius: 4px;\r\n  border: 0px solid #E5E5E5;\r\n  > .card-header {\r\n    background: $card-header-color;\r\nfont-size: 1.1em;\r\n// font-weight: bold;\r\n    @include card-txt-color;\r\n  }\r\n  > .instruction {\r\n    background: #bbb;\r\n  }\r\n}\r\n\r\n\r\n.RIGHT-logo.card-content img {\r\n  max-height: 100%;\r\n}\r\n\r\n#Home{\r\n  overflow: inherit;\r\n}\r\n#main {\r\n    font-size: 1.1em;\r\n    clear: both;\r\n    padding: 70px 1%;\r\n    max-width: 1260px;\r\n    margin: 0 auto;\r\n  .card-frame > .card-body > .titled-view {\r\n    margin: 15px 0;\r\n    > .card-body {\r\n      margin: 5px 0 5px 3%;\r\n    }\r\n    > .card-content {\r\n      padding: 10px 20px 15px 20px;\r\n    }\r\n  }\r\n  .card-frame {\r\n    border-radius: 0px;\r\n    padding: 0px 2%!important;\r\n    > .card-body > h1 {\r\n      font-size: 2em;\r\n      font-weight: normal;\r\n      line-height: 2em;\r\n      padding: 5px 0 0 0;\r\n    }\r\n  }\r\n  > .card-slot > h1 {\r\n    font-size: 1.5em;\r\n    padding: 0 5px;\r\n    .card-title {\r\n      text-align: center;\r\n      display: inline-block;\r\n      width: 90%;\r\n      /*text-indent: 10%;*/\r\n      margin-left:5%;\r\n    }\r\n  }\r\n}\r\n.card-slot > .card-header .card-menu-link {\r\n  display: none;\r\n}\r\n.card-slot.closed-view,\r\n.card-slot:hover {\r\n  > .card-header .card-menu-link {\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n.revision-navigation,\r\n.current {\r\n  background: #FFFFFF;\r\n}\r\n\r\n\r\nbody.home-layout #main {\r\n  > .card-content {\r\n    .SELF-wikirate_infographic {\r\ntext-align: center;\r\nborder-radius: 4px;\r\n-moz-border-radius: 4px;\r\nfloat: right;\r\nborder: 0px solid #E5E5E5;\r\nbackground: #fff;\r\nwidth: 41%;\r\npadding-top: 20px;\r\nmargin-bottom: 12px;\r\n      > .SELF-infographic {\r\n        float: left;\r\n        display: inline-block;\r\n        width:68%;\r\n      }\r\n      span {\r\n       font-size: 1.8em;\r\n       color: $infographic-heading;\r\n      }\r\n      p {\r\n        line-height: 2em;\r\n        color: #d5d5d5;\r\n        font-size: 1.3em;\r\n      }\r\n      > .wikirate-video-container {\r\n        position: relative;\r\n        padding-bottom: 17%;\r\n        padding-top: 0px;\r\n        height: 0;\r\n        overflow: hidden;\r\n        left: 14px;\r\n        top: -14px;\r\n        width: 30.2%;\r\n        margin: 0px;\r\n        iframe {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n    .SELF-industry_of_the_month.content-view {\r\nwidth: 100%;\r\ntext-align: center;\r\npadding: 0px 0px 24px 0px;\r\nfloat: left;\r\n    }\r\n    .home-left {\r\n      width: 58%;\r\n      float: left;\r\n      .SELF-featured_topic.card-frame {\r\n        margin-top: 40px;\r\n      }\r\n    }\r\n    .home-right {\r\n      width: 41%;\r\n      float: right;\r\n    }\r\n    > #wikirate_tagline {\r\n      text-align: center;\r\n      overflow: visible;\r\n      font-size: 2em;\r\n      padding: 1.5em;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-company_feature,\r\n.STRUCTURE-topic_feature {\r\n  clear: both;\r\n  padding: 20px 0;\r\n  min-height: 200px;\r\n}\r\n\r\n.STRUCTURE-company_feature,\r\n.STRUCTURE-topic_feature {\r\n  > a {\r\n    font-size: 1.3em;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 0.9em;\r\n    font-style: italic;\r\n    color: #aaa;\r\n  }\r\n\r\n  .TYPE-image.content-view {\r\n    width: 25%;\r\n    max-width: 100px;\r\n    padding: 0 3% 10px 0;\r\n    min-height: 200px;\r\n\r\n    img {\r\n        border-radius: 10px;\r\n       -moz-border-radius: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\r\n\r\nbody > .SELF-wikirate_footer {\r\n  clear: both;\r\n  display: block;\r\n  padding: 45px 30px 10px 30px;\r\n  text-align: center;\r\n  font-size: 0.9em;\r\n  background: #fff;\r\n  border: 1px solid #E5E5E5;\r\na.external-link {\r\n  padding-right: 0 !important;\r\n  background: inherit !important;\r\n}\r\n[class*=\"SELF-logo_\"] {\r\ndisplay: inline-block;\r\n}\r\n}\r\n\r\n#credit,\r\n#credit a {\r\n  padding: 0 !important;\r\n  background: none;\r\n  border: 0px;\r\n  margin-bottom: 15px;\r\n  position: relative;\r\n}\r\n\r\n#credit {\r\n  z-index: -0;\r\n  left: 8px;\r\n  display: block;\r\n  a {\r\n    right: 16px;\r\n    position: relative;\r\n    z-index: -1;\r\n  }\r\n}\r\n\r\n.RIGHT-claim_count.content-view {\r\n  display: inline;\r\n  float: right;\r\n  color: #999;\r\n}\r\n\r\n.search-result-item > .TYPE-page.content-view {\r\n  .RIGHT-website .pointer-list {\r\n    #font-size: 1.1em;\r\n    #font-weight: bold;\r\n    padding-bottom: 0;\r\n  }\r\n  .RIGHT-title {\r\n    font-size: 0.9em;\r\n    margin: 0 0 7px 3%;\r\n  }\r\n}\r\n\r\n\r\n\r\n.RIGHT-image_source.content-view {\r\n  font-size: 0.8em;\r\n  font-style: italic;\r\n}\r\n\r\n.TYPE-analysi,\r\n.TYPE-company,\r\n.TYPE-topic {\r\n  &.STRUCTURE-analysi_comparison a.internal-link,\r\n  >.source-side > a {\r\n    // display: block;\r\n    // padding: 10px;\r\n    // margin: 10px 5%;\r\n    // float: right;\r\n    // border: 2px solid #555;\r\n    // border-radius: 10px;\r\n    // background: #eee;\r\n    // font-size: 1.2em;\r\n  }\r\n}\r\n.TYPE-analysi {\r\n  &.STRUCTURE-analysi_comparison a.internal-link,\r\n  >.source-side > a {\r\n    float: none;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n\r\n\r\n.TYPE-topic .STRUCTURE-topic_analysi_blurb,\r\n.TYPE-company .STRUCTURE-company_analysi_blurb {\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #eee;\r\n  > a {\r\n    float: right;\r\n  }\r\n}\r\n\r\n.STRUCTURE-analysi_blurb {\r\n  > .RIGHT-article,\r\n  > .RIGHT-claim {\r\n    padding-left: 5%;\r\n  }\r\n  .RIGHT-claim {\r\n    > .card-header {\r\n      font-size: 0.9em;\r\n      font-style: italic;\r\n      color: #aaa;\r\n      padding: 0;\r\n    }\r\n    .search-result-item {\r\n      padding-bottom: 10px;\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-icon_and_link.content-view > a > img,\r\n.STRUCTURE-company_analysi_link.content-view > a > img,\r\n.STRUCTURE-topic_analysi_link.content-view > a > img,\r\n.STRUCTURE-company_link.content-view > a > img,\r\n.STRUCTURE-topic_link.content-view > a > img {\r\n  border-radius: 3px;\r\n  -moz-border-radius: 3px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.STRUCTURE-topic_analysi_link_and_compare .STRUCTURE-compare_link,\r\n.RIGHT-link_and_compare .RIGHT-compare_link {\r\n  float: right;\r\n}\r\n\r\n.STRUCTURE-claim_summary {\r\n  > h1 {\r\n    font-size: 1.1em;\r\n    padding-bottom: 0;\r\n  }\r\n  > .card-body {\r\n    padding:  5px 0 18px 5%;\r\n    margin: 0 0 5px 0px;\r\n    border-bottom: 1px solid #eee;\r\n    font-size: 0.8em;\r\n    .fa {\r\n      padding-right: 5px;\r\n    }\r\n    > div {\r\n      margin-left: 5%;\r\n      padding: 2px 0;\r\n      text-indent: -3%;\r\n      div {\r\n        display: inline;\r\n      }\r\n    }\r\n    .missing-view {\r\n      display: none;\r\n    }\r\n    .RIGHT-source .source-title {\r\n      font-style: italic;\r\n    }\r\n    .pointer-item, .search-result-item {\r\n       text-indent: 10px;\r\n       margin: 0;\r\n       margin-right: 0px !important;\r\n       padding: 2px;\r\n      :after {\r\n        content: ' ';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n#claim-sourcelink .pointer-item a {\r\n  color: $body-txt-color;\r\n    &:hover{\r\n      color:$anchor_color;\r\n    }\r\n }\r\n\r\n.analysis-link > a,\r\n.RIGHT-company.titled-view > .card-content .item-link > a,\r\n.RIGHT-topic.titled-view > .card-content  .item-link > a {\r\n    // margin: 3px 10px;\r\n}\r\n\r\n.analysis-link > a,\r\n.RIGHT-company.card-content .item-link > a,\r\n.RIGHT-topic.card-content .item-link > a,\r\n#company-and-topic .company-name,\r\n#company-and-topic  .topic-name {\r\n  display: inline-block;\r\n  text-indent: 0;\r\n  border-radius: 3px;\r\n  font-size: 0.9em;\r\n  color: #fff;\r\n  text-decoration: none;\r\n}\r\n\r\n.RIGHT-company.card-content .item-link > a,\r\n.RIGHT-topic.card-content .item-link > a,\r\n.analysis-link > a > span{\r\n  display: inline-block;\r\n  padding: 0px 6px !important;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n#company-and-topic{\r\n  .company-name, .topic-name {\r\n    padding: 1px 3px !important;\r\n  }\r\n  .company-name.no-content,.topic-name.no-content{\r\n    background:none!important;\r\n  }\r\n}\r\n\r\n.RIGHT-company.card-content .item-link > a,\r\n.analysis-link > a > .company,\r\n#company-and-topic .company-name {\r\n  background: $claim-tag-companybg;\r\n  border-top-left-radius: 3px;\r\n  border-bottom-left-radius: 3px;\r\n}\r\n.RIGHT-company.card-content .item-link > a:hover,\r\n.analysis-link > a:hover > .company,\r\n#company-and-topic .company-name:hover {\r\n  background: $claim-tag-companybg-hover;\r\n}\r\n\r\n\r\n.RIGHT-topic.card-content .item-link > a,\r\n.analysis-link > a > .topic,\r\n#company-and-topic  .topic-name {\r\n  background:  $claim-tag-topicbg;\r\n  border-top-right-radius: 3px;\r\n  border-bottom-right-radius: 3px;\r\n}\r\n.RIGHT-topic.card-content .item-link > a:hover,\r\n.analysis-link > a:hover > .topic,\r\n#company-and-topic  .topic-name:hover {\r\n  background: $claim-tag-topicbg-hover;\r\n}\r\n\r\n.card-content .item-link > a.wanted-card {\r\n  background: $claim-tag-notexist;\r\n  border-top-left-radius: 3px;\r\n  border-bottom-left-radius: 3px;\r\n  color: $wanted-card-color;\r\n  &:hover{\r\n    background: $claim-tag-notexist-hover;\r\n  }\r\n}\r\n\r\n\r\n#main > .TYPE-claim {\r\n  > .card-header {\r\n    background-color: #fff;\r\n  }\r\n  .source-side {\r\n    border-right: 1px solid $div-border-color;\r\n  }\r\n}\r\n\r\n\r\n.RIGHT-tag,\r\n.RIGHT-year {\r\n  &.labeled-view {\r\n    font-size: 0.9em;\r\n    color: #aaa;\r\n    .card-content a {\r\n      color: #aaa;\r\n      font-style: italic;\r\n    }\r\n  }\r\n  &.missing-view,\r\n  &.labeled-view {\r\n    label,\r\n    .card-content a,\r\n    a.missing-labeled {\r\n      text-align: left;\r\n      min-width: 30px;\r\n    }\r\n  }\r\n}\r\n\r\n.TYPE-claim.card-content .source-side > .RIGHT-tag {\r\n  margin-top: 20px;\r\n}\r\n\r\n#main > .SELF-topic,\r\n#main > .SELF-company {\r\n  > .card-content {\r\n    .pointer-item,\r\n    .search-result-item {\r\n      display: inline-block;\r\n      min-width: 130px;\r\n      width: 17%;\r\n      padding: 10px 1%;\r\n      float:left;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-labeled_source_frame {\r\n  label {\r\n    display: inline-block;\r\n    padding-right: 10px;\r\n    float: left;\r\n  }\r\n  .RIGHT-title {\r\n    display: inline-block;\r\n    font-size: 1.2em;\r\n    line-height: 1.2em;\r\n  }\r\n  em {\r\n    float: right;\r\n  }\r\n  .pointer-list,\r\n  .pointer-item {\r\n    display: inline;\r\n    padding-left: 0;\r\n  }\r\n}\r\n.comment-box {\r\n  background: inherit;\r\n}\r\n.cited-claim-number {\r\n  float: left;\r\n  padding: 1px 8px;\r\n  border-radius: 10px;\r\n  -border-radius: 10px;\r\n  font-size: 0.8em;\r\n  margin: 15px 10px 0 0;\r\n  background: #03998d;\r\n  color: white;\r\n}\r\n.claim-clipboard {\r\n  float: left;\r\n  margin: 15px 10px 0 0;\r\n  padding: 4px;\r\n  color: #03998d;\r\n  background: white;\r\n\r\n}\r\n\r\n.TYPE-analysi.card-content {\r\n  .search-no-results {\r\n    display: none;\r\n  }\r\n  > .search-result-list {\r\n    padding: 0;\r\n  }\r\n  .side-by-side {\r\n    text-align: center;\r\n    padding: 0px;\r\n    margin-bottom: 20px;\r\n    .company-link {\r\n      float: left;\r\n    }\r\n    .topic-link {\r\n      float: right;\r\n    }\r\n    .TYPE-image {\r\n      display: inline-block;\r\n      padding: 10px;\r\n      border-radius: 2px;\r\n      -moz-border-radius: 2px;\r\n      border: 0px solid #EDEDED;\r\n    }\r\n    img {\r\n        max-height: 130px;\r\n    }\r\n    .analysis-name {\r\n      font-size: 1.4em;\r\n      line-height: 1.6em;\r\n    }\r\n    .analysis-joint {\r\n      font-size: 0.8em;\r\n    }\r\n  }\r\n  > .source-side {\r\n    > h1 {\r\n      margin-top: 40px;\r\n      padding: 0;\r\n    }\r\n    > .TYPE-search > .card-content {\r\n      padding-left: 3%;\r\n    }\r\n  }\r\n  .RIGHT-right_sidebar.card-content {\r\n    > h1 {\r\n      padding: 0;\r\n    }\r\n    > h2 {\r\n      font-weight: normal;\r\n      font-size: 1em;\r\n      padding: 0 0 15px 3%;\r\n    }\r\n    > .card-content  {\r\n      padding-bottom: 25px;\r\n    }\r\n  }\r\n}\r\n\r\n.RIGHT-right_sidebar .source-title {\r\n  display: block;\r\n  padding: 3px 0 3px 5%\r\n}\r\n.RIGHT-wikirate_source .content-editor select {\r\n  height: 200px;\r\n}\r\n\r\n.STRUCTURE-website_summary.titled-view {\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid $div-border-color;\r\n  margin-bottom: 20px;\r\n  > .card-content {\r\n    padding-left: 5%;\r\n  }\r\n  .RIGHT-page {\r\n    > h1 {\r\n      font-size: 0.8em;\r\n    }\r\n    padding-left: 5%;\r\n    .search-result-item {\r\n      line-height: 2em;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.SELF-company_comparison.card-content {\r\n  table {\r\n    width: 100%;\r\n  }\r\n  th {\r\n    padding: 5px 1%;\r\n  }\r\n  td {\r\n    padding: 5px 2%;\r\n    width: 50%\r\n  }\r\n  > div {\r\n    width: 46%;\r\n    padding: 5px 2%;\r\n  }\r\n  .left-side {\r\n    float: left;\r\n  }\r\n  .right-side {\r\n    float: right;\r\n  }\r\n\r\n}\r\n\r\n.closed-content label {\r\n  display: inline;\r\n}\r\n\r\n.TYPE_PLUS_RIGHT-company-label img {\r\n  margin: 0 2px 5px 0;\r\n  border-radius: 4px;\r\n  -moz-border-radius: 4px;\r\n}\r\n.ui-widget-content a{\r\n  color:#279\r\n}\r\n//'make a claim' button in source page\r\n.TYPE-page .source-side .internal-link{\r\n  padding: 7px 6px 4px 6px !important;\r\n}\r\n//To hide 'make a claim' in new and edit source page. It is not required there.\r\n.TYPE-page.new-view .source-side .internal-link, .TYPE-page.edit-view .source-side .internal-link{\r\n  display:none;\r\n}\r\n\r\n\r\nfieldset {\r\n > .button-area,\r\n > .editor,\r\n > legend,\r\n > legend > .instruction {\r\n   float: none;\r\n   text-align: left;\r\n   display:inline-block;\r\n   width: 90%;\r\n   padding: 0 5%;\r\n  position:relative;\r\n\r\n>p {\r\n  display: none;\r\n  position: absolute;\r\n  left: 18px;\r\n  opacity: 0.8;\r\n  top: 50%;\r\n  margin-top: -18px;\r\n  margin-left: 8px;\r\n  width: auto;\r\n  color: #FFFFFF;\r\n  background: #000000;\r\n  padding: 5px;\r\n  text-align: center;\r\n  border-radius: 3px;\r\n  font-size: 0.8em;\r\n  z-index:1;\r\n      &:after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          right: 100%;\r\n          margin-top: -8px;\r\n          width: 0;\r\n          height: 0;\r\n          border-right: 8px solid #000000;\r\n          border-top: 8px solid transparent;\r\n          border-bottom: 8px solid transparent;\r\n          }\r\n        }\r\n  }\r\n > legend\r\n   h2{\r\n     display:inline;\r\n   }\r\n > legend > .instruction {\r\n   padding: 4px 0;\r\n   width: 70%;\r\n }\r\n}\r\n\r\n// To divide source and meta sides of content in Company, Claim, Topic , Analysis and Source pages\r\n.source-side, .meta-side{\r\nfloat: left;\r\npadding: 0;\r\nmargin-left: 2.5%;\r\n}\r\n\r\n.TYPE-analysi .source-side{\r\n  width: 63% !important;\r\n}\r\n.TYPE-analysi .meta-side{\r\n  width:30% !important;\r\n}\r\n\r\n.TYPE-analysi .source-side,.TYPE-company .source-side,.TYPE-topic .source-side{\r\nwidth: 70%;\r\nborder-right: 1px solid $div-border-color;\r\npadding-right: 20px;\r\n  .ui-tabs{\r\n    border:0;\r\n  }\r\n}\r\n.TYPE-analysi .meta-side,.TYPE-company .meta-side,.TYPE-topic .meta-side{\r\nwidth: 22%;\r\n}\r\n.SELF-source,\r\n.TYPE-claim\r\n {\r\n  .creator-credit{\r\n    text-align:center;\r\n    .search-result-list{\r\n      display:inline-block;\r\n    }\r\n  }\r\n .preview-visit-link{\r\n    float:right;\r\n  }\r\n  .remove-source{\r\n    display:none;\r\n    float:right;\r\n    cursor:pointer;\r\n  }\r\n}\r\n.TYPE-claim .source-side,\r\n.TYPE-page .source-side {\r\n  width: 45%;\r\n  margin-left: 2.5%;\r\n  padding-right: 2.5%;\r\n}\r\n.TYPE-claim .meta-side, .TYPE-page .meta-side {\r\n  width: 44.5%;\r\n  position: static;\r\n  > .card-slot {\r\n    margin: 20px 0;\r\n  }\r\n  > .RIGHT-source > .card-header {\r\n      margin-top: 0;\r\n    }\r\n  }\r\n\r\n\r\n.sourcebox > input {\r\n  width:100%;\r\n}\r\n/* .TYPE-claim .meta-side .RIGHT-source, */\r\n\r\n\r\n.sourcebox {\r\n  background: #FAFAFA;\r\n  display: inline-block;\r\n  height: 66px;\r\n  width: 96%;\r\n  padding: 12px;\r\n  > button {\r\n    float: right;\r\n    margin: 11px 0px;\r\n  }\r\n}\r\n\r\n.TYPE-claim, .TYPE-page {\r\n  .sourceErrorMsg{\r\n    color: red;\r\n    font-size: 0.7em;\r\n    float: left;\r\n    margin-top: 8px;\r\n  }\r\n  .addSourceLoader{\r\n    font-size: 0.7em;\r\n    float: left;\r\n    color:$anchor_color;\r\n  }\r\n}\r\n\r\n.preview-view.TYPE-page{\r\n  overflow: hidden;\r\n}\r\n.STRUCTURE-source_preview, .STRUCTURE-source_summary {\r\n  background: #fafafa;\r\n  margin: 12px 0px;\r\n  padding: 4px 20px;\r\n  .preview-page-link {\r\n    font-weight: bold;\r\n    padding: 3px 0;\r\n    display: block;\r\n  }\r\n  .RIGHT-description {\r\n    font-size: 0.9em;\r\n    margin-top: 3px;\r\n  }\r\n  img {\r\n    width: 100px;\r\n    max-height: 100px;\r\n    max-width: 20%;\r\n    width: auto;\r\n    height: auto;\r\n    background-color: #eee;\r\n    border: 0 !important;\r\n    float: left;\r\n    margin: 5px 3% 0 0;\r\n  }\r\n  .preview-visit-link {\r\n    clear: both;\r\n  }\r\n}\r\n\r\n//////\r\n\r\n\r\n\r\n\r\n.RIGHT-compare_link.card-content,\r\n.STRUCTURE-compare_link {\r\n  &.card-content.content-view {\r\n    display: inline;\r\n    a {\r\n      background: $button-color;\r\n      font-size: 10px;\r\n      padding: 3px 5px;\r\n      margin-left: 10px;\r\n      color: white;\r\n      border-radius: 3px;\r\n      -moz-border-radius: 3px;\r\n    }\r\n  }\r\n}\r\n\r\n@media all and (max-width: 1280px) and (min-width: 1024px) {\r\nbody>.SELF-wikirate_footer > .consortium-logo-container {\r\nwidth: 102%;\r\n}\r\n}\r\n\r\n.consortium-logo-container .TYPE-image.card-content img {\r\nmax-width: 100%;\r\nmax-height: 55px;\r\n}\r\n\r\n#social-icons a {\r\n display: inline-block;\r\n}\r\n\r\n.claim-counting {\r\n float: right;\r\n margin-right: 6%;\r\n}\r\n\r\n.RIGHT-company > div> select {\r\n width: 40%;\r\n}\r\n.RIGHT-topic > div> select {\r\n width: 40%;\r\n}\r\n.claim_p_disclosure_link{\r\nmargin-left: 7.5%;\r\nmargin-bottom: 26px;\r\nfloat: left;\r\ndisplay:none;\r\ncolor:$anchor_color;\r\ncursor:pointer;\r\n}\r\n\r\n.RIGHT-company,fieldset.company {\r\n >div>div>.chosen-choices li.search-choice {\r\nbackground: #d3741c;\r\nborder: none;\r\nbox-shadow: none;\r\ncolor: #fff;\r\npadding: 7px 8px 8px 6px;\r\n}\r\n}\r\n\r\n.RIGHT-topic,fieldset.topic  {\r\n>div>div>.chosen-choices li.search-choice {\r\nbackground: #2b7ea0;\r\nborder: none;\r\nbox-shadow: none;\r\ncolor: #fff;\r\npadding: 7px 8px 8px 6px;\r\n}\r\n}\r\n\r\nfieldset.tag  {\r\n>div>div>.chosen-choices li.search-choice {\r\nbackground: #03998D;\r\nborder: none;\r\nbox-shadow: none;\r\ncolor: #fff;\r\n}\r\n}\r\n\r\nfieldset.company, fieldset.topic, fieldset.tag {\r\n  >div>div>.chosen-choices li.search-choice {\r\n    padding: 3px 6px 3px 5px;\r\n    font-size: 0.9em;\r\n  }\r\n}\r\n\r\n.claim-tip{\r\nbackground: #FFF9B3;\r\ntext-align: center;\r\npadding: 8px;\r\nposition: relative;\r\nspan{\r\nposition: absolute;\r\nright: 2px;\r\ntop: 2px;\r\ncursor:pointer;\r\n}\r\n}\r\n.claim-clipboard {\r\n cursor:pointer;\r\n}\r\n\r\n//Chosen tweak to adjust height\r\n.chosen-container .chosen-results {\r\n    max-height:100px !important;\r\n}\r\n\r\n.modal-window{\r\n  display:none;\r\n}\r\n\r\n\r\n/*\r\nStyle for signup success modal window content\r\n*/\r\n#signup-success-msg {\r\n  text-align:center;\r\n  .headingTxt{\r\n  color:#000;\r\n  font-size: 1.3em;\r\n  margin-bottom: 18px;\r\n  }\r\n  .footNote{\r\n    color: #C4C4C4;\r\n    font-size: 0.8em;\r\n    margin-top: 18px;\r\n  }\r\n}\r\n.ui-tooltip {\r\n    background: #000000;\r\n    border-radius: 6px;\r\n    color: white;\r\n    border: none;\r\n    padding: 0;\r\n    opacity: 1;\r\n}\r\n.ui-tooltip-content {\r\n    position: relative;\r\n    padding: 1em;\r\n}\r\n.ui-tooltip-content::after {\r\n    content: '';\r\n    position: absolute;\r\n    border-style: solid;\r\n    display: block;\r\n    width: 0;\r\n}\r\n.ui-tooltip-content::after {\r\n    top: 18px;\r\n    left: -10px;\r\n    border-color: transparent #000000;\r\n    border-width: 10px 10px 10px 0;\r\n}\r\n\r\n.suggested-source{\r\n//max-height:200px\r\n}\r\n.TYPE-user {\r\n  > .card-header {\r\n    background-color: #fff;\r\n  }\r\n  >.card-body {\r\n    min-height: 500px;\r\n  }\r\n  .user-profile-left {\r\n    width: 220px;\r\n    display: inline-block;\r\n    float: left;\r\n    border-right: 1px solid $div-border-color;\r\n    .TYPE-image {\r\n      float: left;\r\n      margin: 0px 0px 22px 24px;\r\n      padding: 0;\r\n      height: auto;\r\n      width: 65%;\r\n      border: 8px solid #EEE;\r\n      overflow:hidden;\r\n      img {\r\n        max-width: 100%;\r\n        margin-bottom: -5px;\r\n      }\r\n    }\r\n  }\r\n  .join-date {\r\n    text-align: center;\r\n  }\r\n  .user-profile-right {\r\n    width: 75%;\r\n    padding-left: 10px;\r\n    float: left;\r\n  }\r\n  .user-profile-right-top {\r\n    min-height: 150px;\r\n    >span {\r\n      font-size: 1.5em;\r\n    }\r\n    .location {\r\n      >span {\r\n        float: left;\r\n        line-height: 1.5em;\r\n      }\r\n      font-size:0.8em;\r\n    }\r\n  }\r\n  .user-profile-right-bottom-contribution {\r\n    width: 50%;\r\n    float: left;\r\n    >h1 {\r\n      margin-top: 1em;\r\n      border-bottom: 1px solid $div-border-color;\r\n      padding: 1px 0;\r\n    }\r\n    .ui-widget-content {\r\n      border-style: none;\r\n    }\r\n  }\r\n\r\n  .TYPE_PLUS_RIGHT-user-discussion.titled-view{\r\n    width: 45%;\r\n    float: right;\r\n    h1 {\r\n      border-bottom: 1px solid $div-border-color;\r\n    }\r\n  }\r\n  .related-card-count {}\r\n  .TYPE_PLUS_RIGHT-user-following {\r\n    >h1 {\r\n      border-bottom: 1px solid $div-border-color;\r\n    }\r\n    .user-following-title {\r\n      font-size: 1.5em;\r\n      border-bottom: 1px solid $div-border-color;\r\n      font-weight: bold;\r\n      display: block;\r\n      padding-top: 20px;\r\n    }\r\n    .search-result-item {\r\n      margin: 6px;\r\n      background: #FAFAFA;\r\n      padding: 10px;\r\n    }\r\n    float:left;\r\n    width:100%;\r\n  }\r\n  .change-view {\r\n    width: 100%;\r\n    display: inline-block;\r\n    .item-name {\r\n      float: left;\r\n      width: 75%;\r\n    }\r\n    .last-edit {\r\n      text-align: right;\r\n      float: right;\r\n      width: 25%;\r\n    }\r\n  }\r\n  #tabs {\r\n    min-height: 300px;\r\n  }\r\n  .empty-profile-tab {\r\n    padding-top: 25%;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n#after-irrelevant-options {\r\n  span{\r\n    float: left;\r\n    clear: both;\r\n    margin: 15px 0px;\r\n  }\r\n  .create-submit-button {\r\n    float: left;\r\n  }\r\n}\r\n\r\n#after-irrelevant-options,.LTYPE_RTYPE-company-topic{\r\n  .STRUCTURE-source_link_preview, .suggested-source-item{\r\n    display: inline-block;\r\n    width: 95%;\r\n    min-height: 60px;\r\n    background: #F3F3F3;\r\n    padding: 6px;\r\n    border: 1px solid #E4E4E4;\r\n    &:hover{\r\n      background: #F0F0F0;\r\n    }\r\n  }\r\n  .source-link-image{\r\n    width: 3.4vw;\r\n    height: 3.4vw;\r\n    float: left;\r\n    background: #FFF;\r\n    padding: 0%;\r\n    overflow: hidden;\r\n    >img{\r\n      max-width: 200%;\r\n      // max-height: 100%;\r\n    }\r\n  }\r\n  .source-link-title{\r\n    float: left;\r\n    width: 75%;\r\n    padding-left: 10px;\r\n  }\r\n}\r\n\r\n\r\n#source-preview-page-layout {\r\n  #main{\r\n    padding: 0px 0%;\r\n    max-width: none;\r\n  }\r\n  #logo-bar{\r\n    padding: 0px 0%;\r\n    float: left;\r\n    width: 100%;\r\n    background-color:white;\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n    position: relative;\r\n    height: 53px;\r\n    .top-bar-icon{\r\n      float: left;\r\n     padding: 6px;\r\n    }\r\n  }\r\n  .ui-draggable {\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n  }\r\n\r\n  #source_preview_page{\r\n    overflow:hidden;\r\n  }\r\n  div.ui-tooltip {\r\n    max-width: 400px;\r\n  }\r\n  .TYPE-claim{\r\n    .source-side\r\n    {\r\n      width:100%;\r\n      padding-right: 0;\r\n      margin-left: 0;\r\n    }\r\n  }\r\n  #company-and-topic-detail-link{\r\n    border-left: 1px solid #f1f1f1;\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 0px;\r\n    height: 100%;\r\n    color: #ccc;\r\n    width: 45px;\r\n    i{\r\n      padding-top: 19px;\r\n    }\r\n    &:hover{\r\n       background:#f3f3f3;\r\n       color:#acacac;\r\n    }\r\n  }\r\n\r\n  #claim-success{\r\n    a,span{\r\n      float: left;\r\n      margin: 3px;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .no-dropdown{\r\n    display: none;\r\n  }\r\n  #company-and-topic{\r\n      float: right;\r\n      text-align: center;\r\n      padding: 14px 50px 14px 14px;\r\n      background: #fafafa;\r\n      border-left: 1px solid #f1f1f1;\r\n      border-right: 1px solid #f1f1f1;\r\n      position: relative;\r\n    .company-name,\r\n    .topic-name{\r\n      display: inline-block;\r\n      margin:0px 6px;\r\n    }\r\n  }\r\n  .menu-options{\r\nfloat: right;\r\nwidth: 40%;\r\nmin-height: 52px;\r\ntext-align: right;\r\n// margin: 16px 5px;\r\n    div{\r\n\r\n    }\r\n    #make-claim{\r\n      float:right;\r\n      padding-top: 8px;\r\n      margin-top: 8px;\r\n      a{\r\n        color: white;\r\n      }\r\n    }\r\n    #source-page-link{\r\n      float:right;\r\n      width:auto;\r\n      padding: 0px 0px 0px 20px;\r\n      a{\r\n        padding: 15px 12px;\r\n        background: #fafafa;\r\n        border: 1px solid#f1f1f1;\r\n        color: #afafaf;\r\n        text-decoration: none;\r\n        width:auto;\r\n        &:hover{\r\n          background: #f3f3f3;\r\n          color: #acacac;\r\n        }\r\n      }\r\n    }\r\n    #source-page-button{\r\n      float:left;\r\n      width: 100%;\r\n    }\r\n    #direct-link-button{\r\n      float:left;\r\n      width: 100%;\r\n    }\r\n    #mark-relevant, #mark-irrelevant {\r\n      float: right!important;\r\n      margin: 16px 3px;\r\n      }\r\n    #claim-count{\r\n      float:right;\r\n      padding:12px;\r\n    }\r\n  }\r\n   #irrelevant-options {\r\n      a{\r\n        color: #fff;\r\n        text-decoration: none;\r\n      }\r\n      div{\r\n        float: left;\r\n        clear: both;\r\n        margin: 3px;\r\n      }\r\n    }\r\n  .webpage-preview{\r\n    float: left;\r\n    background: white;\r\n    width: 100%;\r\n    iframe{\r\n      width: 100%;\r\n      height: 100%;\r\n      border: 0;\r\n      outline: 0;\r\n    }\r\n  }\r\n  .redirect-notice{\r\n    width: 100%;\r\n    text-align: center;\r\n    padding-top: 20%;\r\n  }\r\n/*\r\n\r\nHenry, get rid of me!!!\r\n  .new-claim-button{\r\n    .create-submit-button{\r\n    width: 100%;\r\n    height: 30px;\r\n    margin-top: 14px;\r\n    }\r\n  }\r\n*/\r\n}\r\n.readmore-js-toggle{\r\n  float:right;\r\n}\r\n.card-editor #source-preview-link{\r\n  display:none;\r\n}\r\n\r\n\r\n.right-sidebar-button{\r\n  div{\r\n    display: inline-block;\r\n  }\r\n  i{\r\n    float: right;\r\n  }\r\n}\r\n.closed-content #tabs {\r\n  display: none !important;\r\n}\r\n\r\n.TYPE-topic .page-heading{\r\n  margin-top: 35px !important;\r\n}\r\n\r\n.TYPE-topic,\r\n.TYPE-company{\r\n  .TYPE_PLUS_RIGHT-search-Xcount{\r\n    display: inline;\r\n  }\r\n .source-side>.RIGHT-logo {\r\n   height: 60px;\r\n   overflow: hidden;\r\n  }\r\n  .empty-tab {\r\n    padding-top: 15%;\r\n    text-align: center;\r\n  }\r\n  #tabs{\r\n    min-height: 300px;\r\n    li{\r\n      .TYPE_PLUS_RIGHT-search-Xcount{\r\n        display: inline-flex;\r\n        background: #909090;\r\n        text-align: center;\r\n        padding: 2px 6px;\r\n        border-radius: 10px;\r\n        -moz-border-radius: 10px;\r\n        -webkit-border-radius: 10px;\r\n        font-size: 0.8em;\r\n        margin-right: 5px;\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n  .subtitle-header{\r\n    float: left;\r\n    padding-right: 6px;\r\n  }\r\n\r\n  .page-main-content{\r\n    margin-top: 18px;\r\n    float: left;\r\n  }\r\n\r\n  .page-heading{\r\n    margin-bottom: 14px;\r\n    border-bottom: 1px solid $div-border-color;\r\n    margin-top: 18px;\r\n    h1{\r\n      padding:1px 0px;\r\n    }\r\n  }\r\n\r\n\r\n.titled_with_edit-view.TYPE_PLUS_RIGHT-company-about,.titled_with_edit-view.TYPE_PLUS_RIGHT-topic-about{\r\n  display:inline;\r\n}\r\n\r\n  .TYPE_PLUS_RIGHT-company-Xeditor,\r\n  .TYPE_PLUS_RIGHT-analysi-Xeditor,\r\n  .TYPE_PLUS_RIGHT-basic-Xeditor,{\r\n    float: left;\r\n\r\n    .search-result-list{\r\n      padding: 0px 0px 0px 0px;\r\n      .search-result-item{\r\n        display: inline;\r\n        float: left;\r\n        padding-right: 6px;\r\n      }\r\n    }\r\n  }\r\n  .TYPE-search.RIGHT-analysis_with_article,\r\n  .TYPE_PLUS_RIGHT-company-analysis_needing_article,\r\n  .TYPE_PLUS_RIGHT-company-analysis_needing_claim,\r\n  .TYPE_PLUS_RIGHT-company-analysis_needing_source,\r\n  .TYPE_PLUS_RIGHT-topic-analysis_needing_article,\r\n  .TYPE_PLUS_RIGHT-topic-analysis_needing_claim,\r\n  .TYPE_PLUS_RIGHT-topic-analysis_needing_source,\r\n          {\r\n            .search-result-item.item-content {\r\n              background: #fafafa;\r\n              padding: 0px 12px;\r\n              border: 1px solid #F3F3F3;\r\n              margin-bottom: 14px;\r\n          }\r\n      }\r\n  .TYPE_PLUS_RIGHT-company-analysis_with_article {\r\n    .search-result-list:nth-of-type(1){\r\n      .search-result-item{\r\n        // background: #F3F3F3;\r\n        // margin: 10px 2px 10px;\r\n        // padding: 0px 8px 0px 8px;\r\n        // font-size: 0.8em;\r\n      }\r\n    }\r\n  }\r\n  .TYPE_PLUS_RIGHT-topic-analysis_needing_article,\r\n  .TYPE_PLUS_RIGHT-topic-analysis_needing_claim,\r\n  .TYPE_PLUS_RIGHT-topic-analysis_needing_source,\r\n  .TYPE_PLUS_RIGHT-company-analysis_needing_article,\r\n  .TYPE_PLUS_RIGHT-company-analysis_needing_claim,\r\n  .TYPE_PLUS_RIGHT-company-analysis_needing_source{\r\n    overflow:hidden;\r\n    .search-result-item{\r\n        width: 310px;\r\n        float: left;\r\n        display: inline-block;\r\n        padding: 11px 10px !important;\r\n        height: 53px;\r\n        margin: 2px 18px 10px 0px;\r\n\r\n    }\r\n    .search-result-list{\r\n      float:left;\r\n    }\r\n    .paging{\r\n      display: block;\r\n      clear: both;\r\n    }\r\n    .TYPE_PLUS_RIGHT-company-logo{\r\n      float: left;\r\n      background: #fff;\r\n      overflow: hidden;\r\n      height: 42px;\r\n      width: 58px;\r\n      padding: 6px;\r\n      border: 1px solid #f0f0f0;\r\n      text-align: center;\r\n    }\r\n    .TYPE_PLUS_RIGHT-topic-image{\r\n      float: left;\r\n      background: #2F2F2F;\r\n      overflow: hidden;\r\n      height: 54px;\r\n      border: 1px solid #f0f0f0;\r\n    }\r\n    h1{\r\n      clear: left;\r\n      display: inline;\r\n    }\r\n    .RIGHT-claim{\r\n        float: left;\r\n        width: 68%;\r\n        margin: 0px 10px;\r\n      a{\r\n        float: left;\r\n        width:100%;\r\n        height: 40px;\r\n      }\r\n      .RIGHT-count{\r\n        float: left;\r\n      }\r\n      .RIGHT-attr{\r\n        font-size:0.8em;\r\n        a{\r\n          float:right;\r\n          width:auto;\r\n          i{\r\n            margin-right:4px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .TYPE_PLUS_RIGHT-topic-analysis_with_article,\r\n  .TYPE_PLUS_RIGHT-company-analysis_with_article {\r\n    .TYPE_PLUS_RIGHT-company-about,\r\n    .TYPE_PLUS_RIGHT-analysi-article{\r\n      width: 100%;\r\n      max-height: 150px;\r\n      overflow: hidden;\r\n       padding-left: 0;\r\n    }\r\n    .analysis-blurb-content .analysis-article{\r\n      font-size: 0.8em;\r\n      color: #777;\r\n    }\r\n    .topic-image{\r\n        width: 22%;\r\n        float: left;\r\n        padding-right: 16px;\r\n    }\r\n    .analysis-header{\r\n      float: left;\r\n      width: 100%;\r\n      height:36px;\r\n      h1{\r\n        display: inline;\r\n        float: left;\r\n        width: auto;\r\n      }\r\n      .claim-value{\r\n        float: right;\r\n        width: 135px;\r\n        text-align: right;\r\n        font-size:0.8em;\r\n      }\r\n    }\r\n    .analysis-blurb-content{\r\n      width: 75%;\r\n      float: left;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n.edits-by{\r\n  border-bottom: 1px solid $div-border-color;\r\n  font-size: 0.8em;\r\n  .subtitle-header{\r\n    float: left;\r\n    padding-right: 6px;\r\n  }\r\n\r\n}\r\n\r\n\r\n.TYPE_PLUS_RIGHT-claim-Xvote_count {\r\npadding: 5px 5px 5px 5px;\r\n}\r\n\r\n.TYPE_PLUS_RIGHT-claim-Xvote_count.content-view {\r\nmargin-top: 10px;\r\n}\r\n\r\n.RIGHT-Xvote_count.content-view {\r\nfloat: left;\r\n}\r\n\r\n.vote-button, .vote-button:hover {\r\n  border: solid 1px #ccc; border-radius:0; padding: 0; margin: 0;\r\n  margin-right: 5px;\r\n  width: 30px;\r\n  height: 30px;\r\n  background: none;\r\n  font-size: 6px;\r\n  text-align: center;\r\n  font-weight: normal;\r\n}\r\n\r\n.vote-link {\r\n  color: #888; background-color: #eee;\r\n}\r\n.disabled-vote-link, .disabled-vote-link:hover {\r\n  color: #fff; background-color: #bbb;\r\n}\r\n\r\n.vote-count {\r\n  color: #555;\r\n  width: 30px;\r\n  height: 25px;\r\n  text-align: center;\r\n  padding-top: 4px;\r\n  font-weight: bold;\r\n}\r\n\r\n.vote-details {\r\n  color: #bbb;\r\n  font-size: 14px;\r\n  padding-top: 7px;\r\n}\r\n.vote-number {\r\n  font-weight: bold;\r\n}\r\n\r\n.STRUCTURE-source_item .last-update, .STRUCTURE-claim_item .last-update {\r\n color: #ccc;\r\n font-size: 12px;\r\n}\r\n\r\n\r\n.STRUCTURE-source_item .last-update {\r\n float: left;\r\n margin-top: 5px;\r\n}\r\n\r\n.STRUCTURE-source_item .item-content,\r\n.STRUCTURE-claim_item .item-content{\r\n  padding: 5px;\r\n  margin-left: 40px;\r\n  overflow: hidden;\r\n}\r\n\r\n.STRUCTURE-claim_item,\r\n.STRUCTURE-source_item {\r\n  &.card-content .missing-view {\r\n      display: none;\r\n  }\r\n}\r\n\r\n.STRUCTURE-claim_item .item-content {\r\n  background: #fff;\r\n}\r\n\r\n.header-vote {\r\n    border-right: solid 1px #eee;\r\n    float: left;\r\n    margin-right: 10px;\r\n    padding: 10px;\r\n}\r\n.header-citation {\r\n  float: right;\r\n  padding: 10px 1.5% 25px 1.5%;\r\n  border-left: 1px solid #eee;\r\n  margin-left: 1%;\r\n  .TYPE_PLUS_RIGHT-claim-citation_count.titled-view {\r\n    cursor : pointer;\r\n    .card-header {\r\n      font-size: 1.2em;\r\n      padding: 5px 10px;\r\n      line-height: 1.2em;\r\n    }\r\n    .card-body {\r\n      padding: 15px;\r\n      font-size: 2em;\r\n    }\r\n  }\r\n}\r\n.header-title {\r\n    padding: 0 10px;\r\n    text-align: center;\r\n }\r\n.clear-line {\r\n    clear: both;\r\n    border-bottom: solid 1px #eee;\r\n }\r\n\r\n.item-summary {\r\n   a.source-preview-link {\r\n    color: #BA8A3C;\r\n  }\r\n    i.fa-long-arrow-right {\r\n      color: #FFCF66;\r\n    }\r\n .TYPE-page{\r\n  overflow:inherit;\r\n  }\r\n}\r\n.STRUCTURE-source_item,\r\n#claim-count {\r\n  margin-bottom: 20px;\r\n  padding: 0 3%;\r\n  padding: 3px 3% 8px;\r\n  border-bottom: 1px solid #eee;\r\n  .vote-button, .vote-button:hover, .vote-count {\r\n  width: 25px;\r\n  height: 25px;\r\n  }\r\n  .vote-count {\r\n  width: 25px;\r\n  height: 20px;\r\n  padding-top: 0;\r\n  }\r\n  .item-content {\r\n    background: #FFFEFA;\r\n  }\r\n\r\n  .claim-count {\r\n    background-color: #f3f3f3;\r\n    padding: 5px;\r\n    float: right;\r\n    overflow: hidden;\r\n    color: #aaa;\r\n    margin-right: 2px;\r\n  }\r\n  .SELF-source_icon3 {\r\n    float: left;\r\n  }\r\n  .SELF-source_icon3 img {\r\n    background-color: inherit;\r\n    opacity: 0.5;\r\n  }\r\n  .item-summary {\r\n    margin-left: 40px;\r\n   > div {\r\n     .show-link-in-popup{\r\n         float:right;\r\n       }\r\n      div {\r\n        display: inline;\r\n         .pointer-item.item-name {\r\n    padding-left: 0;\r\n         }\r\n      }\r\n   }\r\n  }\r\n}\r\n\r\n.TYPE_PLUS_RIGHT-claim-citation_count.titled-view {\r\n   float: right;\r\n   cursor : pointer;\r\n   margin-top: 15px;\r\n   color: #fff;\r\n   text-align: center;\r\n   background-color: #03998D;\r\n   > h1.card-header {\r\n   padding: 5px;\r\n   font-size: 10px;\r\n   border-bottom: solid 1px #fff;\r\n   margin-top: 0;\r\n   line-height: 0.9em;\r\n   color: #fff;\r\n  }\r\n\r\n\r\n\r\n  .card-body {\r\n  padding: 3px;\r\n  font-size: 1.4em;\r\n}\r\n}\r\n\r\n.TYPE_PLUS_RIGHT-claim-citation_count.no-citations {\r\n    background-color: #BA5B5B;\r\n}\r\n\r\n\r\n .STRUCTURE-source_item .last-edit {\r\n      margin-bottom: 10px;\r\n      color: #adadad;\r\n      font-size: 12px;\r\n     .item-link{\r\n       padding-left:0px;\r\n  }\r\n}\r\n\r\n.STRUCTURE-claim_item {\r\n    margin: 0 0 5px 0px;\r\n    border-bottom: 1px solid #eee;\r\n    font-size: 0.8em;\r\n    padding: 0px 3%;\r\n    div.last-edit {\r\n      margin-left: 18px;\r\n      margin-bottom: 10px;\r\n      color: #adadad;\r\n      font-size: 12px;\r\n      .item-link{\r\n        padding-left: 0px;\r\n       }\r\n     }\r\n\r\n  .item-summary > div {\r\n    .fa {\r\n      padding-right: 5px;\r\n    }\r\n      #margin-left: 5%;\r\n      padding: 2px 0;\r\n      #text-indent: -3%;\r\n      div {\r\n        display: inline;\r\n      }\r\n    .RIGHT-source .source-title {\r\n      font-style: italic;\r\n    }\r\n    }\r\n .claim-sourcelink {\r\n   white-space: nowrap;\r\n   overflow: hidden;\r\n   text-overflow: ellipsis;\r\n   .card-content {\r\n     white-space: nowrap;\r\n   }\r\n   .pointer-item.item-name {\r\n     padding-left: 0;\r\n   }\r\n }\r\n .claim-tag {\r\n    .pointer-item, .search-result-item {\r\n       text-indent: 10px;\r\n       margin: 0;\r\n       margin-right: 0px !important;\r\n       padding: 2px;\r\n      :after {\r\n        content: ' ';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.claim-next-action{\r\n  .internal-link{\r\n    color: red;\r\n    float: right;\r\n    text-decoration: underline;\r\n  }\r\n}\r\n\r\n\r\n.TYPE_PLUS_RIGHT-claim-related_article{\r\n  .company{\r\n    color: white;\r\n  }\r\n  .topic{\r\n    color: white;\r\n  }\r\n}\r\n#citation-popup-window{\r\n  .TYPE_PLUS_RIGHT-claim-related_article{\r\n    width: 100%;\r\n    .analysis-link{\r\n      width: 100%;\r\n      .claim-next-action{\r\n        float: right;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.titled_with_voting-view.STRUCTURE-claim_summary{\r\n  >i{\r\n    float: left;\r\n    padding-top: 2%;\r\n    padding-right: 6px;\r\n  }\r\n/*\r\n  .cited-claim-number\r\n  {\r\n    padding:1px 7px;\r\n    margin-top: 2%;\r\n    float : left;\r\n  }\r\n*/\r\n}\r\n\r\n.filter-search-form {\r\n clear: both;\r\n fieldset {\r\n    font-size: 0.8em;\r\n    float: left !important;\r\n    clear: none;\r\n\r\n    select {\r\n      max-width: 100%;\r\n      height: 25px;\r\n    }\r\n    input {\r\n      height: 23px;\r\n    }\r\n    .button-area {\r\n      margin-top:20px;\r\n      font-size: 1.2em;\r\n    }\r\n  }\r\n  fieldset.filter-input {\r\n      width: 250px;\r\n      input {\r\n        width: inherit;\r\n      }\r\n      li.search-field {\r\n       height: 23px;\r\n      }\r\n   }\r\n}\r\n\r\n.SELF-claim.card-content > .new-claim-button,\r\n.SELF-source.card-content > .new-source-button {\r\n   padding: 20px 0;\r\n   text-align: center;\r\n }\r\n\r\n.RIGHT-filter_search {\r\n clear: both;\r\n}\r\n\r\n.fa-quote-left, .fa-quote-right {\r\n   color: #bfbfbf;\r\n}\r\n\r\n.TYPE_PLUS_RIGHT-claim-related_article{\r\n  #close-tip{\r\n    display: none;\r\n  }\r\n}\r\n\r\n.TYPE-pointer.edit-view > .card-body {\r\n  overflow: visible;\r\n}\r\n\r\ninput.navbox {\r\n  font-family: FontAwesome;\r\n}\r\nli.pointer-li:before {\r\n  content: \"\\f142\";\r\n  font-family: \"FontAwesome\";\r\n  padding-right: 6px;\r\n  cursor: move;\r\n  color: rgb(199, 199, 199);\r\n  font-size: 0.9em;\r\n}\r\n.SELF-how_it_work.card-content .table-of-contents {\r\n  float: right;\r\n  max-width: 50%;\r\n  padding: 2px 3%;\r\n}\r\n\r\n.SELF-openelectronics15-article,\r\n.SELF-openfood14-article,\r\n.SELF-openfashion14-article\r\n{ \r\n.pointer-item.item-content {\r\nwidth: 17%;\r\ndisplay: inline-block;\r\npadding: 0.5%;\r\nfloat:left;\r\n}\r\n}\r\n"
      },
      {
        "name": "*all+*script",
        "type": "Pointer",
        "content": "[[script: jquery]]\n[[script: tinymce]]\n[[script: slot]]\n[[script: card menu]]\n[[script: jquery helper]]\n[[script: ace]]\n[[wikirate coffee]]\n[[chosen proto script]]\n[[chosen script]]\n[[claim chosen]]\n[[claim clipboard script]]\n[[zeroclipboard]]\n[[tooltip script]]\n[[modal window script]]\n[[user profile tab script]]\n[[readmore_script]]\n[[activate readmore script]]\n[[suggested source script]]\n[[empty tab content script]]\n[[source claim list script]]\n[[claim citation script]]\n[[script: filter search]]\n[[newPageJs]]\n[[newClaimJs]]\n[[homepage carousel init]]\n[[top bar shadow script]]\n[[slick js]]\n[[homepage ie8 handling script]]\n[[slick nav js]]\n[[mobile navigation js]]\n[[webpage source preview script]]"
      },
      {
        "name": "webpage source preview script",
        "type": "JavaScript",
        "content": "var pageName = \"\";\r\nvar url = \"\";\r\nvar decodedUrl = \"\";\r\nvar userId = \"\";\r\nvar company = \"\";\r\nvar topic = \"\";\r\nvar encodedCompany = \"\";\r\nvar encodedTopic = \"\";\r\nvar encodedUrl = \"\";\r\nvar loadingImageUrl = \"{{loading gif|source;size:large}}\";\r\nvar markedIrrelevant = false;\r\nfunction escapeHtml(string) {\r\n  return String(string).replace(/[&<>\"'\\/]/g, function(s) {\r\n    return entityMap[s];\r\n  });\r\n}\r\n\r\nfunction unescapeHtml(string) {\r\n  return $(\"<div/>\").html(string).text();\r\n}\r\n\r\nfunction testSameOrigin(testUrl) {\r\n  $.getJSON(\"Page.json?view=check_iframable&url=\" + testUrl, function(data) {\r\n    if (!data.result) { //remove iframe and show redirection message\r\n      $('#webpage-preview').html(\"\");\r\n      $redirectNotice = $(\"<div>\", {\r\n        \"class\": \"redirect-notice\"\r\n      });\r\n      $redirectNotice.append(\"This site blocks previews.<br/><a href='\" + decodeURIComponent(testUrl) + \"' target='_blank'>Visit original site</a><br /> <a href='#' id='noniframable-make-claim-button'>Make a claim</a>\");\r\n\r\n      $('#webpage-preview').append($redirectNotice);\r\n      $('#noniframable-make-claim-button').click(noniframableMakeClaimButtonClicked);\r\n    }\r\n  });\r\n\r\n}\r\nfunction getPopup(popupId)\r\n{\r\n  var $popupWindow = $('#'+popupId);\r\n  if($popupWindow.length==0){\r\n    $(\"#main\").prepend('<div id=\"'+popupId+'\" style=\"display:none;\"></div>');//create one\r\n    $popupWindow = $('#'+popupId);\r\n  }\r\n  return $popupWindow;\r\n}\r\nfunction enableMakeClaimButton() {\r\n  $(\"#make-a-claim-button\").removeAttr(\"disabled\");\r\n}\r\n//=====for claim ====\r\nvar makeClaimButtonOnClicked = function() {\r\n  var $img = $('<img id=\"make_claim_loading_image_div\">'); //Equivalent: $(document.createElement('img'))\r\n  $img.attr('src', loadingImageUrl);\r\n\r\n  $popupWindow = getPopup(\"claim-form\");\r\n\r\n  $makeClaimButton = $(this);\r\n  $makeClaimButton.attr(\"disabled\", \"disabled\");\r\n\r\n  //show loading dialog\r\n  if($popupWindow.html().trim().length==0)\r\n  {\r\n    $popupWindow.html($img);\r\n    //create the source, get the html in source preview structure\r\n    if(pageName == \"\")\r\n    {\r\n      sendFeedback(\"relevant\", function() {\r\n        createSource(sourceCreatedWithHtml, sourceCreatedFailCallback);\r\n      }, function(xhr, ajaxOptions, thrownError) {\r\n        if (xhr.responseText == \"Permission Denied\") {\r\n          showPermissionDenial(\"claim-form\");\r\n        } else {\r\n          showErrorMsg(xhr.responseText);\r\n        }\r\n        enableMakeClaimButton();\r\n      });\r\n    }else\r\n    {\r\n      createSource(sourceCreatedWithHtml, sourceCreatedFailCallback);\r\n    }\r\n\r\n  }\r\n  $popupWindow.dialog({\r\n    height: 'auto',\r\n    minWidth: 500,\r\n    position: {\r\n      of: $(\"#logo-bar\"),\r\n      my: \"right top\",\r\n      at: \"right bottom\",\r\n      collision: \"none none\"\r\n    },\r\n    title: '<i class=\"fa fa-arrows\"></i>',\r\n    closeOnEscape: false,\r\n    resizable: false\r\n  });\r\n}\r\nfunction handleSourceHtmlAndNewClaimHtml(sourceHtml, newClaimFormHtml) {\r\n\r\n  \r\n  var _sourceHtml = $(sourceHtml);\r\n  _sourceHtml.find(\".remove-source\").remove();\r\n  var html = $(newClaimFormHtml);\r\n\r\n  var $claimForm = $('#claim-form');\r\n  $claimForm.html(newClaimFormHtml);\r\n  $claimForm.find('.meta-side').remove();\r\n  $claimForm.find('.card-header').remove();\r\n  $claimForm.find('form:first').find('.create-cancel-button:first').on('click', function() {\r\n    $claimForm.empty();\r\n    $claimForm.dialog(\"close\");\r\n  });\r\n  $claimForm.prepend(_sourceHtml);\r\n  if($(\"#source-name\").html().trim().length==0)\r\n    $claimForm.prepend(\"<span>Source added.</span>\");\r\n\r\n  //handle comapny and topic name \r\n  if ($('.RIGHT-company select option[value=\"' + unescapeHtml(decodeURIComponent(company)) + '\"]').length == 0) { //add company to select\r\n    $companySelect = $('.RIGHT-company select');\r\n    $companySelect.append('<option selected >' + decodeURIComponent(decodeURIComponent(company)) + '</option>');\r\n    $companySelect.trigger(\"chosen:updated\");\r\n\r\n  }\r\n  if ($('.RIGHT-topic select option[value=\"' + unescapeHtml(decodeURIComponent(topic)) + '\"]').length == 0) { //add company to select\r\n    $topicSelect = $('.RIGHT-topic select');\r\n    $topicSelect.append('<option selected >' + decodeURIComponent(decodeURIComponent(topic)) + '</option>');\r\n    $topicSelect.trigger(\"chosen:updated\");\r\n  }\r\n  $('.tinymce-textarea').each(function() {\r\n    wagn.initTinyMCE($(this).attr('id'));\r\n  });\r\n  $('<input class=\"card-content\" id=\"card_subcards__Source_content\" name=\"card[subcards][+Source][content]\" value=\"' + pageName + '\" type=\"hidden\" />')\r\n    .insertAfter(\"#card_type_id\");\r\n  \r\n}\r\nvar sourceCreatedFailCallback = function(xhr, ajaxOptions, thrownError) {\r\n  var html = $(xhr.responseText);\r\n  html.find('.card-header').remove();\r\n  $('#claim-form').html(html);\r\n  $('#claim-form').find('div:first').trigger('slotReady');\r\n  enableMakeClaimButton();\r\n}\r\n\r\nfunction createSource(callback, failCallback) {\r\n  var url = \"/card/create?\";\r\n  url += \"success[view]=content\";\r\n  url += \"&slot[structure]=source+preview\";\r\n  url += \"&sourcebox=true\";\r\n  url += \"&card[type_code]=webpage\"\r\n  url += \"&card[subcards][\" + encodeURIComponent(\"+\") + \"Link][content]=\" + encodedUrl\r\n  if (!markedIrrelevant) {\r\n    url += \"&card[subcards][\" + encodeURIComponent(\"+\") + \"Company][content]=\" + encodedCompany\r\n    url += \"&card[subcards][\" + encodeURIComponent(\"+\") + \"Topic][content]=\" + encodedTopic\r\n  }\r\n  var jqxhr = $.ajax(url)\r\n    .done(callback)\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n      if (failCallback)\r\n        failCallback(xhr, ajaxOptions, thrownError);\r\n    });\r\n}\r\n\r\n\r\nvar sourceCreatedWithHtml = function(data) {\r\n  //get the claim form html\r\n\r\n  var sourceHtml = data;\r\n  $.ajax(\"/new/Claim?view=new&main=claim&is_main=true&slot%5Bhome_view%5D=open&slot%5Binc_name%5D=_main&slot%5Binc_syntax%5D=_main\" + (!markedIrrelevant ? (\"&_Companies=\" + encodedCompany + \"&_Topics=\" + encodedTopic) : \"\"))\r\n    .done(function(claimFormHtml) {\r\n      gotNewClaimHtml(sourceHtml, claimFormHtml);\r\n    })\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n      var html = $(xhr.responseText);\r\n      html.find('.card-header').remove();\r\n      $('#claim-form').html(html);\r\n      $('#claim-form').find('div:first').trigger('slotReady');\r\n      enableMakeClaimButton();\r\n    });\r\n\r\n}\r\nvar gotNewClaimHtml = function(sourceHtml, newClaimFormHtml) {\r\n\r\n  //show the source and new claim form\r\n  //override the claim form buttons\r\n  //override the cancel button on click event to dismiss the dialogue only\r\n  var pageNumer = sourceHtml.match(/data-card-name=\"Page-(\\d+)\"/)[1];\r\n  pageName = \"Page-\" + pageNumer;\r\n  if (!markedIrrelevant)\r\n  {\r\n    reloadTopBarAsExisitingSource(sourceHtml,newClaimFormHtml);\r\n    $(\"#company-and-topic-detail-link\").show();\r\n  }\r\n  \r\n}\r\n\r\nfunction refreshClaimNumber(pageName) {\r\n  var jqxhr = $.ajax(\"/\" + pageName + decodeURIComponent(\"+\") + \"claim count?view=core\")\r\n    .done(function(data) {\r\n      if (data > 0) {\r\n        $('#claim-count').html(\"<a class='show-link-in-popup' href='/\" +pageName + \"+source claim list' target='_blank'><span class='claim-count'>\" + data + \"</span><span class='claim-count'>Claims</span></a>\");\r\n        $('#claim-count').show();\r\n        $('.show-link-in-popup').each(function(){\r\n          $(this).off(\"click\").click(linkOnClick);\r\n        });\r\n      }\r\n    })\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n    });\r\n}\r\nvar reloadTopBarAsExisitingSource = function(sourceHtml,newClaimFormHtml) {\r\n  var url = pageName+\"?view=preview_options\"\r\n  \r\n  var jqxhr = $.ajax(url)\r\n    .done(function(data) {\r\n      $('.menu-options:first').replaceWith(data);\r\n      rebindAllOnClickListener();\r\n      handleSourceHtmlAndNewClaimHtml(sourceHtml, newClaimFormHtml);\r\n      $('#claim-form').find('div:first').trigger('slotReady');\r\n      $('#claim-form').find('.TYPE-claim:first').trigger('slotReady');\r\n      existingSource = true;\r\n      $('#claim-form').find('form:first').on('ajax:success', function(_event, data, xhr) {\r\n        if (!markedIrrelevant)\r\n          refreshClaimNumber(pageName);\r\n        //remove the claim\r\n        //show success\r\n        var $html = $(data);\r\n\r\n\r\n        $('.card-slot.new-view.card-frame.ALL.TYPE-claim:first').remove();\r\n        var $claimSuccess = $(\"<div id='claim-success'></div>\");\r\n        $claimSuccess.append(\"<span>Success! Thanks for making a claim.</span>\");\r\n        $claimSuccess.append(\"<a target='_blank' href='\" + $html.find(\"a:first\").attr('href').replace(\"?view=closed\", \"\") + \"'>Visit the claim.</a>\")\r\n        $claimSuccess.append(\"<a id='keep-reading' href='#'>Keep Reading.</a>\")\r\n        $('#claim-form').append($claimSuccess);\r\n\r\n        $('#keep-reading').click(function() {\r\n          $('#claim-form').dialog(\"close\");\r\n        });\r\n        return true;\r\n      });\r\n\r\n      enableMakeClaimButton();\r\n    })\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n      showErrorMsg(xhr.responseText);\r\n    });\r\n}\r\nvar createClaim = function(pageName) {\r\n\r\n  $('<input class=\"card-content\" id=\"card_subcards__Source_content\" name=\"card[subcards][+Source][content]\" value=\"' + pageName + '\" type=\"hidden\" />')\r\n    .insertAfter(\"#card_type_id\");\r\n  $_form = $('#claim-form').find('form:first');\r\n  $_form.setContentFieldsFromMap();\r\n  var result = \"\";\r\n  var url = \"/card/create/\";\r\n  $.ajax({\r\n      type: \"POST\",\r\n      url: url,\r\n      data: $_form.serialize()\r\n    })\r\n    .done(function(data) {\r\n      $('#claim-form').empty();\r\n      if (!markedIrrelevant)\r\n        refreshClaimNumber(pageName);\r\n      $('#claim-form').dialog(\"close\");\r\n    }).fail(function() {\r\n\r\n      $_submitButton = $_form.find('.create-submit-button:first');\r\n      $_submitButton.removeAttr(\"disabled\");\r\n      $_submitButton.html(\"Submit\");\r\n\r\n    });\r\n}\r\n//=====for irrelevant\r\nfunction prepareForAfterIrrelevantFeedback() {\r\n  $('#irrelevant-options').dialog(\"close\");\r\n  var $img = $('<img id=\"feedback_loading_image_div\">'); //Equivalent: $(document.createElement('img'))\r\n  $img.attr('src', loadingImageUrl);\r\n\r\n  var $feedbackOptions = getPopup('after-irrelevant-options');\r\n  $feedbackOptions.html($img);\r\n  $feedbackOptions.css('maxHeight', $(window).height() - $('#logo-bar').height());\r\n  $feedbackOptions.dialog({\r\n    height: 'auto',\r\n    width: '400',\r\n\r\n    position: {\r\n      of: $(\"#logo-bar\"),\r\n      my: \"right top\",\r\n      at: \"right bottom\",\r\n      collision: \"none none\"\r\n    },\r\n    title: '<i class=\"fa fa-arrows\"></i>',\r\n    closeOnEscape: false,\r\n    resizable: false\r\n  });\r\n}\r\nvar irrelevantClicked = function() {\r\n  //update the name of buttons\r\n  markedIrrelevant = true;\r\n \r\n\r\n\r\n\r\n  var $irrelevantDialog = getPopup('irrelevant-options');\r\n  $irrelevantDialog.html('<span>This source is not related to:</span>\r\n    <br />\r\n    <div id=\"company-irrelevant\" class=\"button-primary  button-secondary\">\r\n      <a href=\"#\" id=\"company-irrelevant-button\">Company</a>\r\n    </div>\r\n    <div id=\"topic-irrelevant\" class=\"button-primary  button-secondary\">\r\n      <a href=\"#\" id=\"topic-irrelevant-button\">Topic</a>\r\n    </div>\r\n\r\n    <div id=\"either-irrelevant\" class=\"button-primary  button-secondary\">\r\n      <a href=\"#\" id=\"either-irrelevant-button\">Either</a>\r\n    </div>');\r\n  $('#company-irrelevant-button').html(company);\r\n  $('#topic-irrelevant-button').html(topic);\r\n  //bind the click events\r\n  $('#company-irrelevant-button').click(function() {\r\n    prepareForAfterIrrelevantFeedback();\r\n    sendFeedback(\"company\", afterSendingIrrelevantFeedback, sendingIrrelevantFeedbackFailCallback);\r\n\r\n  });\r\n  $('#topic-irrelevant-button').click(function() {\r\n    prepareForAfterIrrelevantFeedback();\r\n    sendFeedback(\"topic\", afterSendingIrrelevantFeedback, sendingIrrelevantFeedbackFailCallback);\r\n  });\r\n  $('#either-irrelevant-button').click(function() {\r\n    prepareForAfterIrrelevantFeedback();\r\n    sendFeedback(\"either\", afterSendingIrrelevantFeedback, sendingIrrelevantFeedbackFailCallback);\r\n  });\r\n  $irrelevantDialog.dialog({\r\n    height: 'auto',\r\n    width: '300',\r\n    position: {\r\n      of: $(\"#logo-bar\"),\r\n      my: \"right top\",\r\n      at: \"right bottom\",\r\n      collision: \"none none\"\r\n    },\r\n    title: '<i class=\"fa fa-arrows\"></i>',\r\n    closeOnEscape: false,\r\n    resizable: false\r\n  });\r\n  return false;\r\n}\r\n\r\nvar sendingIrrelevantFeedbackFailCallback = function(xhr, ajaxOptions, thrownError) {\r\n\r\n  if (xhr.responseText == \"Permission Denied\")\r\n    showPermissionDenial(\"after-irrelevant-options\");\r\n  else {\r\n    showErrorMsg(xhr.responseText);\r\n  }\r\n}\r\nvar afterSendingIrrelevantFeedback = function() {\r\n  $('#irrelevant-options').dialog(\"close\");\r\n  var $irrelevantButton = $('#mark-irrelevant-button');\r\n  $irrelevantButton.find(\"span:first\").html(\"Marked irrelevant\");\r\n  $irrelevantButton.replaceWith($irrelevantButton.html());\r\n  $('#mark-irrelevant').attr('disabled', 'disabled');\r\n  $('#mark-irrelevant').css(\"pointer-events\", \"none\");\r\n  $('#mark-irrelevant').css(\"cursor\", \"default\");\r\n  $('#mark-relevant').hide();\r\n\r\n\r\n  var $afterIrrelevantOption = $('#after-irrelevant-options');\r\n  var claimButtonHtml = $('#make-claim').html();\r\n  var $claimButton = $('<button class=\"create-submit-button\" id=\"make-claim-after-irrelevant\" name=\"button\">Make a claim</button>');\r\n  $afterIrrelevantOption.html($claimButton);\r\n  $claimButton = $('#make-claim-after-irrelevant');\r\n  $afterIrrelevantOption.prepend(\"<br /><span>You can still make a cliam on this source:</span><br />\");\r\n  // $afterIrrelevantOption.append(\"<br /><span>Try other sources:</span><br />\");\r\n  // $afterIrrelevantOption.append(\"<img id='loading_gif' src='{{loading_gif|source;size:medium;}}' />\");\r\n\r\n  $claimButton.click(function() {\r\n    makeClaimButtonOnClicked();\r\n    $('#after-irrelevant-options').dialog(\"close\");\r\n  });\r\n\r\n  //refer to suggested source script\r\n  //addSuggestedSource($afterIrrelevantOption, userId, company, topic);\r\n\r\n}\r\nfunction sendFeedback(type, successCallback, failcallback) {\r\n\r\n  var jqxhr = $.ajax(\"/Page.json?view=feedback&url=\" + encodedUrl + \"&company=\" + encodedCompany + \"&topic=\" + encodedTopic + \"&type=\" + type)\r\n    .done(function(data) {\r\n      if (successCallback)\r\n        successCallback();\r\n    })\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n      // console.log(\"Fail to send feedback\");\r\n      if (failcallback)\r\n        failcallback(xhr, ajaxOptions, thrownError);\r\n    });\r\n}\r\nvar showPermissionDenial = function(elementId) {\r\n  var jqxhr = $.ajax(\"/\"+pageName+\"?view=denial\")\r\n    .done(function(data) {\r\n      //not possible i guess\r\n    })\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n      var $elementToShowPermissionDenial = $('#' + elementId);\r\n      $denialHtml = $(xhr.responseText);\r\n      $denialHtml.find('.card-header').remove();\r\n      $elementToShowPermissionDenial.html($denialHtml);\r\n\r\n    });\r\n}\r\n//=====for company and topic detail\r\nvar comapnyAndTopicDetailLinkClicked = function(event) {\r\n  event.preventDefault();\r\n  var img = $('<img id=\"company_and_topic_detail_loading_image_div\">'); //Equivalent: $(document.createElement('img'))\r\n  img.attr('src', loadingImageUrl);\r\n\r\n  \r\n  \r\n  var $popupWindow = getPopup(\"company-and-topic-detail\");\r\n  \r\n  $popupWindow.html(img);\r\n  $popupWindow.dialog({\r\n    height: 'auto',\r\n    minWidth: 500,\r\n    position: {\r\n      of: $(\"#company-and-topic\"),\r\n      my: \"center top\",\r\n      at: \"center bottom\",\r\n      collision: \"none none\"\r\n    },\r\n    title: '<i class=\"fa fa-arrows\"></i>',\r\n    closeOnEscape: false,\r\n    resizable: false\r\n  });\r\n\r\n  $.ajax($(\"#company-and-topic-detail-link\").attr(\"href\"))\r\n    .done(companyAndTopicHtmlGot)\r\n    .fail(companyAndTopicHtmlErrorGot);\r\n}\r\nvar companyAndTopicHtmlErrorGot = function(xhr, ajaxOptions, thrownError) {\r\n  var html = $(xhr.responseText);\r\n  html.find('.card-header').remove();\r\n  $('#company-and-topic-detail').html(html);\r\n  $(\"#company-and-topic-detail\").find(\"div:first\").trigger('slotReady');\r\n}\r\nvar companyAndTopicHtmlGot = function(_html) {\r\n  var html = $(_html);\r\n  html.find('.card-header').remove();\r\n  var $companyAndTopicDetail = $(\"#company-and-topic-detail\");\r\n  $companyAndTopicDetail.html(html);\r\n  $companyAndTopicDetail.find('.cancel-button:first').on('click', function() {\r\n\r\n  $companyAndTopicDetail.empty();\r\n  $companyAndTopicDetail.dialog(\"close\");\r\n\r\n  });\r\n\r\n  $companyAndTopicDetail.find('form:first').on('ajax:success', function(data, c, d) {\r\n    $companyAndTopicDetail.empty();\r\n    refreshCompanyAndTopic();\r\n    $companyAndTopicDetail.dialog(\"close\");\r\n    return true;\r\n  });\r\n\r\n  $companyAndTopicDetail.find(\"div:first\").trigger('slotReady');\r\n\r\n}\r\nfunction refreshCompanyAndTopic(){\r\n  var jqxhr = $.ajax(\"/\"+pageName+\"?view=company_and_topic_detail\")\r\n    .done(function(data) {\r\n      $('#company-and-topic').replaceWith(data);\r\n      $(\"#add-company-link\").click(comapnyAndTopicDetailLinkClicked);\r\n      $(\"#add-topic-link\").click(comapnyAndTopicDetailLinkClicked);\r\n      $(\"#company-and-topic-detail-link\").click(comapnyAndTopicDetailLinkClicked);\r\n    })\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n      showErrorMsg(xhr.responseText);\r\n    });\r\n}\r\nfunction rebindAllOnClickListener(){\r\n  \r\n  $(\"#add-company-link\").off(\"click\").click(comapnyAndTopicDetailLinkClicked);\r\n  $(\"#add-topic-link\").off(\"click\").click(comapnyAndTopicDetailLinkClicked);\r\n  $(\"#company-and-topic-detail-link\").off(\"click\").click(comapnyAndTopicDetailLinkClicked);\r\n  $('#mark-irrelevant-button').off(\"click\").click(irrelevantClicked);\r\n  $(\"#make-a-claim-button\").off(\"click\").click(makeClaimButtonOnClicked);\r\n  $(\"#mark-relevant-button\").off(\"click\").click(makeClaimButtonOnClicked);\r\n  $('.show-link-in-popup').each(function(){\r\n    $(this).off(\"click\").click(linkOnClick);\r\n  });\r\n}\r\n\r\nfunction resizeIframe() {\r\n  $(\"#webpage-preview\").height($(window).height() - $('#logo-bar').height()-1);\r\n}\r\n$(document).ready(function() {\r\n\r\n  if($(\"body\").attr(\"id\")==\"source-preview-page-layout\"){\r\n    $(\"#logo-bar\").dblclick(function() {\r\n      return false;\r\n    });\r\n   \r\n    pageName = $(\"#source-name\").html();\r\n    userId = $(\"#user-id\").html();\r\n    url = $(\"#source_url\").html();\r\n    company = $(\"#source_company\").html();\r\n    topic = $(\"#source_topic\").html();\r\n   \r\n    encodedUrl = encodeURIComponent(url);\r\n    encodedCompany = encodeURIComponent(company);\r\n    encodedTopic = encodeURIComponent(topic);\r\n\r\n    if (url) {\r\n      testSameOrigin(url);\r\n      decodedUrl = decodeURIComponent(url);      \r\n    }\r\n    \r\n    rebindAllOnClickListener();\r\n    resizeIframe();\r\n    $('.show-link-in-popup').each(function(){\r\n      $(this).off(\"click\").click(linkOnClick);\r\n    });\r\n    $(window).resize(function() {\r\n      resizeIframe();\r\n    });\r\n  }\r\n \r\n});\r\n\r\n"
      },
      {
        "name": "Source Link",
        "type": "HTML",
        "content": "<span class=\"source-website\">\r\n<a class=\"source-preview-link\" href=\"/{{_|linkname}}?view=preview&layout=source preview page layout\" target=\"_blank\"> {{+website|content|name}} </a>\r\n</span>\r\n<i class=\"fa fa-long-arrow-right\"></i>\r\n<span class=\"source-title\">\r\n<a class=\"source-preview-link preview-page-link\" href=\"/{{_|linkname}}?view=preview&layout=source preview page layout\" target=\"_blank\"> {{+title|needed}} </a>\r\n</span>\r\n\r\n"
      },
      {
        "name": "Page+*type+*structure",
        "type": "HTML",
        "content": "\r\n<div class=\"meta-side\">\r\n  {{+Link|titled; title:URL}}\r\n<a id=\"source-preview-link\" class=\"source-preview-link internal-link\" href=\"/{{_|linkname}}?view=preview&layout=source preview page layout\" target=\"_blank\">Preview</a>\r\n  {{+Title|titled; title:Title}}\r\n  {{+Description|titled;title:Description}}\r\n  {{+Date|titled;title:Date}}\r\n  {{+Website|titled;title:Website|link}}\r\n</div>\r\n<div class=\"source-side\">\r\n  {{+Companies|titled; title:Companies|link}}\r\n  {{+Topics|titled; title:Topics|link}}\r\n  {{+Tags|titled;title:Tags; item:link}}\r\n  {{+Claims|titled;title:Claims|link}}\r\n  [[/new/Claim?_Source={{_|linkname}}|Make a Claim!]]\r\n\r\n</div>\r\n\r\n"
      },
      {
        "name": "suggested source script",
        "type": "JavaScript",
        "content": "var getLocation = function(href) {\r\n  var l = document.createElement(\"a\");\r\n  l.href = href;\r\n  return l;\r\n};\r\n\r\n\r\nfunction addSuggestedSource(suggestedSourceField,userId, company, topic) {\r\n  var encodedCompany = encodeURIComponent(company);\r\n  var encodedTopic = encodeURIComponent(topic);\r\n  var url = \"http://mklab.iti.gr/wikirate-sandbox/api/index.php/recommendations/?company=\" + encodedCompany + \"&topic=\" + encodedTopic + \"&user_id=\" + userId;\r\n\r\n  var jqxhr = $.getJSON(url)\r\n    .done(function(data) {\r\n      $.each(data.results, function(i, item) {\r\n        $('#loading_gif').hide();\r\n        var $row = $(\"<div>\", {\r\n          class: \"suggested-source-item\"\r\n        });\r\n        var $imageDiv = $(\"<div>\", {\r\n          class: \"source-link-image\"\r\n        });\r\n        var $titleDiv = $(\"<div>\", {\r\n          class: \"source-link-title\"\r\n        });\r\n        var imageSrc = \"\";\r\n        if (item.images.length > 0)\r\n          imageSrc = item.images[0].url;\r\n        else\r\n          imageSrc = \"{{missing image|source;size:small;}}\"\r\n        var $image = $('<img src=\"' + imageSrc + '\">'); \r\n        $imageDiv.append($image);\r\n        var website = getLocation(item.url).hostname;\r\n//http://127.0.0.1:3000/?card[type]=Page&url=http://www.theguardian.com/commentisfree/2006/jun/13/comment.oil&view=preview&layout=source%20preview%20page%20layout&company=BP&topic=Consumer%20and%20Product%20Responsibility\r\n        var $title = $('<a class=\"preview-page-link\" href=\"/?card[type]=Page&view=preview&layout=source preview page layout&url=' + encodeURIComponent(item.url) + '&company=' + encodedCompany + '&topic=' + encodedTopic + '\" target=\"_blank\"> ' + item.title + ' - ' + website + ' </a>');\r\n        $titleDiv.append($title);\r\n        $row.append($imageDiv);\r\n        $row.append($titleDiv);\r\n        suggestedSourceField.append($row);\r\n\r\n      });\r\n    })\r\n    .fail(function(xhr, ajaxOptions, thrownError) {\r\n      suggestedSourceField.html(\"Fail to get suggested sources.\");\r\n       console.log(\"error with \"+xhr.responseText);\r\n    });\r\n   \r\n}\r\n$(document).ready(function() {\r\n  var company = $('#company-key-name').html();\r\n  var topic = $('#topic-key-name').html();\r\n  var userId = $(\"#user-id\").html();\r\n  \r\n\r\n  $(\".STRUCTURE-source_link_preview\").each(function() {\r\n    $(this).find('img').each(function() {\r\n      if ($(this).attr('src') == \"\") {\r\n        $(this).attr('src', \"{{missing image|source;size:small;}}\");\r\n      }\r\n    })\r\n  });\r\n\r\n  var $suggested_source = $(\".suggested-source:first\");\r\nif($suggested_source.length>0)\r\n  addSuggestedSource($suggested_source,userId, company, topic);\r\n\r\n});"
      }
    ]
  }
}