{
  "url": null,
  "timestamp": "2016-04-22 22:59:00 +0100",
  "card": {
    "name": "export",
    "type": "Pointer",
    "content": "[[export]]\n[[new value+*right+*structure]]\n[[source+*type+*Structure]]\n[[source without note count]]\n[[source preview main]]\n[[Metric short view]]\n[[metric header small+*right+*structure]]\n[[metric value source form]]\n[[metric value company view]]\n[[metric details+*right+*structure]]\n[[metric details company header+*right+*structure]]\n[[metric details metric header+*right+*structure]]\n[[metric+*type+*structure]]\n[[style: wikirate bootstrap common]]\n[[style: source preview]]\n[[script: wikirate scripts]]\n[[script: metric value]]\n[[script: source preview]]\n[[script: rating]]\n[[Project+*type+*structure]]\n[[project+company search+*type plus right+*structure]]\n[[project+company+*ltype rtype+*structure]]\n[[company metric drag item]]\n[[source+*type+*structure]]\n[[source_structure]]",
    "value": [
      {
        "name": "export",
        "type": "Pointer",
        "content": "[[export]]\n[[new value+*right+*structure]]\n[[source+*type+*Structure]]\n[[source without note count]]\n[[source preview main]]\n[[Metric short view]]\n[[metric header small+*right+*structure]]\n[[metric value source form]]\n[[metric value company view]]\n[[metric details+*right+*structure]]\n[[metric details company header+*right+*structure]]\n[[metric details metric header+*right+*structure]]\n[[metric+*type+*structure]]\n[[style: wikirate bootstrap common]]\n[[style: source preview]]\n[[script: wikirate scripts]]\n[[script: metric value]]\n[[script: source preview]]\n[[script: rating]]\n[[Project+*type+*structure]]\n[[project+company search+*type plus right+*structure]]\n[[project+company+*ltype rtype+*structure]]\n[[company metric drag item]]\n[[source+*type+*structure]]\n[[source_structure]]"
      },
      {
        "name": "new value+*right+*structure",
        "type": "HTML",
        "content": "\r\n\r\n<div class=\"col-md-6 border-right panel-default nodblclick\">\r\n\r\n  <h4>Company</h4>\r\n  <hr>\r\n  {{_lr|titled;content;structure:metric value company view}}\r\n  <hr>\r\n  <h4>Metrics</h4>\r\n  <hr>\r\n  {{_l|content;structure:metric short view}}\r\n</div>\r\n\r\n{{source preview main|content}}\r\n\r\n"
      },
      {
        "name": "Source+*type+*structure",
        "type": "HTML",
        "content": "<div class=\"col-md-12 new-source-widget\">\r\n  <div class=\"row\">\r\n    <div class=\"new-source-tab\">\r\n      <ul id=\"myTab\" class=\"nav nav-pills\" role=\"tablist\">\r\n        <li role=\"presentation\" class=\"active\">\r\n          <a href=\"#url\" id=\"url-tab\" role=\"tab\" data-source-type='Link' data-toggle=\"tab\" aria-controls=\"url\" aria-expanded=\"true\"><i class=\"fa fa-globe\"></i> URL</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#file\" role=\"tab\" id=\"file-tab\" data-toggle=\"tab\" data-source-type='File' aria-controls=\"file\" aria-expanded=\"false\"><i class=\"fa fa-upload\"></i> File</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#text\" role=\"tab\" id=\"text-tab\" data-toggle=\"tab\" data-source-type='Text' aria-controls=\"text\" aria-expanded=\"false\"><i class=\"fa fa-pencil\"></i> Report</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <br>\r\n    <div id=\"myTabContent\" class=\"tab-content\">\r\n      <div role=\"tabpanel\" class=\"tab-pane fade active in\" id=\"url\" aria-labelledby=\"url-tab\">\r\n        {{+Link|titled; title:URL}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"file\" aria-labelledby=\"file-tab\">\r\n        {{+File|titled; title:File}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"text\" aria-labelledby=\"text-tab\">\r\n        {{+Text|titled; title:Text}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" style=\"display:none\">\r\n    <div class=\"first-meta tab-content\">\r\n      <button type=\"button\" class=\"btn btn-default btn-xs\" id=\"suggest_button\">Suggest Title and Description</button>\r\n      {{+Title|titled; title:Title}} {{+Description|titled;title:Description}}\r\n      <div class=\"row-data first-meta\" >\r\n        <a id=\"add-company-and-topic\" href=\"#\">\r\n          <i class=\"fa fa-building-o\"></i>Add Company\r\n        </a>\r\n      </div>\r\n      \r\n      <div id=\"company-topic-meta\" style=\"display:none;\">\r\n        {{+Companies|titled; title:Companies|link}}\r\n      </div>\r\n      \r\n      <div class=\"row-data first-meta\" >\r\n       <a href=\"#\" id=\"add-tags-other\">\r\n          <i class=\"fa fa-tag\"></i>Add Topic, Date and other\r\n        </a>\r\n      </div>\r\n      \r\n      \r\n      <div id=\"tag-date-others-meta\" style=\"display:none;\">\r\n        {{+Topics|titled; title:Topics|link}} {{#+Tags|titled;title:Tags; item:link}} {{+Date|titled;title:Date}} {{+Website|titled;title:Website|link}}\r\n      </div>\r\n    \r\n    </div>\r\n  </div>\r\n  <div style='display:none;'>{{+*source type}}</div>\r\n</div>"
      },
      {
        "name": "source without note count",
        "type": "HTML",
        "content": "{{_+*vote count}}\r\n<div class=\"item-content\">\r\n  <div class=\"fa fa-times-circle remove-source\" style=\"display:none\"></div>\r\n  <div class=\"source-icon fa fa-globe fa-lg\"></div>\r\n  <div class=\"item-summary pull-left nopadding\">\r\n     {{_|content;structure:source link}}\r\n    <div class=\"last-edit\"> \r\n       {{_|structure:creator credit}}\r\n    </div>\r\n  </div>\r\n</div>"
      },
      {
        "name": "source preview main",
        "type": "HTML",
        "content": "<div id=\"source-preview-main\" class=\"col-md-6 nopadding panel-default stick-right \">\r\n\r\n  <div id=\"source-form-container\"></div>\r\n  <!--<div id=\"source-preview-container\"></div>-->\r\n</div>"
      },
      {
        "name": "metric short view",
        "type": "HTML",
        "content": "<div class=\"metric-row\">\r\n  {{+metric header small}}\r\n  {{+metric details}}\r\n  {{+metric value|timeline}}\r\n</div>"
      },
      {
        "name": "metric header small+*right+*structure",
        "type": "HTML",
        "content": "<div class=\"metric-details-header col-md-12 col-xs-12 padding-top-10\">\r\n  <div class=\"row\">\r\n    <div class=\"row-icon no-icon-bg padding-top-10\">\r\n      \t<a class=\"pull-left editor-image inherit-anchor\" href=\"{{_lllr+_llr|url}}\">\r\n            {{_lllr+image|size:small}}\t\t\r\n        </a>\r\n    </div>\r\n    <div class=\"row-data\">\r\n      \t<h4 class=\"metric-color\">\r\n  \t\t\t\t\t<a class=\"inherit-anchor\" href=\"{{_lllr+_llr|url}}\">{{_llr|name}}</a>\t\r\n  \t\t\t</h4>\r\n    </div>\r\n  </div>\r\n</div>"
      },
      {
        "name": "metric value source form",
        "type": "HTML",
        "content": "<div class=\"row\">\r\n  <br><br><br><br>\r\n  <div class=\"col-md-6 col-centered text-center light-grey-color-2\">\r\n    <p>\r\n      Source Preview Container\r\n    </p>\r\n    <p>\r\n      You can add or select a source from the metric form to preview here\r\n    </p>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"col-md-12 col-centered new-source-widget new-metric-value-page\">\r\n  <div class=\"row\">\r\n    <div class=\"new-source-tab\">\r\n      <ul id=\"myTab\" class=\"nav nav-pills\" role=\"tablist\">\r\n        <li role=\"presentation\" class=\"active\">\r\n          <a href=\"#url\" id=\"url-tab\" role=\"tab\" data-source-type='Link' data-toggle=\"tab\" aria-controls=\"url\" aria-expanded=\"true\"><i class=\"fa fa-globe\"></i> URL</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#file\" role=\"tab\" id=\"file-tab\" data-toggle=\"tab\" data-source-type='File' aria-controls=\"file\" aria-expanded=\"false\"><i class=\"fa fa-upload\"></i> File</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#text\" role=\"tab\" id=\"text-tab\" data-toggle=\"tab\" data-source-type='Text' aria-controls=\"text\" aria-expanded=\"false\"><i class=\"fa fa-pencil\"></i> Report</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div id=\"myTabContent\" class=\"tab-content\">\r\n      <div role=\"tabpanel\" class=\"tab-pane fade active in\" id=\"url\" aria-labelledby=\"url-tab\">\r\n        {{+Link|titled; title:URL}}\r\n      <input type=\"hidden\" value=\"true\" name=\"sourcebox\">\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"file\" aria-labelledby=\"file-tab\">\r\n        {{+File|titled; title:File}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"text\" aria-labelledby=\"text-tab\">\r\n        {{+Text|titled; title:Text}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div  class=\"row \">\r\n    <div id=\"source-preview-frame\"></div>\r\n  </div>\r\n  <div class=\"row\" style=\"display:none\">\r\n    <div class=\"first-meta tab-content\">\r\n      <button type=\"button\" class=\"btn btn-default btn-xs\" id=\"suggest_button\">Suggest Title and Description</button>\r\n      {{+Title|titled; title:Title}} {{+Description|titled;title:Description}}\r\n      <div class=\"row-data first-meta\" >\r\n        <a id=\"add-company-and-topic\" href=\"#\">\r\n          <i class=\"fa fa-building-o\"></i>Add Company\r\n        </a>\r\n      </div>\r\n      \r\n      <div id=\"company-topic-meta\" style=\"display:none;\">\r\n        {{+Companies|titled; title:Companies|link}}\r\n      </div>\r\n      \r\n      <div class=\"row-data first-meta\" >\r\n       <a href=\"#\" id=\"add-tags-other\">\r\n          <i class=\"fa fa-tag\"></i>Add Topic, Date and other\r\n        </a>\r\n      </div>\r\n      \r\n      \r\n      <div id=\"tag-date-others-meta\" style=\"display:none;\">\r\n        {{+Topics|titled; title:Topics|link}} {{#+Tags|titled;title:Tags; item:link}} {{+Date|titled;title:Date}} {{+Website|titled;title:Website|link}}\r\n      </div>\r\n    \r\n    </div>\r\n  </div>\r\n  <div style='display:none;'>{{+*source type}}</div>\r\n</div>"
      },
      {
        "name": "metric value company view",
        "type": "HTML",
        "content": "<div class=\"metric-details-company-header heading-label\">\r\n  <div class=\"row clearfix\">\r\n          <div class=\" image-box pull-left\">\r\n            <a class=\"inherit-anchor\" href=\"{{_llll|url}}\">\r\n              {{_+image}}\r\n            </a>\r\n          </div>\r\n          <div class=\"company-name  \">\r\n            <a class=\"inherit-anchor\" href=\"{{_llll|url}}\">\r\n              {{_|name}}\r\n            </a>\r\n          </div>\r\n  </div>\r\n</div>  "
      },
      {
        "name": "metric details+*right+*structure",
        "type": "HTML",
        "content": "\r\n<div class=\"metric-info\">\r\n  <div class=\"col-md-12 padding-bottom-10\">\r\n    <div class=\"row metric-details-question\">\r\n      <div class=\"row-icon padding-top-10\">\r\n        <i class=\"fa fa-question-circle fa-lg\"></i>\r\n      </div>\r\n      <div class=\"row-data padding-top-10\">\r\n        {{_lllr+_llr+question|core}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"col-md-12\">\r\n    <div id=\"methodology-info\" class=\"collapse\">\r\n        <div class=\"row\"><small><strong>Methodology </strong>{{_lllr+_llr+Methodology|content;|link}}</small></div>\r\n        <div class=\"row\">\r\n          <div class=\"row-icon\">\r\n            <i class=\"fa fa-tag\"></i>\r\n          </div>\r\n          <div class=\"row-data\">\r\n            {{_lllr+_llr+topics|content|link}}\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n"
      },
      {
        "name": "metric details company header+*right+*structure",
        "type": "HTML",
        "content": "<div class=\"metric-details-close-icon pull-right\t\"><i class=\"fa fa-times-circle fa-2x\"></i></div>\r\n<br>\r\n<div class=\"metric-details-company-header\">\r\n  <div class=\"row clearfix\">\r\n          <div class=\" company-logo\">\r\n            <a class=\"inherit-anchor\" href=\"{{_llll|url}}\">\r\n              {{_llll+logo}}\r\n            </a>\r\n          </div>\r\n          <div class=\"company-name  \">\r\n            <a class=\"inherit-anchor\" href=\"{{_llll|url}}\">\r\n              {{_llll|name}}\r\n            </a>\r\n          </div>\r\n  </div>\r\n  <hr>\r\n  <div class=\"row clearfix wiki\">{{_lllr+_llr+_llll+metric details|content}}</div>\r\n  <div class=\"row clearfix wiki\">{{_lllr+_llr+_llll+metric values|timeline}}</div>\r\n\r\n  <!--<hr>-->\r\n  <br>\r\n  <div class=\"row discussion-container\">\r\n      <div class=\"row-icon\">\r\n        <i class=\"fa fa-comment\"></i>\r\n      </div>\r\n      <div class=\"row-data\">\r\n          {{_lllr+_llr+_llll+discussion|titled;title:Discussion; show:commentbox}}\r\n      </div>\r\n  </div>\r\n</div>"
      },
      {
        "name": "metric details metric header+*right+*structure",
        "type": "HTML",
        "content": "<div class=\"metric-details-close-icon pull-right\t\"><i class=\"fa fa-times-circle fa-2x\"></i></div>\r\n<br>\r\n<div class=\"metric-details-header\">\r\n  \r\n    <div class=\"row clearfix \">\r\n              <div class=\"col-md-1\">\r\n                {{_lllr+_llr+*vote count}}\r\n              </div>  \r\n              <div class=\"col-md-11\">\r\n                <div class=\"name row\">\r\n                  <a class=\"inherit-anchor\" href=\"{{_lllr+_llr|url}}\">\r\n                  {{_llr|name}}\r\n                  </a>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"metric-designer-info\">\r\n                    <a href=\"/{{_lllr|name}}+contribution\">\r\n                      <div><small class=\"text-muted\">Designed by</small></div>\r\n                      <div>{{_lllr+logo|core;size:small}}</div>\r\n                      <div><h3>{{_lllr|name}}</h3></div>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n    </div>\r\n    <hr>\r\n    <div class=\"row clearfix wiki\">{{_lllr+_llr+_llll+metric details|content}}</div>\r\n    {{#_lllr+_llr+metric value|timeline}}\r\n    <div class=\"row clearfix wiki\">{{_lllr+_llr+_llll+metric values|timeline}}</div>\r\n\r\n    <br>\r\n    <div class=\"row clearfix\">\r\n      <div class=\"data-item text-center\">\r\n        <span class=\"btn label-metric\">[[_lllr+_llr|Metric Details]]</span> \r\n      </div>\r\n    </div>   \r\n    <hr>\r\n    <div class=\"row discussion-container\">\r\n        <div class=\"row-icon\">\r\n          <i class=\"fa fa-comment\"></i>\r\n        </div>\r\n        <div class=\"row-data\">\r\n            {{_lllr+_llr+discussion|titled;title:Discussion; show:commentbox}}\r\n        </div>\r\n    </div>\r\n    \r\n</div>\r\n"
      },
      {
        "name": "metric+*type+*structure",
        "type": "HTML",
        "content": "  "
      },
      {
        "name": "style: wikirate bootstrap common",
        "type": "SCSS",
        "content": "\r\n@mixin box-shadow($x: 2px, $y: 2px, $blur: 5px, $color: rgba(0,0,0,.4), $inset: \"\") {\r\n  @if ($inset != \"\") {\r\n    -webkit-box-shadow: $inset $x $y $blur $color;\r\n    -moz-box-shadow:    $inset $x $y $blur $color;\r\n    box-shadow:         $inset $x $y $blur $color;\r\n  } @else {\r\n    -webkit-box-shadow: $x $y $blur $color;\r\n    -moz-box-shadow:    $x $y $blur $color;\r\n    box-shadow:         $x $y $blur $color;\r\n  }\r\n}\r\n\r\n$metric-color: #674ea7;\r\n$company-color: #d3741c;\r\n$topic-color: #2b7ea0;\r\n$main-color: #03998d;\r\n\r\n\r\n//Text Colors\r\n.company-color{\r\n  color:$company-color;\r\n}\r\n\r\n.metric-color{\r\n  color:$metric-color;\r\n}\r\n\r\n.topic-color{\r\n  color:$topic-color;\r\n}\r\n\r\n.main-color{\r\n color:$main-color;  \r\n}\r\n\r\n.white-text{\r\n  color:#fff;\r\n}\r\n\r\n.dark-grey-color{\r\n  color: #333;  \r\n}\r\n\r\n.light-grey-color{\r\n color:#ccc;  \r\n}\r\n\r\n.light-grey-color-2{\r\n color:#999;  \r\n}\r\n\r\n//Text adjustments\r\n\r\n.text-align-left{\r\n  text-align:left;\r\n}\r\n\r\n.text-align-right{\r\n  text-align:right;\r\n}\r\n\r\n.no-bold-text{\r\n font-weight:normal; \r\n}\r\n\r\n.remove-text-decoration a{\r\n text-decoration :none!important;\r\n}\r\n\r\n\r\n//Common adjustments \r\n.float-right{\r\n  float:right;  \r\n}\r\n\r\n.nopadding {\r\n   padding: 0 !important;\r\n   margin: 0 !important;\r\n}\r\n\r\n.margin-12{\r\n  margin:12px;\r\n}\r\n.margin-top-10{\r\n  margin-top: 10px;\r\n}\r\n.margin-top-20{\r\n  margin-top: 20px;\r\n}\r\n\r\n.margin-top-50{\r\n  margin-top: 50px;\r\n}\r\n\r\n.margin-top-80{\r\n  margin-top:80px;\r\n}\r\n\r\n.margin-left-10 {\r\n    margin-left: 10px;\r\n}\r\n\r\n.padding-top-10{\r\n  padding-top:10px!important;\r\n}\r\n\r\n.padding-top-50{\r\n  padding-top:50px!important;\r\n}\r\n\r\n.padding-top-20{\r\n  padding-top:20px!important;\r\n}\r\n\r\n//Div alignments \r\n\r\n\r\n.stick-right {\r\n    position: fixed;\r\n    max-width: 608px;\r\n    top: 68px;\r\n    left: 50%;\r\n}\r\n\r\n\r\n//background and borders\r\n\r\n.background-white{\r\n  background-color:#fff;\r\n}\r\n\r\n\r\n.border-left {\r\n    border-left: 1px solid #e5e5e5;\r\n}\r\n\r\n.border-bottom {\r\n    border-bottom: 1px solid #e5e5e5;\r\n}\r\n.border-top {\r\n    border-top: 1px solid #e5e5e5;\r\n}\r\n\r\n.double-border-fix-left {\r\n    margin-left: -1px;\r\n}\r\n\r\n//custom column \r\n.col-md-3-5{\r\n  width:25.666%;\r\n  float:left;\r\n}\r\n\r\n.col-centered{\r\n    float: none;\r\n    margin: 0 auto;\r\n}\r\n\r\n\r\n//images\r\n\r\n.image-box.medium{\r\n    width: 94px;\r\n    height: 94px;\r\n}\r\n\r\n.image-box.small{\r\n    width: 64px;\r\n    height: 64px;\r\n    line-height: 50px;\r\n}\r\n\r\n.image-box.icon{\r\n    width: 32px;\r\n    height: 32px;\r\n    line-height: 16px;\r\n}\r\n.image-box {\r\n    width: 94px;\r\n    height: 94px;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    padding: 5px;\r\n    border: 1px solid #EEE;\r\n    background-color: #F8F9FA;\r\n    line-height: 80px;\r\n    vertical-align: middle;\r\n    margin-right: 18px;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.homepage-lead{\r\n          font-weight:300;\r\n          margin-bottom: 20px;\r\n          line-height: 1.4;\r\n          font-size: 30px;\r\n          color: #868686;\r\n}\r\n        \r\n.modal-body>div {\r\n    display: inline-block;\r\n    width: 100%;\r\n    .menu-slot{\r\n      z-index: 1;\r\n    }\r\n}\r\n\r\n//Ajax loader animation\r\n\r\n#ajax_loader{\r\n  display:none;\r\n}\r\n\r\n.loader-anime {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0px;\r\n    left: 0px;\r\n    z-index: 999;\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n     .anime {\r\n           position: absolute;\r\n           left: 50%; \r\n           top: 30%;\r\n           margin-left: -20px;\r\n      }\r\n}\r\n\r\n.edits-by {\r\n  // border-bottom: 1px solid $div-border-color;\r\n  font-size: 0.8em;\r\n  margin-bottom: 5px;\r\n  color: #ccc;\r\n  .subtitle-header {\r\n    float: left;\r\n    padding-right: 6px;\r\n  }\r\n  a {\r\n    color: #ABABAB;\r\n  }\r\n}\r\n\r\n.panel-default {\r\n  border-color: #EFEFEF;\r\n  // margin-bottom: -2px;\r\n\r\n     > .panel-heading {\r\n      background-image: none;\r\n      \r\n    }\r\n     > .panel-heading {\r\n      color: #333;\r\n      background-color: #f5f5f5;\r\n      border-right: 1px solid rgba(0, 0, 0, 0.05);\r\n      padding: 10px;\r\n    }\r\n}\r\n\r\n.panel-primary-container>.card-slot>{\r\n    .menu-slot>.vertical-card-menu.show-on-hover .btn-group.slotter a{\r\n      color:#fff;\r\n      &:hover{\r\n        color:#fafafa;\r\n      }\r\n    }\r\n    .panel-default>.panel-heading {\r\n        padding: 10px!important;\r\n    }\r\n    \r\n}\r\n\r\n.panel-primary-container>.card-slot>.panel-default, .panel-primary{\r\n      border-color: #eaeaea;\r\n        >.panel-heading {\r\n        color: #fff;\r\n        background-color: #03998D;\r\n        border-color: #03998D;\r\n        padding: 13px;\r\n        }\r\n}\r\n\r\n.titled-view, .titled_with_edits-view{\r\n  > .card-header {\r\n  font-size: 1.3em;\r\n  margin: 3px 0!important;\r\n  }\r\n  \r\n}\r\n\r\n.alert{\r\n  border-radius:0;\r\n}\r\n.alert-info {\r\n  background-color: rgba(3, 153, 141, 0.08);\r\n  border-color: rgba(3, 153, 141, 0.08);\r\n  color: #31708f;\r\n}\r\n.help-block {\r\n  margin-top: 5px;\r\n  margin-bottom: 0px;\r\n  color: #939090;\r\n  font-size: 11px;\r\n  width: 100%;\r\n  display: inline-block;\r\n}\r\n\r\n.navbar-inverse {\r\n    background-color: #03998D;\r\n    border-color: #03998D;\r\n    .navbar-text,.navbar-nav>li>a {\r\n      color: #fff;\r\n    }\r\n}\r\n\r\n@media (min-width: 768px){\r\n  .navbar {\r\n     border-radius: 0px; \r\n  }\r\n}\r\n\r\n.new-source-widget {\r\n    background: #FFFBE6;\r\n    border: 1px solid #EBEBEB;\r\n      .tab-content {\r\n        background: #FFFBE6;\r\n        padding: 10px 10px 0px 12px;\r\n        float: left;\r\n        width: 100%;\r\n      }\r\n      \r\n      .row-data.first-meta{\r\n          margin-top: 15px;\r\n          float: left;\r\n          width: 100%;\r\n          margin-bottom: 15px;\r\n      }\r\n      .first-meta {\r\n    \r\n        a {\r\n            color: #BDBDBD;\r\n        }\r\n        i {\r\n          margin-right: 5px;\r\n          width: 15px;\r\n        }\r\n      }\r\n}\r\n.new-source-tab {\r\n    background: #F5F5F5;\r\n    border-bottom: 1px solid #EBEBEB;\r\n}\r\n\r\n\r\n.closed-content {\r\n    font-size: 16px!important;\r\n}\r\n\r\n.drop-shadow{\r\n    @include box-shadow(0,1px,6px,rgba(0,0,0,.13));\r\n}\r\n\r\n.list-group-item {\r\n    border-radius: 3px!important;\r\n}\r\n//Close and Pin buttons on edit menu\r\na[title='cancel'],button[title='pin'] {    \r\n  background: none;\r\n}\r\n\r\n\r\n",
        "codename": "style_wikirate_bootstrap_common"
      },
      {
        "name": "style: source preview",
        "type": "SCSS",
        "content": "@mixin box-shadow($x: 2px, $y: 2px, $blur: 5px, $color: rgba(0, 0, 0, .4), $inset: \"\") {\r\n  @if ($inset != \"\") {\r\n    -webkit-box-shadow: $inset $x $y $blur $color;\r\n    -moz-box-shadow: $inset $x $y $blur $color;\r\n    box-shadow: $inset $x $y $blur $color;\r\n  }\r\n  @else {\r\n    -webkit-box-shadow: $x $y $blur $color;\r\n    -moz-box-shadow: $x $y $blur $color;\r\n    box-shadow: $x $y $blur $color;\r\n  }\r\n}\r\n$body_background: #ebebeb;\r\n#source-preview-page-layout {\r\n  #main {\r\n    padding: 0;\r\n    max-width: none;\r\n  }\r\n  #logo-bar {\r\n    padding: 0;\r\n    float: left;\r\n    width: 100%;\r\n    background-color: white;\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n    position: relative;\r\n    height: 53px;\r\n    .top-bar-icon {\r\n      float: left;\r\n      padding: 6px;\r\n    }\r\n    margin-bottom: 0;\r\n  }\r\n  .ui-draggable {\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n  }\r\n  #source_preview_page {\r\n    overflow: hidden;\r\n  }\r\n  div.ui-tooltip {\r\n    max-width: 400px;\r\n  }\r\n  .TYPE-note {\r\n    .source-side {\r\n      width: 100%;\r\n      padding-right: 0;\r\n      margin-left: 0;\r\n    }\r\n  }\r\n  #company-and-topic-detail-link {\r\n    border-left: 1px solid #f1f1f1;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    height: 100%;\r\n    color: #ccc;\r\n    width: 45px;\r\n    i {\r\n      padding-top: 19px;\r\n    }\r\n    &:hover {\r\n      background: #f3f3f3;\r\n      color: #acacac;\r\n    }\r\n  }\r\n  #note-success {\r\n    a,\r\n    span {\r\n      float: left;\r\n      margin: 3px;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n  .no-dropdown {\r\n    display: none;\r\n  }\r\n  #company-and-topic {\r\n    float: right;\r\n    text-align: center;\r\n    padding: 14px 50px 14px 14px;\r\n    background: #fafafa;\r\n    border-left: 1px solid #f1f1f1;\r\n    border-right: 1px solid #f1f1f1;\r\n    position: relative;\r\n    .company-name,\r\n    .topic-name {\r\n      display: inline-block;\r\n      margin: 0 6px;\r\n    }\r\n  }\r\n  a#make-a-note-button {\r\n    i {\r\n      color: #fff;\r\n    }\r\n    color: #fff;\r\n  }\r\n  .nav-center {\r\n    display: inline;\r\n    position: relative;\r\n    text-align: center;\r\n    left: 25%;\r\n  }\r\n  .menu-options {\r\n    // float: right;\r\n    // width: 40%;\r\n    // min-height: 52px;\r\n    // text-align: right;\r\n    // margin: 16px 5px;\r\n    li {\r\n      display: inline;\r\n    }\r\n    div {}\r\n    .btn {\r\n      padding: 17px 22px;\r\n      margin: -3px;\r\n      color: #ADADAD;\r\n      border-color: #E8E8E8;\r\n      i {\r\n        padding-right: 5px;\r\n      }\r\n    }\r\n    #make-note {\r\n      float: right;\r\n      padding: 15px;\r\n      //margin-top: 8px;\r\n      a {\r\n        color: white;\r\n      }\r\n    }\r\n    #source-page-link {\r\n      float: right;\r\n      width: auto;\r\n      padding: 0 0 0 20px;\r\n      a {\r\n        padding: 14px 16px;\r\n        background: #fafafa;\r\n        border: 1px solid#f1f1f1;\r\n        color: #afafaf;\r\n        text-decoration: none;\r\n        width: auto;\r\n        float: left;\r\n        &:hover {\r\n          background: #f3f3f3;\r\n          color: #acacac;\r\n        }\r\n      }\r\n    }\r\n    #source-page-button {\r\n      float: left;\r\n      width: 100%;\r\n    }\r\n    #direct-link-button {\r\n      float: left;\r\n      width: 100%;\r\n    }\r\n    #mark-relevant,\r\n    #mark-irrelevant {\r\n      float: right!important;\r\n      margin: 16px 3px;\r\n    }\r\n    #note-count {\r\n      float: right;\r\n      padding: 12px;\r\n    }\r\n  }\r\n  #irrelevant-options {\r\n    a {\r\n      color: #fff;\r\n      text-decoration: none;\r\n    }\r\n    div {\r\n      float: left;\r\n      clear: both;\r\n      margin: 3px;\r\n    }\r\n  }\r\n  \r\n  .non-previewable {\r\n    background-color: $body_background;\r\n  }\r\n  \r\n  /*\r\n\r\nHenry, get rid of me!!!\r\n  .new-note-button{\r\n    .create-submit-button{\r\n    width: 100%;\r\n    height: 30px;\r\n    margin-top: 14px;\r\n    }\r\n  }\r\n*/\r\n}\r\n.redirect-notice {\r\n    background-color: white;\r\n    text-align: center;\r\n    margin-top: 15%;\r\n    padding-top: 5%;\r\n    padding-bottom: 5%;\r\n    margin-left: 10%;\r\n    margin-right: 10%;\r\n    .item-content {\r\n      text-align: left;\r\n    }\r\n    a {\r\n      // margin: 20px;\r\n    }\r\n    .edit-source {\r\n      float: right;\r\n    }\r\n}\r\n.webpage-preview {\r\n  float: left;\r\n  background: white;\r\n  width: 100%;\r\n  @include box-shadow(5px, 6px, 15px, rgba(0, 0, 0, 0.45), inset);\r\n  border-top: 1px solid #eee;\r\n  iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0;\r\n    outline: 0;\r\n  }\r\n  .TYPE_PLUS_RIGHT-source-text {\r\n    margin-top: 55px;\r\n  }\r\n}\r\n\r\n.preview-view {\r\n  .close-tab {\r\n    right: 15px;\r\n    position: fixed;\r\n    top: 66px;\r\n    cursor: pointer;\r\n    z-index: 999;\r\n  }\r\n  i {\r\n    color: #bbb!important;\r\n  }\r\n  .full-width {\r\n    width: 100%!important;\r\n  }\r\n  .source-preview-content {\r\n    margin-top: 51px;\r\n  }\r\n  .source-details-tab {\r\n    >.panel-heading {\r\n      border-bottom: 1px solid #ebebeb;\r\n      margin: 0 -30px;\r\n      padding: 15px;\r\n      position: fixed;\r\n      background-color: #fff;\r\n      width: 100%;\r\n      z-index: 99;\r\n    }\r\n  }\r\n  .source-details-sub-content {\r\n    margin-top: 60px;\r\n  }\r\n  nav.navbar.navbar-default {\r\n    margin-bottom: 0;\r\n    position: fixed;\r\n    z-index: 99999;\r\n    width: 100%;\r\n  }\r\n  .tab-pane>.open-view>.card-frame {\r\n    margin: 0 -15px;\r\n    >.card-body {\r\n      padding-top: 0;\r\n    }\r\n  }\r\n  .nav-tabs>li>a {\r\n    // margin-right: -1px;\r\n    // line-height: 1.42857;\r\n    // border: 1px solid #ebebeb;\r\n    // border-radius: 0px;\r\n    padding: 15px 18px;\r\n    // background-color: #fafafa;\r\n    margin-bottom: -1px;\r\n    // color: #666!important;\r\n    .count-number {\r\n      margin-left: 2px;\r\n    }\r\n    i {\r\n      margin: 0 6px;\r\n    }\r\n  }\r\n  // .nav-tabs>li.active > a, \r\n  // .nav-tabs>li>a:hover, \r\n  // .nav-tabs>li>a:focus{\r\n  //     background-color: #fff;\r\n  //     border-bottom-color: #fff;\r\n  // }\r\n  // .nav-tabs>li>a:hover{\r\n  //     border-bottom:1px solid #ebebeb;\r\n  // }\r\n  // .nav-tabs>li.active>a:hover{\r\n  //     border-bottom:0px solid #ebebeb;\r\n  // }\r\n  .col-1 {\r\n    width: 13px;\r\n    padding: 8px;\r\n    float: left;\r\n  }\r\n  .gray-color a {\r\n    color: #666!important;\r\n  }\r\n  .source-iframe-container {\r\n    background-color: #ebebeb;\r\n    padding-right: 0;\r\n  }\r\n  .source-right-sidebar {\r\n    @include box-shadow( -3px, 4px, 10px, rgba(0,0,0,0.15));\r\n    position: absolute;\r\n    right: 0;\r\n    border-left: 1px solid #BBBBBB;\r\n    top: 51px;\r\n    bottom: 0;\r\n    overflow-y: scroll;\r\n  }\r\n}\r\n/*all source related css classes copied from *css */\r\n.source-info-container,\r\n.STRUCTURE-source_item_preview,\r\n.STRUCTURE-source_item,\r\n.STRUCTURE-source_preview_item,\r\n#note-count {\r\n  margin-bottom: 20px;\r\n  // padding: 3px 3% 8px;\r\n  .vote-button {\r\n    width: 25px;\r\n    height: 25px;\r\n  }\r\n  .source-icon {\r\n    padding: 5px;\r\n    float: left;\r\n  }\r\n\r\n  .vote-count {\r\n    width: 25px;\r\n    height: 20px;\r\n    padding-top: 0;\r\n  }\r\n  .item-content {\r\n    background: #FFFBE6;\r\n    padding: 14px;\r\n  }\r\n  .note-count {\r\n    background-color: #fff;\r\n    padding: 5px;\r\n    float: right;\r\n    overflow: hidden;\r\n    color: #aaa;\r\n    margin-right: 2px;\r\n  }\r\n  .SELF-source_icon3 {\r\n    float: left;\r\n  }\r\n  .SELF-source_icon3 img {\r\n    background-color: inherit;\r\n    opacity: 0.5;\r\n  }\r\n  .item-summary {\r\n    margin-left: 40px;\r\n    > div {\r\n      .show-link-in-popup {\r\n        float: right;\r\n      }\r\n      div {\r\n        display: inline;\r\n        .pointer-item.item-name {\r\n          padding-left: 0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.source-info-container {\r\n    margin-bottom: 0px;\r\n    font-size: 12px;\r\n    background: #FFFBE6;\r\n    display: inline-block;\r\n    width: 100%;\r\n    padding:6px;\r\n    &.with-vote-button .item-content {\r\n      padding: 16px;\r\n    }\r\n    .item-summary {\r\n    width: 78%;\r\n    }\r\n}\r\n\r\n.source-details-toggle {\r\n    cursor: pointer;\r\n  &.active .source-info-container {\r\n    outline: 2px solid #FFE251;\r\n  }\r\n  &:hover .source-info-container {\r\n    background: #FFF9DA;\r\n  }\r\n  .item-content{\r\n    background:none!important; \r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-source_item .last-update,\r\n.STRUCTURE-source_preview_item .last-update,\r\n.STRUCTURE-note_item,\r\n.STRUCTURE-company_note_item .last-update {\r\n  color: #ccc;\r\n  font-size: 12px;\r\n}\r\n.STRUCTURE-source_preview_item {\r\n  margin-top: 20px;\r\n  div.pointer-list,\r\n  div.search-result-list {\r\n    padding: 0;\r\n  }\r\n}\r\n.STRUCTURE-source_item,\r\n.STRUCTURE-source_preview_item {\r\n  .last-update {\r\n    float: left;\r\n    margin-top: 5px;\r\n  }\r\n  .item-content {\r\n    padding: 12px;\r\n    margin-left: 40px;\r\n    overflow: hidden;\r\n  }\r\n}\r\n.STRUCTURE-note_item,\r\n.STRUCTURE-company_note_item {\r\n  .item-content {\r\n    padding: 12px;\r\n    margin-left: 40px;\r\n    overflow: hidden;\r\n    background: #fff;\r\n  }\r\n}\r\n.STRUCTURE-note_item,\r\n.STRUCTURE-source_item,\r\n.STRUCTURE-source_preview_item {\r\n  &.card-content .missing-view {\r\n    display: none;\r\n  }\r\n}\r\n.STRUCTURE-source_item .last-edit,\r\n.STRUCTURE-source_preview_item .last-edit {\r\n  margin-bottom: 10px;\r\n  color: #adadad;\r\n  font-size: 12px;\r\n  .item-link {\r\n    padding-left: 0;\r\n  }\r\n}\r\n\r\n.RIGHT-new_value.TYPE_PLUS_RIGHT-html-new_value{\r\n  padding: 0!important;\r\n}\r\n\r\na.view-original-url {\r\n    position: absolute;\r\n    right: 10px;\r\n    color: #999;\r\n    cursor: pointer;\r\n    font-size: 11px;\r\n    width: 60px;\r\n}",
        "codename": "style_source_preview"
      },
      {
        "name": "script: wikirate scripts",
        "type": "Pointer",
        "content": "[[script: new note page]]\n[[script: new source page]]\n[[script: homepage carousel init]]\n[[homepage ie8 handling script]]\n[[script: source preview]]\n[[note chosen]]\n[[modal window script]]\n[[activate readmore script]]\n[[suggested source script]]\n[[empty tab content script]]\n[[script: filter search]]\n[[wikirate coffee]]\n[[script: overview page]]\n[[script: drag and drop]]\n[[script: metrics]]\n[[import page script]]\n[[script: showcase]]\n[[script: company page]]\n[[note citation script]]\n[[script: metric value]]"
      },
      {
        "name": "script: metric value",
        "type": "CoffeeScript",
        "content": "",
        "codename": "script_metric_value"
      },
      {
        "name": "script: source preview",
        "type": "CoffeeScript",
        "content": "var pageName = \"\";\r\nvar url = \"\";\r\nvar decodedUrl = \"\";\r\nvar userId = \"\";\r\nvar company = \"\";\r\nvar topic = \"\";\r\nvar encodedCompany = \"\";\r\nvar encodedTopic = \"\";\r\nvar encodedUrl = \"\";\r\nvar loadingImageUrl = \"{{loading gif|source;size:large}}\";\r\nvar markedIrrelevant = false;\r\n\r\nfunction testSameOrigin(testUrl,pageN) {\r\n  $.getJSON(\"Source.json?view=check_iframable&url=\" + testUrl, function(data) {\r\n    if (!data.result) { //remove iframe and show redirection message\r\n      $('#webpage-preview').html(\"\");\r\n       $redirectNotice = $(\"<div>\", {\r\n        \"class\": \"redirect-notice\"\r\n      });\r\n      if(pageN!==\"\")\r\n      {\r\n        //locally\r\n        //Page_000001545?view=content&slot[structure]=source%20item%20preview\r\n        $.ajax(\"/\"+pageName+\"?view=content&slot[structure]=source%20item%20preview\")\r\n        .done(function(noteFormHtml) {\r\n          $redirectNotice.append(noteFormHtml);\r\n          $redirectNotice.trigger('slotReady');\r\n        })\r\n        .fail(function(xhr, ajaxOptions, thrownError) {\r\n          var html = $(xhr.responseText);\r\n          html.find('.card-header').remove();\r\n          $redirectNotice.append(html);\r\n        });\r\n      }\r\n      $('#webpage-preview').append($redirectNotice);\r\n      $('#webpage-preview').addClass(\"non-previewable\");\r\n    }\r\n  });\r\n\r\n}\r\n\r\nfunction resizeIframe() {\r\n  $(\".webpage-preview\").height($(window).height() - $('.navbar').height()-1);\r\n  //$(\".webpage-preview\").css('margin-top',$('.navbar').height()+1);\r\n}\r\n\r\nfunction closeTabContent(){\r\n  $(\".preview-view .tab-content .close-tab\").click(function(){\r\n    $(\".source-right-sidebar\").hide();\r\n    $(\".source-iframe-container\").addClass(\"full-width\");\r\n    $(\".nav.nav-tabs .active\").removeClass(\"active\");\r\n    $(\".tab-content .active\").removeClass(\"active\");\r\n    $(\".tab-content\").hide();\r\n  })\r\n}\r\n\r\nfunction showTabContent(){\r\n      $(\".source-right-sidebar\").show();\r\n      $(\".tab-content\").show();\r\n      $(\".source-iframe-container\").removeClass(\"full-width\");\r\n}\r\n  \r\n$(document).ready(function() {\r\n\r\n  if($(\"body\").attr(\"id\")==\"source-preview-page-layout\"){\r\n    closeTabContent();\r\n    $('[data-toggle=\"source_preview_tab_ajax\"]').click(function(e) {\r\n      showTabContent();\r\n      var $this = $(this),\r\n          loadurl = $this.attr('href'),\r\n          targ = $this.attr('data-target');\r\n      if (undefined !== loadurl){\r\n          $.get(loadurl, function(data) {\r\n              $(targ).html(data);\r\n          });\r\n      }\r\n\r\n      $this.tab('show');\r\n      return false;\r\n    });\r\n\r\n    $(\"#logo-bar\").dblclick(function() {\r\n      return false;\r\n    });\r\n    pageName = $(\"#source-name\").html();\r\n    url = $(\"#source_url\").html();\r\n    company = $(\"#source_company\").html();\r\n    topic = $(\"#source_topic\").html();\r\n\r\n    if (url) {\r\n      testSameOrigin(url,pageName);\r\n      decodedUrl = decodeURIComponent(url);\r\n    }\r\n\r\n    resizeIframe();\r\n    // $('.show-link-in-popup').each(function(){\r\n    //   $(this).off(\"click\").click(linkOnClick);\r\n    // });\r\n    $(window).resize(function() {\r\n      resizeIframe();\r\n    });\r\n    \r\n    $('[data-target=\"#tab_claims\"]').trigger(\"click\");\r\n  }\r\n\r\n});\r\n",
        "codename": "script_source_preview"
      },
      {
        "name": "script: rating",
        "type": "CoffeeScript",
        "content": "sortDragItems = (list, key, order='desc') ->\r\n  order = if order == 'desc' then 1 else -1\r\n  $(list).find('.yinyang-row').sortElements (a, b) -> \r\n    if $(a).data(\"sort-#{key}\") > $(b).data(\"sort-#{key}\") then -1*order else order\r\n    \r\n$(document).ready ->  \r\n    $loader_anime = $(\"#ajax_loader\").html();\r\n    \r\n    $('body').on 'click.collapse-next', '[data-toggle=collapse-next]', ->\r\n        $this     = $(this)\r\n        parent    = $this.data(\"parent\")\r\n        collapse  = $this.data(\"collapse\")+\".collapse\"\r\n        $target   = $this.closest(parent).find(collapse)\r\n  \r\n        if !$target.data('collapse')\r\n          $target.collapse('toggle').on('shown.bs.collapse', ->\r\n            $this.parent().find('.fa-caret-right ').removeClass('fa-caret-right ').addClass 'fa-caret-down'\r\n          ).on 'hidden.bs.collapse', ->\r\n            $this.parent().find('.fa-caret-down').removeClass('fa-caret-right').addClass 'fa-caret-right'\r\n    \r\n    \r\n    # vote buttons\r\n    \r\n    drop_list = (votee, vote_type) ->\r\n      $(votee).closest('.voting').find(\".list-drag-and-drop[data-bucket-name=#{vote_type}]\")\r\n    \r\n    appendDragItem = (vote_type, vote_button) ->\r\n      drag_item = $(vote_button).closest('.drag-item')\r\n      old_list = drag_item.parent()\r\n      new_list = drop_list(drag_item, vote_type)\r\n      $(new_list).append(drag_item)\r\n      updateHints(old_list, new_list)\r\n    \r\n    prependDragItem = (vote_type, vote_button) ->\r\n      drag_item = $(vote_button).closest('.drag-item')\r\n      old_list = drag_item.parent()\r\n      new_list = drop_list(drag_item, vote_type)\r\n      $(new_list).prepend(drag_item)\r\n      updateHints(old_list, new_list)\r\n    \r\n    \r\n    # no vote -> up vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=no_vote] .drag-item .vote-up button.vote-link', ->\r\n      appendDragItem('up_vote', this)\r\n    \r\n    # down vote -> no vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=down_vote] .drag-item .vote-up button.vote-link', ->\r\n      appendDragItem('no_vote', this)\r\n    \r\n    # up vote -> no vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=up_vote] .drag-item .vote-down button.vote-link', ->\r\n      prependDragItem('no_vote', this)\r\n    \r\n    # no vote -> down vote\r\n    $('body').on 'click', '.list-drag-and-drop[data-bucket-name=no_vote] .drag-item .vote-down button.vote-link', ->\r\n      prependDragItem('down_vote', this)\r\n    \r\n    \r\n    # details toggle\r\n    $('body').on 'click',' .metric-item .hide-with-details', ->\r\n       $(this).siblings(\".details-toggle\").trigger(\"click\")\r\n    $('body').on 'click',\".details-toggle\", ->\r\n      toggleDetails this\r\n    $('body').on 'click',\".metric-details-toggle, .metric-details-close-icon\", ->\r\n      toggleMetricDetails this\r\n    $('body').on 'click',\".overview-details-toggle, .details-close-icon\", ->\r\n      toggleMetricDetails this\r\n    $('body').on 'click', '.yinyang-row > .header', ->\r\n      toggleDetails $(this).closest('.yinyang-row').find('.details-toggle')\r\n      \r\n    activeDetails = null;\r\n    \r\n    toggleMetricDetails = (toggle) ->\r\n      \r\n      row = $(toggle).closest('.yinyang-row')\r\n      details = $(row).find('.details')\r\n      if details.is(':visible')\r\n        #for hide_with_details in $(row).find('.hide-with-details') \r\n          #$(hide_with_details).show()\r\n        #for show_with_details in $(row).find('.show-with-details') \r\n          #$(show_with_details).hide()\r\n        details.hide()\r\n        row.find(\".value-item, .list-item\").first().removeClass(\"active\")\r\n      else if !$.trim(details.html()) # empty\r\n        loader_anime = $(\"#ajax_loader\").html();\r\n        details.append(loader_anime);\r\n        activeItem = $(\".yinyang-list .value-item:first-child.active, .search-result-list .overview-item:first-child.active\")\r\n        activeItem.find(\".details\").hide();\r\n        activeItem.removeClass(\"active\");\r\n        row.find(\".value-item, .list-item\").first().addClass(\"active\")\r\n        card_slot = $(toggle).closest('.card-slot')\r\n        card_name = card_slot.attr('id')\r\n        if card_slot.hasClass(\"LTYPE_RTYPE-metric-company\")\r\n          # to re order the card name to get the metric details\r\n          card_names = card_name.split(\"+\")\r\n          card_name = card_names[2]+\"+\"+card_names[0]+\"+\"+card_names[1]+\"+yinyang_drag_item\"\r\n        view = $(toggle).data('view') || 'content'\r\n        right_name = $(toggle).data('append') \r\n        load_path = \"/#{card_name}+#{right_name}?view=#{view}\"\r\n        details.show()\r\n        #for hide_with_details in $(row).find('.hide-with-details') \r\n          #$(hide_with_details).hide()\r\n        #for show_with_details in $(row).find('.show-with-details') \r\n          #$(show_with_details).show()\r\n        $(details).load load_path, ->\r\n          $(details).trigger('slotReady')\r\n      else\r\n        activeItem = $(\".yinyang-list .value-item:first-child.active, .search-result-list .list-item:first-child.active\")\r\n        activeItem.find(\".details\").hide();\r\n        activeItem.removeClass(\"active\");\r\n        row.find(\".value-item, .list-item\").first().addClass(\"active\")\r\n        #for hide_with_details in $(row).find('.hide-with-details') \r\n          #$(hide_with_details).hide()\r\n        #for show_with_details in $(row).find('.show-with-details') \r\n          #$(show_with_details).show()\r\n        details.show()    \r\n      activeDetails = $('.yinyang-list .value-item:first-child.active > .details,  .search-result-list .list-item:first-child.active > .details')  \r\n      stickMetricDetails()\r\n      \r\n    #stick the metric details when scrolling \r\n    stickMetricDetails = () ->\r\n      if $(document).scrollTop() > 56\r\n        activeDetails.addClass 'stick'\r\n      else\r\n        activeDetails.removeClass 'stick'\r\n      \r\n      if($(window).scrollTop() > ($(\"#main\").height()-$(window).height()+300))\r\n        activeDetails.removeClass(\"stick\");\r\n    \r\n      return\r\n    \r\n    $(window).scroll ->\r\n      if(activeDetails)\r\n        stickMetricDetails()\r\n      \r\n      \r\n    toggleDetails = (toggle) ->\r\n      $(toggle).find('.glyphicon').toggleClass('glyphicon-triangle-bottom','glyphicon-triangle-right')\r\n      row = $(toggle).closest('.yinyang-row')\r\n    \r\n        \r\n      details = $(row).find('.details')\r\n      if details.is(':visible')\r\n        for hide_with_details in $(row).find('.hide-with-details') \r\n          $(hide_with_details).show()\r\n        for show_with_details in $(row).find('.show-with-details') \r\n          $(show_with_details).hide()\r\n        details.hide()\r\n      else if !$.trim(details.html()) # empty\r\n        card_slot = $(toggle).closest('.card-slot')\r\n        card_name = card_slot.attr('id')\r\n        if card_slot.hasClass(\"LTYPE_RTYPE-metric-company\")\r\n          # to re order the card name to get the metric details\r\n          card_names = card_name.split(\"+\")\r\n          card_name = card_names[2]+\"+\"+card_names[0]+\"+\"+card_names[1]+\"+yinyang_drag_item\"\r\n        view = $(toggle).data('view') || 'content'\r\n        right_name = $(toggle).data('append') \r\n        load_path = \"/#{card_name}+#{right_name}?view=#{view}\"\r\n        details.show()\r\n        for hide_with_details in $(row).find('.hide-with-details') \r\n          $(hide_with_details).hide()\r\n        for show_with_details in $(row).find('.show-with-details') \r\n          $(show_with_details).show()\r\n        $(details).load load_path, ->\r\n          $(details).trigger('slotReady')\r\n      else\r\n        for hide_with_details in $(row).find('.hide-with-details') \r\n          $(hide_with_details).hide()\r\n        for show_with_details in $(row).find('.show-with-details') \r\n          $(show_with_details).show()\r\n        details.show()\r\n      \r\n    \r\n    # filter\r\n      \r\n    $('body').on 'click','.votee-filter .filter-header', ->\r\n      $(this).find('.filter-toggle .glyphicon').toggleClass('glyphicon-triangle-bottom','glyphicon-triangle-right')\r\n      $(this).next().toggle()\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    ###*\r\n    # jQuery.fn.sortElements\r\n    # --------------\r\n    # @param Function comparator:\r\n    #   Exactly the same behaviour as [1,2,3].sort(comparator)\r\n    #   \r\n    # @param Function getSortable\r\n    #   A function that should return the element that is\r\n    #   to be sorted. The comparator will run on the\r\n    #   current collection, but you may want the actual\r\n    #   resulting sort to occur on a parent or another\r\n    #   associated element.\r\n    #   \r\n    #   E.g. $('td').sortElements(comparator, function(){\r\n    #      return this.parentNode; \r\n    #   })\r\n    #   \r\n    #   The <td>'s parent (<tr>) will be sorted instead\r\n    #   of the <td> itself.\r\n    ###\r\n    \r\n    jQuery.fn.sortElements = do ->\r\n      sort = [].sort\r\n      (comparator, getSortable) ->\r\n        getSortable = getSortable or ->\r\n          this\r\n        placements = @map(->\r\n          sortElement = getSortable.call(this)\r\n          parentNode = sortElement.parentNode\r\n          nextSibling = parentNode.insertBefore(document.createTextNode(''), sortElement.nextSibling)\r\n          ->\r\n            if parentNode == this\r\n              throw new Error('You can\\'t sort elements if any one is a descendant of another.')\r\n            # Insert before flag:\r\n            parentNode.insertBefore this, nextSibling\r\n            # Remove flag:\r\n            parentNode.removeChild nextSibling\r\n            return\r\n        )\r\n        sort.call(this, comparator).each (i) ->\r\n          placements[i].call getSortable.call(this)\r\n          return\r\n          \r\n    \r\n    for list in $('.yinyang-list')\r\n      if sortKey = $(list).data('default-sort')\r\n        sortDragItems(list, sortKey)\r\n        $(list).closest('.voting').find(\".filter-details .#{sortKey}\").tab('show')\r\n      if $(list).find('.drag-item:visible').length == 0\r\n        $(list).find('.empty-message').show()\r\n        \r\n    \r\n    \r\n            \r\n        \r\nwagn.slotReady (slot) ->\r\n  handleDropEvent = ( event, ui ) ->\r\n    drag_item = ui.item \r\n    new_list = drag_item.parent()\r\n    if new_list.parent().is(old_list.parent()) # don't mix topics and metrics\r\n      updateHints(old_list, new_list)\r\n      update_path = drag_item.data('update-path') + '&' + $(new_list).data('query')\r\n      if next_item = $(drag_item).next('.drag-item')\r\n        update_path += '&insert-before=' + next_item.data('votee-id')\r\n      vote = drag_item.find('.vote-count') \r\n      $(vote).closest('.card-slot').load(update_path)\r\n    else\r\n      $( this ).sortable( \"cancel\" )\r\n  \r\n  old_list = null\r\n  \r\n  handleStopEvent = (event, ui) ->\r\n    new_list = ui.item.parent()\r\n    if !new_list.parent().is(old_list.parent())\r\n      $( this ).sortable( \"cancel\" )\r\n  \r\n  handleStartEvent = (event, ui) ->\r\n    old_list = ui.item.parent()\r\n    \r\n    \r\n  #if slot.hasClass('tab-content')# && (slot.hasClass('RIGHT-metric_sidebar') || slot.hasClass('RIGHT-topic_sidebar'))\r\n  \r\n  updateHints = (old_list, new_list) ->\r\n    if $(old_list).find('.drag-item:visible').length == 0\r\n      $(old_list).find('.unsaved-message').hide()\r\n      $(old_list).find('.empty-message').show()\r\n    $(new_list).find('.empty-message').hide()\r\n    $(new_list).find('.unsaved-message').show()\r\n  \r\n  \r\n  slot.find('.filter-details .filter').on 'click', ->\r\n    list = $(this).closest('.votee-filter').next().next() #('.list-drag-and-drop[data-bucket-name=no_vote]')\r\n    sortDragItems(list, $(this).data('sort-key'), $(this).data('sort-order'))\r\n  \r\n  slot.find('.voting .list-drag-and-drop').sortable\r\n      connectWith: '.voting .list-drag-and-drop'\r\n      items: \".drag-item\"\r\n      update: handleDropEvent\r\n      start: handleStartEvent\r\n      stop: handleStopEvent\r\n      dropOnEmpty: true\r\n      revert: false\r\n      \r\n  \r\n  "
      },
      {
        "name": "Project+*type+*structure",
        "type": "HTML",
        "content": "<div class=\"container\">\r\n  <div class=\"row clearfix\">\r\n    {{#+banner|content}}\r\n\r\n    <div class=\"col-md-8 column\">\r\n      <div class=\"row nopadding\">\r\n          <div class=\"col-md-3-5\">\r\n            <div class=\"thumbnail\">\r\n              {{+image|size:large}}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-8\">\r\n            <div class=\"panel panel-default\">\r\n              <div class=\"panel-body \">\r\n\r\n              \t<div class=\"row\">\r\n              \t    <div class=\"col-md-3 cold-sm-3\">  <label><span class=\"card-title\">Organizer</span></label></div>\r\n                    <div class=\"col-md-9 cold-sm-9\">{{+Organizer|show:menu;type:pointer|link}}</div>\r\n              \t</div>\r\n              \t<div class=\"row\">\r\n              \t    <div class=\"col-md-3 cold-sm-3\"> <label><span class=\"card-title\">Status</span></label></div>\r\n                    <div class=\"col-md-9 cold-sm-9\">{{+status|content;show:menu|name}} </div>\r\n              \t</div>\r\n              \t <div class=\"row\">\r\n              \t    <div class=\"col-md-3 cold-sm-3\"> <label><span class=\"card-title\">Twitter#</span></label></div>\r\n                    <div class=\"col-md-9 cold-sm-9\">{{+Hashtag|show:menu}} </div>\r\n              \t</div>\r\n              \t<div class=\"row\">\r\n                    <div class=\"col-md-3 cold-sm-3\"> <label><span class=\"card-title\">Topics</span></label></div>\r\n                    <div class=\"col-md-9 cold-sm-9\">{{+Topics|show:menu|link;type:Topic}} </div>\r\n              \t</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n      \r\n\r\n        <div class=\"panel-primary-container\">\r\n          {{+Description|title:Description;view:open;hide:horizontal_menu}} \r\n        </div>\r\n\r\n        <div class=\"panel-primary-container\">\r\n          {{+Vision|title:Vision;view:open;hide:horizontal_menu}}\r\n        </div>\r\n\r\n\r\n      <div class=\"panel panel-primary\">\r\n        <div class=\"panel-heading\">\r\n          <h3 class=\"panel-title\">\r\n\t\t\t\t\t\tConversations\r\n\t\t\t\t\t</h3>\r\n        </div>\r\n        <div class=\"panel-body list-group\">\r\n          {{+conversation||content;structure: list item }}\r\n          <br>\r\n          <a href=\"/new/Conversation?_Initiative={{_|name}}\" class=\"btn btn-primary\"><i class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></i> Add Conversation</a>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n    <div class=\"col-md-4 column\">\r\n        {{+Metrics|title:Metrics;view:open;hide:horizontal_menu;show:help|content; structure: metric list item }}\r\n        {{+Company search|title:Add Metric value;view:open;hide:horizontal_menu;show:help|content}}\r\n        {{#+Twitter feed|content}}\r\n\r\n      \r\n      <!--<div class=\"panel panel-default\">-->\r\n      <!--  <div class=\"panel-heading\">-->\r\n      <!--    <h3 class=\"panel-title\">Participants</h3> </div>-->\r\n      <!--  <div class=\"panel-body list-group\">-->\r\n         {{#+Participants|hide:paging|content ;structure:list item with image}}\r\n      <!--  </div>-->\r\n      <!--</div>-->\r\n    </div>\r\n\r\n  </div>\r\n</div>"
      },
      {
        "name": "project+company search+*type plus right+*structure",
        "type": "Search",
        "content": "{\r\n  \"referred_to_by\": \"_1+companies\",\r\n  \"type\":\"company\",\r\n  \"prepend\":\"_1\"\r\n}"
      },
      {
        "name": "project+company+*ltype rtype+*structure",
        "type": "HTML",
        "content": "<a class=\"inherit-anchor\" href=\"/{{_2|linkname}}?view=new_metric_value&project={{_1|name}}\">\r\n    <div class=\"recent-editors-container list-group-item\">\r\n    <div class=\"row clearfix\">\r\n\t\t<div class=\"col-md-1 col-xs-1 editor-image\">\r\n\t\t\t{{_2+image}} \r\n\t\t</div>\r\n\t\t<div class=\"col-md-10 column ellipsis\" >{{_2|name}}</div>\r\n\t</div>\r\n\t</div>\r\n</a>"
      },
      {
        "name": "company metric drag item",
        "type": "HTML",
        "content": "  \r\n  <!--prototype: Company+MetricDesigner+MetricName+yinyang drag item -->\r\n  <div class=\"metric-item value-item\">\r\n    <div class=\"header\">\r\n      <div class=\"handle hidden-xs\">\r\n        <span class=\"glyphicon glyphicon-option-vertical\"></span>\r\n      </div>\r\n      <div class=\"\">{{_llr+_lr+*vote count}}</div>\r\n      <a href=\"{{_llr+contributions|linkname}}\">\r\n      <div class=\"logo hidden-xs hidden-md\">\r\n        {{_llr+image|core;size:small}} \r\n      </div>\r\n      </a>\r\n      <div class=\"name\">\r\n        <a class=\"inherit-anchor\" href=\"{{_llr+_lr|linkname}}\">\r\n          {{_lr|name}}\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div class=\"data metric-details-toggle\" data-append=\"metric_details_metric_header\">\r\n      <div class=\"data-item hide-with-details\">\r\n        {{_llr+_lr+_1+latest value|concise}}\r\n      </div>\r\n      <div class=\"data-item show-with-details text-center\">\r\n        <span class=\"label label-metric\">[[_llr+_lr|Metric Details]]</span> \r\n      </div>\r\n    </div>\r\n    <div class=\"details\">\r\n    </div>\r\n  </div>"
      },
      {
        "name": "Source+*type+*structure",
        "type": "HTML",
        "content": "<div class=\"col-md-12 new-source-widget\">\r\n  <div class=\"row\">\r\n    <div class=\"new-source-tab\">\r\n      <ul id=\"myTab\" class=\"nav nav-pills\" role=\"tablist\">\r\n        <li role=\"presentation\" class=\"active\">\r\n          <a href=\"#url\" id=\"url-tab\" role=\"tab\" data-source-type='Link' data-toggle=\"tab\" aria-controls=\"url\" aria-expanded=\"true\"><i class=\"fa fa-globe\"></i> URL</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#file\" role=\"tab\" id=\"file-tab\" data-toggle=\"tab\" data-source-type='File' aria-controls=\"file\" aria-expanded=\"false\"><i class=\"fa fa-upload\"></i> File</a>\r\n        </li>\r\n        <li role=\"presentation\" class=\"\">\r\n          <a href=\"#text\" role=\"tab\" id=\"text-tab\" data-toggle=\"tab\" data-source-type='Text' aria-controls=\"text\" aria-expanded=\"false\"><i class=\"fa fa-pencil\"></i> Report</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <br>\r\n    <div id=\"myTabContent\" class=\"tab-content\">\r\n      <div role=\"tabpanel\" class=\"tab-pane fade active in\" id=\"url\" aria-labelledby=\"url-tab\">\r\n        {{+Link|titled; title:URL}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"file\" aria-labelledby=\"file-tab\">\r\n        {{+File|titled; title:File}}\r\n      </div>\r\n      <div role=\"tabpanel\" class=\"tab-pane fade\" id=\"text\" aria-labelledby=\"text-tab\">\r\n        {{+Text|titled; title:Text}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" style=\"display:none\">\r\n    <div class=\"first-meta tab-content\">\r\n      <button type=\"button\" class=\"btn btn-default btn-xs\" id=\"suggest_button\">Suggest Title and Description</button>\r\n      {{+Title|titled; title:Title}} {{+Description|titled;title:Description}}\r\n      <div class=\"row-data first-meta\" >\r\n        <a id=\"add-company-and-topic\" href=\"#\">\r\n          <i class=\"fa fa-building-o\"></i>Add Company\r\n        </a>\r\n      </div>\r\n      \r\n      <div id=\"company-topic-meta\" style=\"display:none;\">\r\n        {{+Companies|titled; title:Companies|link}}\r\n      </div>\r\n      \r\n      <div class=\"row-data first-meta\" >\r\n       <a href=\"#\" id=\"add-tags-other\">\r\n          <i class=\"fa fa-tag\"></i>Add Topic, Date and other\r\n        </a>\r\n      </div>\r\n      \r\n      \r\n      <div id=\"tag-date-others-meta\" style=\"display:none;\">\r\n        {{+Topics|titled; title:Topics|link}} {{#+Tags|titled;title:Tags; item:link}} {{+Date|titled;title:Date}} {{+Website|titled;title:Website|link}}\r\n      </div>\r\n    \r\n    </div>\r\n  </div>\r\n  <div style='display:none;'>{{+*source type}}</div>\r\n</div>"
      },
      {
        "name": "source structure",
        "type": "HTML",
        "content": "\r\n\r\n<div class=\"col-md-12 source-details-tab\">\r\n<div class=\"panel-heading\">\r\n\t\t\t\t\t<h3 class=\"panel-title\">\r\n\t\t\t\t\t\tSource Details\r\n\t\t\t\t\t</h3>\r\n</div>\r\n<br>\r\n<br>\r\n{{_|content; structure:source preview item}}\r\n\r\n\t<div class=\"row clearfix\">\r\n\t\t<div class=\"col-md-12 column\">\r\n\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t<div class=\"col-1 column\">\r\n\t\t\t\t  <i class=\"fa fa-info-circle\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-md-11 column\">\r\n\t\t\t\t  {{+Title|titled;title:Title}}\r\n\t\t\t\t  {{+Description|titled;title:Description}}\r\n\t\t\t\t  {{+Year|titled;title:Year}}\r\n\t\t\t\t  {{#+Date|titled;title:Date}}\r\n\t\t\t\t  {{+Report type|titled;title:Report Type|name}}\r\n          {{#+Website|titled;title:Website|link}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row clearfix\">\r\n\t\t\t\t<div class=\"col-1 column\">\r\n\t\t\t\t  <i class=\"fa fa-tag\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-md-11 column\">\r\n\t\t\t\t    {{+Companies|titled; title:Companies|link}}\r\n            {{+Topics|titled; title:Topics|link}}\r\n            {{#+Tags|titled;title:Tags; item:link}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row clearfix\">\r\n\t\t\t  {{+Discussion|titled;title:Discussion;show:comment_box,menu}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n  \r\n  \r\n  \r\n\r\n\r\n  \r\n\r\n\r\n"
      }
    ]
  }
}