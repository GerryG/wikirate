{
  "url": "http://dev.wikirate.org/export.json",
  "timestamp": "2014-09-24 06:48:28 +0200",
  "card": {
    "name": "export",
    "type": "Pointer",
    "content": "[[source preview page]]\n[[source preview page script]]\n[[source preview page skin]]\n[[source preview page layout]]\n[[source_preview_page+*self+*layout]]\n[[source_preview_page+*self+*script]]\n[[Page+source_claim+*type plus right+*structure]]\n[[source_company_and_topic]]\n[[Analysis+right sidebar+*type plus right+*structure]]\n[[source link preview]]\n[[suggested source script]]\n[[Page+*type+*structure]]\n[[readmore_script]]\n[[page preview button link]]\n[[source preview script]]\n[[*css]]\n[[*all+*script]]\n[[suggested source]]\n[[loading gif]]",
    "value": [
      {
        "name": "source preview page",
        "type": "HTML",
        "content": "<div id=\"loading_image_div\" style=\"display:none\">\r\n  <img src='{{loading gif|source;size:large}}' style=\"width:100%\" />\r\n</div>\r\n<div id=\"logo-bar\" class=\"top-bar nodblclick\">\r\n  <div id=\"claim-form\" style=\"display:none\">\r\n  </div>\r\n  <div id=\"irrelevant-options\" style=\"display:none\">\r\n    <span>This source is not related to:</span>\r\n    <br />\r\n    <div id=\"company-irrelevant\" class=\"button-primary  button-secondary\">\r\n      <a href=\"#\" id=\"company-irrelevant-button\">Company</a>\r\n    </div>\r\n    <div id=\"topic-irrelevant\" class=\"button-primary  button-secondary\">\r\n      <a href=\"#\" id=\"topic-irrelevant-button\">Topic</a>\r\n    </div>\r\n\r\n    <div id=\"either-irrelevant\" class=\"button-primary  button-secondary\">\r\n      <a href=\"#\" id=\"either-irrelevant-button\">Either</a>\r\n    </div>\r\n\r\n  </div>\r\n  <div id=\"company-and-topic-detail\" style=\"display:none\">\r\n  </div>\r\n  <div class=\"top-bar-icon\">\r\n    [[/|{{*logo|size:original}}]]\r\n  </div>\r\n\r\n  <div class=\"menu-options\">\r\n\r\n    <div id=\"mark-irrelevant\" class=\"button-primary button-secondary\" style=\"display:none;\">\r\n      <a href=\"#\" id=\"mark-irrelevant-button\">\r\n        <i class=\"fa fa-exclamation-triangle\">\r\n        </i>\r\n        Mark as Irrelevant\r\n      </a>\r\n    </div>\r\n    <div id=\"source-page-link\" class=\"mark-irrelevant-button\" style=\"display:none;\">\r\n      <a href=\"#\" id=\"source-page-button\" target=\"_blank\">\r\n        Source Page\r\n        <i class=\"fa fa-chevron-circle-right\"></i>\r\n      </a>\r\n      <a href=\"#\" id=\"direct-link-button\" target=\"_blank\">\r\n        Direct Link\r\n        <i class=\"fa fa-chevron-circle-right\"></i>\r\n      </a>\r\n    </div>\r\n    <div id=\"make-claim\" class=\"new-claim-button\" style=\"display:none;\">\r\n\r\n      <button class=\"create-submit-button\" id=\"make-a-claim-button\" name=\"button\">\r\n        Make a claim\r\n      </button>\r\n\r\n    </div>\r\n\r\n    <div id=\"claim-count\" style=\"display:none;\">\r\n      <span id=\"claim-number\">\r\n        0\r\n      </span>\r\n      Claim\r\n    </div>\r\n\r\n\r\n  </div>\r\n\r\n  <div id=\"company-and-topic\" class=\"company-and-topic\">\r\n\r\n    <div class=\"company-name\">\r\n    </div>\r\n    <div class=\"topic-name\">\r\n    </div>\r\n    <a href=\"#\" id=\"company-and-topic-detail-link\" style=\"display:none;\">\r\n\r\n      <i class=\"fa fa-caret-square-o-down\"></i>\r\n    </a>\r\n  </div>\r\n</div>\r\n<div id=\"webpage-preview\" class=\"webpage-preview\">\r\n  <!--\r\n<iframe src=\"http://wikirate.org\" sandbox=\"allow-same-origin allow-scripts allow-forms\" >\r\n</iframe>\r\n-->\r\n</div>"
      },
      {
        "name": "source preview page script",
        "type": "JavaScript",
        "content": "var pageName = \"\";\r\nvar existingSource = false;\r\nvar companyName = \"\";\r\nvar topicName = \"\";\r\nfunction testSameOrigin(testUrl) {\r\n  $.getJSON(\"source%20preview%20page.json?view=check_iframable&url=\" + testUrl, function(data) {\r\n    if (!data.result) { //remove iframe and show redirection message\r\n      $('#webpage-preview').html(\"\");\r\n      $redirectNotice = $(\"<div>\", {\r\n        class: \"redirect-notice\"\r\n      });\r\n      $redirectNotice.append(\"Sorry that we cannot embed this in our webpage. Please visit the website directly. <a href='\" + testUrl + \"' target='_blank'>Click me</a><br /> You can still make a claim or mark it as relevant.\");\r\n      $('#webpage-preview').append($redirectNotice);\r\n    }\r\n  });\r\n\r\n}\r\n\r\nvar QueryString = function() {\r\n  // This function is anonymous, is executed immediately and \r\n  // the return value is assigned to QueryString!\r\n  var query_string = {};\r\n  var query = window.location.search.substring(1);\r\n  var vars = query.split(\"&\");\r\n  for (var i = 0; i < vars.length; i++) {\r\n    var pair = vars[i].split(\"=\");\r\n    var key = pair[0].toLowerCase();;\r\n    var value = pair[1];\r\n    // If first entry with this name\r\n    if (typeof query_string[key] === \"undefined\") {\r\n      query_string[key] = value;\r\n      // If second entry with this name\r\n    } else if (typeof query_string[key] === \"string\") {\r\n      var arr = [query_string[key], value];\r\n      query_string[key] = arr;\r\n      // If third or later entry with this name\r\n    } else {\r\n      query_string[key].push(value);\r\n    }\r\n  }\r\n  return query_string;\r\n}();\r\nfunction getSourceFirstCompany(){\r\n var jqxhr = $.ajax(\"/\"+pageName+decodeURIComponent(\"+\")+\"company.json?item=name\")\r\n    .done(function(data) {\r\n      if(data.card.value.length>0)\r\n      {\r\n        //show this company name\r\n        companyName = data.card.value[0].name;\r\n        $('#company-and-topic').find('.company-name').html(\"<a href='\"+companyName+\"' target='_blank'><span class='company-name'>\"+decodeURIComponent(companyName)+\"</span></a>\");\r\n      }else\r\n      {\r\n        //TODO: what to do then?\r\n        //add \"add company and show detail company and topic\"\r\n        //show detail when click in existing source case\r\n        $('#company-and-topic').find('.company-name').html(\"<a id='add-company-link' href='#' ><span class='add-company'>Add Company</span></a>\");\r\n        $(\"#add-company-link\").click(comapnyAndTopicDetailLinkClicked);\r\n      }\r\n      \r\n\r\n    })\r\n    .fail(function() {\r\n      console.log(\"Fail to get get company name from source\");\r\n    });\r\n}\r\nfunction getSourceFirstTopic(){\r\n var jqxhr = $.ajax(\"/\"+pageName+decodeURIComponent(\"+\")+\"topic.json?item=name\")\r\n    .done(function(data) {\r\n      if(data.card.value.length>0)\r\n      {\r\n        //show this topic name\r\n        topicName = data.card.value[0].name;\r\n        $('#company-and-topic').find('.topic-name').html(\"<a href='\"+topicName+\"' target='_blank'><span class='topic-name'>\"+decodeURIComponent(topicName)+\"</span></a>\");\r\n      }else\r\n      {\r\n        //TODO: what to do then?\r\n        //add \"add company and show detail company and topic\"\r\n        //show detail when click in existing source case\r\n        $('#company-and-topic').find('.topic-name').html(\"<a id='add-topic-link' href='#' ><span class='add-topic'>Add Topic</span></a>\");\r\n        $(\"#add-topic-link\").click(comapnyAndTopicDetailLinkClicked);\r\n      }\r\n      \r\n\r\n    })\r\n    .fail(function() {\r\n      console.log(\"Fail to get get company name from source\");\r\n    });\r\n}\r\nfunction enableMakeClaimButton() {\r\n  $(\"#make-a-claim-button\").removeAttr(\"disabled\");\r\n}\r\n\r\nfunction resizeIframe() {\r\n  $(\"#webpage-preview\").height($(window).height() - $('#logo-bar').height());\r\n}\r\n\r\nfunction showFromCerthSourceOptions() {\r\n \r\n  //new source, change the text \"make a claim\" to Relevant\r\n  //show irrelevant button\r\n  $(\"#make-a-claim-button\").html(\"Relevant\");\r\n  $(\"#mark-irrelevant\").show();\r\n \r\n\r\n  $(\"#make-claim\").show();\r\n}\r\nvar showExisitingSourceOptions = function(){\r\n\r\n  $(\"#source-page-link\").show();\r\n  $('#company-and-topic-detail-link').show();\r\n  $('#source-page-button').attr(\"href\", \"/\" + pageName);\r\n  $('#direct-link-button').attr(\"href\", QueryString.url);\r\n  refreshClaimNumber(pageName);\r\n  $(\"#make-claim\").show();\r\n};\r\nvar reloadTopBarAsExisitingSource = function(){\r\n  //enable dropdown icon\r\n  //relevant to make a claim\r\n  //show direct link and source page link\r\n  //hide the irrelevant link\r\n  $(\"#mark-irrelevant\").hide();\r\n  $('#company-and-topic-detail-link').show();\r\n  $(\"#make-a-claim-button\").html(\"Make a claim\");\r\n  $('#source-page-button').attr(\"href\", \"/\" + pageName);\r\n  $('#direct-link-button').attr(\"href\", QueryString.url);\r\n  $(\"#source-page-link\").show();\r\n  refreshClaimNumber(pageName);\r\n\r\n}\r\n\r\nfunction getSourcePageName(successfulCallback) {\r\n  var jqxhr = $.ajax(\"/source preview page.json?view=check_source&url=\" +QueryString.url)\r\n    .done(function(data) {\r\n      pageName = data.source;\r\n      if(data.source)\r\n      {\r\n        existingSource = true;\r\n        if(!QueryString.company)\r\n          getSourceFirstCompany();\r\n        if(!QueryString.topic)\r\n          getSourceFirstTopic();\r\n      }\r\n      if(data.source&&successfulCallback)\r\n        successfulCallback();\r\n\r\n    })\r\n    .fail(function() {\r\n      console.log(\"Fail to check source\");\r\n      //TODO: show error while getting error in the right top hand corner?\r\n    });\r\n}\r\n\r\nfunction handleSourceHtmlAndNewClaimHtml(sourceHtml, newClaimFormHtml) {\r\n\r\n  var pageNumer = sourceHtml.match(/data-card-name=\"Page-(\\d+)\"/)[1];\r\n  pageName = \"Page-\" + pageNumer;\r\n  var _sourceHtml = $(sourceHtml);\r\n  _sourceHtml.find(\".remove-source\").remove();\r\n  var html = $(newClaimFormHtml);\r\n  html.find('.meta-side').remove();\r\n  html.find('.card-header').remove();\r\n\r\n  $('#claim-form').html(html);\r\n\r\n  $('#claim-form').find('form:first').find('.create-cancel-button:first').on('click', function() {\r\n    $('#claim-form').empty();\r\n    $('#claim-form').dialog(\"close\");\r\n  });\r\n  $(\"#claim-form\").prepend(_sourceHtml);\r\n  if (QueryString.fromcerth&&QueryString.fromcerth==\"true\"&&!existingSource)\r\n    $(\"#claim-form\").prepend(\"<span>Source added.</span>\");\r\n  \r\n  //handle comapny and topic name \r\n  if($('.RIGHT-company select option[value=\"'+decodeURIComponent(QueryString.company)+'\"]').length==0)\r\n  {//add company to select\r\n    $companySelect = $('.RIGHT-company select');\r\n    $companySelect.append('<option selected >' +decodeURIComponent(QueryString.company) + '</option>');\r\n    $companySelect.trigger(\"chosen:updated\");\r\n\r\n  }  \r\n  if($('.RIGHT-topic select option[value=\"'+decodeURIComponent(QueryString.topic)+'\"]').length==0)\r\n  {//add company to select\r\n    $topicSelect = $('.RIGHT-topic select');\r\n    $topicSelect.append('<option selected >' + decodeURIComponent(QueryString.topic) + '</option>');\r\n    $topicSelect.trigger(\"chosen:updated\");\r\n  } \r\n  $('.tinymce-textarea').each(function() {\r\n    wagn.initTinyMCE($(this).attr('id'));\r\n  });\r\n   $('<input class=\"card-content\" id=\"card_subcards__Source_content\" name=\"card[subcards][+Source][content]\" value=\"' + pageName + '\" type=\"hidden\" />')\r\n    .insertAfter(\"#card_type_id\");\r\n  $('#claim-form').find('div:first').trigger('slotReady');\r\n  $('#claim-form').find('form:first').trigger('slotReady');\r\n}\r\n\r\nfunction refreshClaimNumber(pageName) {\r\n  var jqxhr = $.ajax(\"/\" + pageName + decodeURIComponent(\"+\") + \"source claim.json\")\r\n    .done(function(data) {\r\n      if(data.card.value.length>0){\r\n        if(data.card.value.length==1){\r\n\r\n          $('#claim-count').html(\"<a href='/\"+data.card.value[0].name+\"'' target='_blank'>\"+data.card.value.length+\" Claims</a>\");\r\n \r\n        }else\r\n        {\r\n          $('#claim-count').html(\"<a href='/\"+pageName+encodeURIComponent(\"+\")+\"source claim' target='_blank'>\"+data.card.value.length+\" Claims</a>\");\r\n\r\n        }\r\n         $('#claim-count').show();\r\n      }\r\n\r\n     \r\n    })\r\n    .fail(function() {\r\n      console.log(\"Fail to check source\");\r\n    });\r\n}\r\n\r\nfunction sendFeedback(typeOfIrrelevance)\r\n{\r\n  var jqxhr = $.ajax(\"/source preview page.json?view=feedback&url=\"+QueryString.url+\"&company=\"+QueryString.company+\"&topic=\"+QueryString.topic+\"&type_of_irrelevance=\"+typeOfIrrelevance)\r\n    .done(function(data) {\r\n      //show furthur options\r\n    })\r\n    .fail(function() {\r\n      console.log(\"Fail to send feedback\");\r\n    });\r\n}\r\nfunction afterSendingFeedback(){\r\n  $('#irrelevant-options').dialog(\"close\");\r\n  var $irrelevantButton = $('#mark-irrelevant-button');\r\n  $irrelevantButton.find(\"span:first\").html(\"Marked irrelevant\");\r\n  $irrelevantButton.replaceWith($irrelevantButton.html());\r\n  $('#mark-irrelevant').attr('disabled','disabled');\r\n  $('#mark-irrelevant').css(\"pointer-events\",\"none\");\r\n  $('#mark-irrelevant').css(\"cursor\",\"default\");\r\n  $('#make-claim').hide();\r\n  \r\n\r\n  var $afterIrrelevantOption = $('#after-irrelevant-options');\r\n  var claimButtonHtml =  $('#make-claim').html();\r\n  var $claimButton = $(claimButtonHtml);\r\n  $claimButton.html(\"Make a claim\");\r\n  $claimButton.attr(\"id\", \"make-claim-after-irrelevant\");  \r\n  $afterIrrelevantOption.html($claimButton);\r\n  $claimButton = $('#make-claim-after-irrelevant');\r\n  $afterIrrelevantOption.append(\"<br /><span>Try other sources:</span><br />\");\r\n  $afterIrrelevantOption.append(\"<img id='loading_gif' src='{{loading_gif|source;size:medium;}}' />\");\r\n  \r\n  showSuggestedSource($afterIrrelevantOption);\r\n\r\n   $('#after-irrelevant-options').dialog({\r\n      height: $(window).height() - $('#logo-bar').height(),\r\n      width: '400',\r\n      position: {\r\n        of: $(\"#logo-bar\"),\r\n        my: \"right top\",\r\n        at: \"right bottom\",\r\n        collision: \"none none\"\r\n      },\r\n      title:'<i class=\"fa fa-arrows\"></i>',\r\n      closeOnEscape: false,\r\n      resizable: false\r\n    });\r\n}\r\nvar getLocation = function(href) {\r\n    var l = document.createElement(\"a\");\r\n    l.href = href;\r\n    return l;\r\n};\r\nfunction showSuggestedSource(afterIrrelevantOption)\r\n{\r\n\r\n  var url = \"http://mklab.iti.gr/wikirate-sandbox/api/index.php/recommendations/?company=\"+QueryString.company+\"&topic=\"+QueryString.topic;\r\n  var jqxhr = $.getJSON(url, function() {\r\n      console.log(\"success\");\r\n    })\r\n    .done(function(data) {\r\n      $.each(data.results, function(i, item) {\r\n        $('#loading_gif').hide();\r\n        var $div = $(\"<div>\", { class: \"suggested-source-item\"});\r\n        var $imageDiv = $(\"<div>\", { class: \"source-link-image\"});\r\n        var $titleDiv = $(\"<div>\", { class: \"source-link-title\"});\r\n        var imageSrc = \"\";\r\n        if(item.images.length>0)\r\n          imageSrc = item.images[0].url;\r\n        else\r\n          imageSrc = \"{{missing image|source;size:small;}}\"\r\n        var $image = $('<img src=\"'+imageSrc+'\">'); //Equivalent: $(document.createElement('img'))\r\n        $imageDiv.append($image);\r\n        var website = getLocation(item.url).hostname;\r\n        var $title = $('<a class=\"preview-page-link\" href=\"source%20preview%20page?&fromcerth=true&url='+encodeURIComponent(item.url)+'&company='+ QueryString.company+'&topic='+ QueryString.topic+'\"> '+item.title+' - '+website+' </a>');\r\n        $titleDiv.append($title);\r\n        $div.append($imageDiv);\r\n        $div.append($titleDiv);\r\n        afterIrrelevantOption.append($div);\r\n\r\n      });\r\n    })\r\n    .fail(function() {\r\n      console.log(\"error\");\r\n    })\r\n    .always(function() {\r\n      console.log(\"complete\");\r\n    });\r\n  \r\n}\r\n$(document).ready(function() {\r\n\r\n  var url = QueryString.url;\r\n  var company = QueryString.company;\r\n  var topic = QueryString.topic;\r\n  if (url) {\r\n    testSameOrigin(url);\r\n    $iframe = $('<iframe id=\"source-preview-iframe\" src=\"' + decodeURIComponent(url) + '\" sandbox=\"allow-same-origin allow-scripts allow-forms\" >');\r\n    $('#webpage-preview').append($iframe);\r\n  }\r\n  if (company) {\r\n    $('#company-and-topic').find('.company-name').html(\"<a href='\"+company+\"' target='_blank'><span class='company-name'>\"+decodeURIComponent(company)+\"</span></a>\");  \r\n  }\r\n  if (topic) {\r\n    $('#company-and-topic').find('.topic-name').html(\"<a href='\"+topic+\"' target='_blank'><span class='topic-name'>\"+decodeURIComponent(topic)+\"</span></a>\");\r\n  }\r\n  \r\n  $(\"#logo-bar\").dblclick(function() {\r\n    return false;\r\n  });\r\n  $('#mark-irrelevant-button').click(relevantClicked);\r\n  $(\"#company-and-topic-detail-link\").click(comapnyAndTopicDetailLinkClicked);\r\n  $(\"#make-a-claim-button\").click(makeClaimButtonOnClicked);\r\n  if(QueryString.fromcerth&&QueryString.fromcerth=='true')\r\n  {\r\n    showFromCerthSourceOptions();\r\n    getSourcePageName(function(){\r\n      $('#company-and-topic-detail-link').show();\r\n    });\r\n  }else\r\n  {\r\n    getSourcePageName(showExisitingSourceOptions);  \r\n  }\r\n  \r\n  resizeIframe();\r\n});\r\n//=====for irrelevant\r\nvar relevantClicked = function(){\r\n\r\n\r\n  //update the name of buttons\r\n  \r\n  $('#company-irrelevant-button').html(decodeURIComponent( QueryString.company));\r\n  $('#topic-irrelevant-button').html(decodeURIComponent(QueryString.topic));\r\n  //bind the click events\r\n  $('#company-irrelevant-button').click(function(){\r\n    sendFeedback(\"company\");\r\n    afterSendingFeedback();\r\n  });\r\n  $('#topic-irrelevant-button').click(function(){\r\n    sendFeedback(\"topic\");\r\n    afterSendingFeedback();\r\n  });\r\n  $('#either-irrelevant-button').click(function(){\r\n    sendFeedback(\"either\");\r\n    afterSendingFeedback();\r\n  });\r\n  \r\n\r\n\r\n   $('#irrelevant-options').dialog({\r\n    height: 'auto',\r\n    width: 'auto',\r\n    position: {\r\n      of: $(\"#logo-bar\"),\r\n      my: \"right top\",\r\n      at: \"right bottom\",\r\n      collision: \"none none\"\r\n    },\r\n    title:'<i class=\"fa fa-arrows\"></i>',\r\n    closeOnEscape: false,\r\n    resizable: false\r\n  });\r\n   return false;\r\n}\r\n//=====for company and topic detail\r\nvar comapnyAndTopicDetailLinkClicked = function() {\r\n  if(pageName!=\"\")\r\n  {\r\n     $.ajax(\"/\" + pageName + \"?slot[structure]=source_company_and_topic&view=edit\")\r\n      .done(companyAndTopicHtmlGot)\r\n      .fail(function() {\r\n        //TODO: show error on some where\r\n      });\r\n  }  \r\n  else\r\n  {\r\n    //show some msg?\r\n  }\r\n\r\n}\r\nvar companyAndTopicHtmlGot = function(_html) {\r\n  var html = $(_html);\r\n  html.find('.card-header').remove();\r\n  $('#company-and-topic-detail').html(html);\r\n  $(\"#company-and-topic-detail\").find('.cancel-button:first').on('click', function() {\r\n    \r\n    $('#company-and-topic-detail').empty();\r\n    $('#company-and-topic-detail').dialog(\"close\");\r\n \r\n  });\r\n\r\n $(\"#company-and-topic-detail\").find('form:first').on('ajax:success',function( data, c, d) {\r\n     $('#company-and-topic-detail').empty();\r\n      refreshClaimNumber(pageName);\r\n      $('#company-and-topic-detail').dialog(\"close\");\r\n      return true;\r\n    });\r\n  $('#company-and-topic-detail').dialog({\r\n    height: 'auto',\r\n    minWidth: 500,\r\n    position: {\r\n      of: $(\"#company-and-topic\"),\r\n      my: \"center top\",\r\n      at: \"center bottom\",\r\n      collision: \"none none\"\r\n    },\r\n    title:'<i class=\"fa fa-arrows\"></i>',\r\n    closeOnEscape: false,\r\n    resizable: false\r\n  });\r\n  $(\"#\" + pageName.replace(\"-\", \"_\")).trigger('slotReady');\r\n\r\n}\r\n\r\n//=====for claim ====\r\nvar makeClaimButtonOnClicked = function() {\r\n  if (!QueryString.url)\r\n    return false;\r\n\r\n  $makeClaimButton = $(this);\r\n  $makeClaimButton.attr(\"disabled\", \"disabled\");\r\n\r\n  //show loading dialog\r\n\r\n  $('#claim-form').html($('#loading_image_div').html());\r\n\r\n  \r\n  $('#claim-form').dialog({\r\n    height: 'auto',\r\n    minWidth: 500,\r\n    position: {\r\n      of: $(\"#logo-bar\"),\r\n      my: \"right top\",\r\n      at: \"right bottom\",\r\n      collision: \"none none\"\r\n    },\r\n    title:'<i class=\"fa fa-arrows\"></i>',\r\n    closeOnEscape: false,\r\n    resizable: false\r\n  });\r\n\r\n  //create the source, get the html in source preview structure\r\n  var url = \"/card/create?\";\r\n  url += \"success[view]=content\";\r\n  url += \"&slot[structure]=source+preview\";\r\n  url += \"&sourcebox=true\";\r\n  url += \"&card[type_code]=webpage\"\r\n  url += \"&card[subcards][\" + encodeURIComponent(\"+\") + \"Link][content]=\" + QueryString.url\r\n  url += \"&card[subcards][\" + encodeURIComponent(\"+\") + \"Company][content]=\" + QueryString.company\r\n  url += \"&card[subcards][\" + encodeURIComponent(\"+\") + \"Topic][content]=\" + QueryString.topic\r\n  var jqxhr = $.ajax(url)\r\n    .done(sourceCreatedWithHtml)\r\n    .fail(function() {\r\n      console.log(\"error\");\r\n      //TODO: show error in somewhere\r\n    });\r\n\r\n}\r\nvar sourceCreatedWithHtml = function(data) {\r\n  //get the claim form html\r\n\r\n  reloadTopBarAsExisitingSource();\r\n  var sourceHtml = data;\r\n  $.ajax(\"/new/Claim?view=new&main=claim&is_main=true&slot%5Bhome_view%5D=open&slot%5Binc_name%5D=_main&slot%5Binc_syntax%5D=_main&_Companies=\" + QueryString.company + \"&_Topics=\" + QueryString.topic)\r\n    .done(function(claimFormHtml) {\r\n      gotNewClaimHtml(sourceHtml, claimFormHtml);\r\n    })\r\n    .fail(function() {\r\n      //TODO: show error on some where\r\n      // enableMakeClaimButton();\r\n    });\r\n\r\n}\r\nvar gotNewClaimHtml = function(sourceHtml, newClaimFormHtml) {\r\n\r\n  //show the source and new claim form\r\n  //override the claim form buttons\r\n  //override the cancel button on click event to dismiss the dialogue only\r\n\r\n  handleSourceHtmlAndNewClaimHtml(sourceHtml, newClaimFormHtml);\r\n   existingSource = true;\r\n$('#claim-form').find('form:first').on('ajax:success',function( data, c, d) {\r\n // console.log(\"new claim-form function\");\r\n     $('#claim-form').empty();\r\n      refreshClaimNumber(pageName);\r\n      $('#claim-form').dialog(\"close\");\r\n      return true;\r\n    });\r\n\r\n  enableMakeClaimButton();\r\n}\r\nvar createClaim = function(pageName) {\r\n\r\n  $('<input class=\"card-content\" id=\"card_subcards__Source_content\" name=\"card[subcards][+Source][content]\" value=\"' + pageName + '\" type=\"hidden\" />')\r\n    .insertAfter(\"#card_type_id\");\r\n  $_form = $('#claim-form').find('form:first');\r\n  $_form.setContentFieldsFromMap();\r\n  var result = \"\";\r\n  var url = \"/card/create/\";\r\n  $.ajax({\r\n      type: \"POST\",\r\n      url: url,\r\n      data: $_form.serialize()\r\n    })\r\n    .done(function(data) {\r\n      $('#claim-form').empty();\r\n      refreshClaimNumber(pageName);\r\n      $('#claim-form').dialog(\"close\");\r\n    }).fail(function() {\r\n\r\n      $_submitButton = $_form.find('.create-submit-button:first');\r\n      $_submitButton.removeAttr(\"disabled\");\r\n      $_submitButton.html(\"Submit\");\r\n\r\n    });\r\n}\r\n$(window).resize(function() {\r\n  resizeIframe();\r\n});"
      },
      {
        "name": "source preview page skin",
        "type": "Skin",
        "content": "[[customized classic skin]]\n[[source preview page style]]"
      },
      {
        "name": "source preview page layout",
        "type": "Layout",
        "content": "<!DOCTYPE HTML>\r\n<html>\r\n {{wikirate head}}\r\n  <body id=\"source-preview-page-layout\" class=\"source-preview-page-layout\">\r\n    {{_main|content}}\r\n  </body>\r\n</html>"
      },
      {
        "name": "source preview page+*self+*layout",
        "type": "Pointer",
        "content": "[[source preview page layout]]"
      },
      {
        "name": "source preview page+*self+*script",
        "type": "Pointer",
        "content": "[[*all+*script]]\n[[source preview page script]]"
      },
      {
        "name": "Page+source claim+*type plus right+*structure",
        "type": "Search",
        "content": "{\"type\":\"claim\",\"refer_to\":[\"in\",{\"left\":{\"type\":\"claim\"},\"refer_to\":\"_1\"}]}"
      },
      {
        "name": "source company and topic",
        "type": "HTML",
        "content": "  {{+Companies|titled;title:Companies;show:menu|link;type:Company}}\r\n  {{+Topics|titled;title:Topics;show:menu|link;type:Topic}} "
      },
      {
        "name": "Analysis+right sidebar+*type plus right+*structure",
        "type": "HTML",
        "content": "<div class=\"new-claim-button\">\r\n  [[/new/Claim?_Companies={{_1|name}}&_Topics={{_2|name}}|add a Claim about <br>{{_1|name}} and {{_2|name}}]]\r\n</div>\r\nSource to consider\r\n<div id=\"company-and-topic-real-name\" style=\"display:none;\"><span>{{_1|name}}</span><span>{{_2|name}}</span></div>\r\n{{_left+sources+ready+unclaimed|titled;title:On Wikirate; | content;structure:source link preview}}\r\n{{suggested source|titled;title:From the web;}}"
      },
      {
        "name": "source link preview",
        "type": "HTML",
        "content": "\r\n<div class=\"source-link-image\"><img src=\"{{_+image url|raw_or_blank}}\" /></div>\r\n<div class=\"source-link-title\"><a class=\"preview-page-link\" href=\"{{_+link|raw}}\" target=\"_blank\"> {{_+title|needed}} </a> </div>\r\n"
      },
      {
        "name": "suggested source script",
        "type": "JavaScript",
        "content": "var getLocation = function(href) {\r\n  var l = document.createElement(\"a\");\r\n  l.href = href;\r\n  return l;\r\n};\r\nvar l = getLocation(\"http://example.com/path\");\r\nconsole.debug(l.hostname)\r\n\r\nfunction addSuggestedSource(suggestedSourceField, company, topic) {\r\n  var url = \"http://mklab.iti.gr/wikirate-sandbox/api/index.php/recommendations/?company=\" + company + \"&topic=\" + topic;\r\n\r\n  var jqxhr = $.getJSON(url, function() {\r\n      console.log(\"success\");\r\n    })\r\n    .done(function(data) {\r\n      $.each(data.results, function(i, item) {\r\n        $('#loading_gif').hide();\r\n        var $div = $(\"<div>\", {\r\n          class: \"suggested-source-item\"\r\n        });\r\n        var $imageDiv = $(\"<div>\", {\r\n          class: \"source-link-image\"\r\n        });\r\n        var $titleDiv = $(\"<div>\", {\r\n          class: \"source-link-title\"\r\n        });\r\n        var imageSrc = \"\";\r\n        if (item.images.length > 0)\r\n          imageSrc = item.images[0].url;\r\n        else\r\n          imageSrc = \"{{missing image|source;size:small;}}\"\r\n        var $image = $('<img src=\"' + imageSrc + '\">'); //Equivalent: $(document.createElement('img'))\r\n        $imageDiv.append($image);\r\n        var website = getLocation(item.url).hostname;\r\n        var $title = $('<a class=\"preview-page-link\" href=\"source%20preview%20page?&fromcerth=true&url=' + encodeURIComponent(item.url) + '&company=' + encodeURIComponent(company) + '&topic=' + encodeURIComponent(topic) + '\" target=\"_blank\"> ' + item.title + ' - ' + website + ' </a>');\r\n        $titleDiv.append($title);\r\n        $div.append($imageDiv);\r\n        $div.append($titleDiv);\r\n        suggestedSourceField.append($div);\r\n\r\n      });\r\n    })\r\n    .fail(function() {\r\n      console.log(\"error\");\r\n    })\r\n    .always(function() {\r\n      console.log(\"complete\");\r\n    });\r\n}\r\n$(document).ready(function() {\r\n\r\n\r\n  var company = $('#company-and-topic-real-name').find('span:nth-child(1)').html();\r\n\r\n  var topic = $('#company-and-topic-real-name').find('span:nth-child(2)').html();\r\n\r\n\r\n\r\n  var $suggestedSourceOnWikirate = $(\".TYPE_PLUS_RIGHT-search-unclaimed\").find('a');\r\n  $suggestedSourceOnWikirate.each(function() {\r\n    var url = $(this).attr('href');\r\n    var website = getLocation(url).hostname;\r\n    var content = $(this).html();\r\n    $(this).attr('href', 'source%20preview%20page?&fromcerth=false&url=' + encodeURIComponent(url) + '&company=' + encodeURIComponent(company) + '&topic=' + encodeURIComponent(topic));\r\n    $(this).html(content + \" - \" + website);\r\n  });\r\n\r\n  $(\".STRUCTURE-source_link_preview\").each(function() {\r\n    $(this).find('img').each(function() {\r\n      if ($(this).attr('src') == \"\") {\r\n        $(this).attr('src', \"{{missing image|source;size:small;}}\");\r\n      }\r\n    })\r\n  });\r\n\r\n  var $suggested_source = $(\".suggested-source:first\");\r\n  addSuggestedSource($suggested_source, company, topic);\r\n});"
      },
      {
        "name": "Page+*type+*structure",
        "type": "HTML",
        "content": "\r\n<div class=\"meta-side\">\r\n  {{+Link|titled; title:URL}}\r\n<a id=\"source-preview-link\" class=\"internal-link\" href=\"{{_+link|raw_or_blank}}\" target=\"_blank\">Preview</a>\r\n  {{+Title|titled; title:Title}}\r\n  {{+Description|titled;title:Description}}\r\n  {{+Date|titled;title:Date}}\r\n  {{+Website|titled;title:Website|link}}\r\n</div>\r\n<div class=\"source-side\">\r\n  {{+Companies|titled; title:Companies|link}}\r\n  {{+Topics|titled; title:Topics|link}}\r\n  {{+Tags|titled;title:Tags; item:link}}\r\n  {{+Claims|titled;title:Claims|link}}\r\n  [[/new/Claim?_Source={{_|linkname}}|Make a Claim!]]\r\n\r\n</div>\r\n\r\n"
      },
      {
        "name": "readmore script",
        "type": "JavaScript",
        "content": "/*!\r\n * Readmore.js jQuery plugin\r\n * Author: @jed_foster\r\n * Project home: jedfoster.github.io/Readmore.js\r\n * Licensed under the MIT license\r\n */\r\n\r\n;(function($) {\r\n\r\n  var readmore = 'readmore',\r\n      defaults = {\r\n        speed: 100,\r\n        maxHeight: 200,\r\n        heightMargin: 16,\r\n        moreLink: '<a href=\"#\">Read More</a>',\r\n        lessLink: '<a href=\"#\">Close</a>',\r\n        embedCSS: true,\r\n        sectionCSS: 'display: block; width: 100%;',\r\n        startOpen: false,\r\n        expandedClass: 'readmore-js-expanded',\r\n        collapsedClass: 'readmore-js-collapsed',\r\n\r\n        // callbacks\r\n        beforeToggle: function(){},\r\n        afterToggle: function(){}\r\n      },\r\n      cssEmbedded = false;\r\n\r\n  function Readmore( element, options ) {\r\n    this.element = element;\r\n\r\n    this.options = $.extend( {}, defaults, options);\r\n\r\n    $(this.element).data('max-height', this.options.maxHeight);\r\n    $(this.element).data('height-margin', this.options.heightMargin);\r\n\r\n    delete(this.options.maxHeight);\r\n\r\n    if(this.options.embedCSS && ! cssEmbedded) {\r\n      var styles = '.readmore-js-toggle, .readmore-js-section { ' + this.options.sectionCSS + ' } .readmore-js-section { overflow: hidden; }';\r\n\r\n      (function(d,u) {\r\n        var css=d.createElement('style');\r\n        css.type = 'text/css';\r\n        if(css.styleSheet) {\r\n            css.styleSheet.cssText = u;\r\n        }\r\n        else {\r\n            css.appendChild(d.createTextNode(u));\r\n        }\r\n        d.getElementsByTagName('head')[0].appendChild(css);\r\n      }(document, styles));\r\n\r\n      cssEmbedded = true;\r\n    }\r\n\r\n    this._defaults = defaults;\r\n    this._name = readmore;\r\n\r\n    this.init();\r\n  }\r\n\r\n  Readmore.prototype = {\r\n\r\n    init: function() {\r\n      var $this = this;\r\n\r\n      $(this.element).each(function() {\r\n        var current = $(this),\r\n            maxHeight = (current.css('max-height').replace(/[^-\\d\\.]/g, '') > current.data('max-height')) ? current.css('max-height').replace(/[^-\\d\\.]/g, '') : current.data('max-height'),\r\n            heightMargin = current.data('height-margin');\r\n\r\n        if(current.css('max-height') != 'none') {\r\n          current.css('max-height', 'none');\r\n        }\r\n\r\n        $this.setBoxHeight(current);\r\n\r\n        if(current.outerHeight(true) <= maxHeight + heightMargin) {\r\n          // The block is shorter than the limit, so there's no need to truncate it.\r\n          return true;\r\n        }\r\n        else {\r\n          current.addClass('readmore-js-section ' + $this.options.collapsedClass).data('collapsedHeight', maxHeight);\r\n\r\n          var useLink = $this.options.startOpen ? $this.options.lessLink : $this.options.moreLink;\r\n          current.after($(useLink).on('click', function(event) { $this.toggleSlider(this, current, event) }).addClass('readmore-js-toggle'));\r\n\r\n          if(!$this.options.startOpen) {\r\n            current.css({height: maxHeight});\r\n          }\r\n        }\r\n      });\r\n\r\n      $(window).on('resize', function(event) {\r\n        $this.resizeBoxes();\r\n      });\r\n    },\r\n\r\n    toggleSlider: function(trigger, element, event)\r\n    {\r\n      event.preventDefault();\r\n\r\n      var $this = this,\r\n          newHeight = newLink = sectionClass = '',\r\n          expanded = false,\r\n          collapsedHeight = $(element).data('collapsedHeight');\r\n\r\n      if ($(element).height() <= collapsedHeight) {\r\n        newHeight = $(element).data('expandedHeight') + 'px';\r\n        newLink = 'lessLink';\r\n        expanded = true;\r\n        sectionClass = $this.options.expandedClass;\r\n      }\r\n\r\n      else {\r\n        newHeight = collapsedHeight;\r\n        newLink = 'moreLink';\r\n        sectionClass = $this.options.collapsedClass;\r\n      }\r\n\r\n      // Fire beforeToggle callback\r\n      $this.options.beforeToggle(trigger, element, expanded);\r\n\r\n      $(element).animate({'height': newHeight}, {duration: $this.options.speed, complete: function() {\r\n          // Fire afterToggle callback\r\n          $this.options.afterToggle(trigger, element, expanded);\r\n\r\n          $(trigger).replaceWith($($this.options[newLink]).on('click', function(event) { $this.toggleSlider(this, element, event) }).addClass('readmore-js-toggle'));\r\n\r\n          $(this).removeClass($this.options.collapsedClass + ' ' + $this.options.expandedClass).addClass(sectionClass);\r\n        }\r\n      });\r\n    },\r\n\r\n    setBoxHeight: function(element) {\r\n      var el = element.clone().css({'height': 'auto', 'width': element.width(), 'overflow': 'hidden'}).insertAfter(element),\r\n          height = el.outerHeight(true);\r\n\r\n      el.remove();\r\n\r\n      element.data('expandedHeight', height);\r\n    },\r\n\r\n    resizeBoxes: function() {\r\n      var $this = this;\r\n\r\n      $('.readmore-js-section').each(function() {\r\n        var current = $(this);\r\n\r\n        $this.setBoxHeight(current);\r\n\r\n        if(current.height() > current.data('expandedHeight') || (current.hasClass($this.options.expandedClass) && current.height() < current.data('expandedHeight')) ) {\r\n          current.css('height', current.data('expandedHeight'));\r\n        }\r\n      });\r\n    },\r\n\r\n    destroy: function() {\r\n      var $this = this;\r\n\r\n      $(this.element).each(function() {\r\n        var current = $(this);\r\n\r\n        current.removeClass('readmore-js-section ' + $this.options.collapsedClass + ' ' + $this.options.expandedClass).css({'max-height': '', 'height': 'auto'}).next('.readmore-js-toggle').remove();\r\n\r\n        current.removeData();\r\n      });\r\n    }\r\n  };\r\n\r\n  $.fn[readmore] = function( options ) {\r\n    var args = arguments;\r\n    if (options === undefined || typeof options === 'object') {\r\n      return this.each(function () {\r\n        if ($.data(this, 'plugin_' + readmore)) {\r\n          var instance = $.data(this, 'plugin_' + readmore);\r\n          instance['destroy'].apply(instance);\r\n        }\r\n\r\n        $.data(this, 'plugin_' + readmore, new Readmore( this, options ));\r\n      });\r\n    } else if (typeof options === 'string' && options[0] !== '_' && options !== 'init') {\r\n      return this.each(function () {\r\n        var instance = $.data(this, 'plugin_' + readmore);\r\n        if (instance instanceof Readmore && typeof instance[options] === 'function') {\r\n          instance[options].apply( instance, Array.prototype.slice.call( args, 1 ) );\r\n        }\r\n      });\r\n    }\r\n  }\r\n})(jQuery);"
      },
      {
        "name": "page preview button link",
        "type": "JavaScript",
        "content": "$( document ).ready(function() {\r\nvar $sourcePreviewLink = $('.TYPE-page').find('#source-preview-link:first');\r\nvar url = $sourcePreviewLink.attr('href');\r\n$sourcePreviewLink.attr('href',\"/source preview page?fromcerth=false&url=\"+encodeURIComponent(url));\r\n});"
      },
      {
        "name": "source preview script",
        "type": "JavaScript",
        "content": "wagn.slotReady(function(slot) {\r\nslot.find('.card-content.TYPE_PLUS_RIGHT-page-description').readmore({maxHeight:90,embedCSS: false});\r\n});"
      },
      {
        "name": "*css",
        "type": "SCSS",
        "content": "//***ALL COLOR VARS & MIXINS***//\r\n$heading_color: #555;\r\n$body_background: #ebebeb;\r\n$primary_color: #555;\r\n$anchor_color: #03998D;\r\n$body-txt-color: #777;\r\n$wanted-card-color: #b6060a;\r\n$closed-content-a-color: #729;\r\n$infographic-heading: #949494;\r\n$div-border-color:#f1f1f1;\r\n\r\n//button colors\r\n$button-color: #03998D;\r\n$button-color-hover: #009185;\r\n$button-border: #00756C;\r\n$cancel-button-color: #BEBEBE;\r\n$cancel-button-border: #9B9B9B;\r\n$cancel-button-hover:#B4B4B4;\r\n\r\n//claim colors\r\n$claim-tag-companybg: #D3741C;\r\n$claim-tag-companybg-hover:#BB5B00;\r\n$claim-tag-topicbg:#2B7EA0;\r\n$claim-tag-topicbg-hover:#01648D;\r\n$claim-tag-notexist:#f0f0f0;\r\n$claim-tag-notexist-hover: #ececec;\r\n\r\n//navigation colors\r\n$nav-srch-background:#FFF;\r\n$nav-srch-txt-color:#a8a8a8;\r\n$navmenu-anchor-color: #fff;\r\n$navmenu-hover-bgcolor: #03998D;\r\n$navsbmenu-bgcolor: #03998D;\r\n$navsbmenu-anchor-color: #00AC9E;\r\n\r\n@mixin searchbox-color{\r\n  background: $nav-srch-background !important;\r\n  color: $nav-srch-txt-color !important;\r\n}\r\n@mixin searchbox-color-focus{\r\n  background-color: #f3f4de !important;\r\n  color: #a8a8a8 !important;\r\n}\r\n\r\n$card-header-color: #dbdbdb;\r\n\r\n//card colors\r\n@mixin card-txt-color{\r\n  color: #646464;\r\n  a {\r\n    color: #646464;\r\n  }\r\n}\r\n\r\n//border radius mixin\r\n@mixin border-radius($radius) {\r\n  -webkit-border-radius: $radius;\r\n  border-radius: $radius;\r\n  background-clip: padding-box;  /* stops bg color from leaking outside the border: */\r\n}\r\n//***COLOR VARS - END***//\r\n\r\n//***Shadow***//\r\n\r\n@mixin box-shadow($x: 2px, $y: 2px, $blur: 5px, $color: rgba(0,0,0,.4), $inset: \"\") {\r\n  @if ($inset != \"\") {\r\n    -webkit-box-shadow: $inset $x $y $blur $color;\r\n    -moz-box-shadow:    $inset $x $y $blur $color;\r\n    box-shadow:         $inset $x $y $blur $color;\r\n  } @else {\r\n    -webkit-box-shadow: $x $y $blur $color;\r\n    -moz-box-shadow:    $x $y $blur $color;\r\n    box-shadow:         $x $y $blur $color;\r\n  }\r\n}\r\n\r\n// ***Shadow- END***//\r\n\r\nbody {\r\n  color: $body-txt-color;\r\n  font-family: 'Droid Sans', sans-serif;\r\n  line-height: 1.5em;\r\n  font-size: 0.9em;\r\n}\r\n\r\nbody#wagn {\r\n  min-height: 100%;\r\n  min-width: 480px;\r\n  background: $body_background;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\nbody#tinymce {\r\n   padding: 4px;\r\n}\r\n\r\na {\r\n  color: $anchor_color;\r\n}\r\n\r\na.wanted-card {\r\n  color: $wanted-card-color;\r\n}\r\n\r\n/* many sites may want this external link behavior; it's here because it's a nuisance to override when not desired */\r\na.external-link,\r\n.closed-content a.external-link {\r\n  color: $closed-content-a-color;\r\n  background: url(/assets/external_link.png) center right no-repeat;\r\n  padding-right: 13px !important;\r\n}\r\n\r\nimg {\r\n  border: 0\r\n}\r\n\r\nh1, h2 {\r\n  color: $heading_color;\r\n}\r\n\r\nh1 {\r\n  font-size: 1.2em;\r\n  font-weight: normal;\r\n  line-height: 1.8em;\r\n  padding: 5px 0;\r\n}\r\n\r\n// Search box\r\ninput.navbox {\r\n  @include searchbox-color;\r\n  border: 0px solid #AAA !important;\r\n  padding-left: 3px;\r\n  border-radius: 3px;\r\n\r\n  &:focus {\r\n    @include searchbox-color-focus;\r\n    outline: none;\r\n  }\r\n}\r\n\r\n#logo-bar {\r\n  padding: 0 3%;\r\n  background:#fff;\r\n  img {\r\n    margin-top: 3px;\r\n    height: 40px;\r\n    border:none;\r\n  }\r\n  #logging {\r\n    float:right;\r\n    font-size: 1.1em;\r\n    margin-top: 10px;\r\n    a {\r\n      /*color: #72b671;*/\r\n      color: $anchor_color;\r\n      /*text-shadow: #fff 1px 1px 0px;*/\r\n      margin-left: 10px;\r\n    }\r\n    a:hover {\r\n      color: $body-txt-color;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n#menu-bar {\r\n  background: $primary_color;\r\n  padding: 0 3%;\r\n  // border-bottom: 1px solid #999;\r\n  // -moz-box-shadow: 0px 0px 2px 0px #ccc;\r\n  // -webkit-box-shadow: 0px 0px 2px 0px #ccc;\r\n  // box-shadow: 0px 0px 2px 0px #ccc;\r\n  // text-shadow: #5c995b 1px 1px 0px;\r\n  margin-bottom: 20px;\r\n\r\n  .navbox-form {\r\n    display: inline-block;\r\n    float: right;\r\n    width: 33%\r\n  }\r\n  .navbox {\r\n    height: 25px;\r\n    width: 100%;\r\n    margin-top: 8px;\r\n  }\r\n  a {\r\n    color: $navmenu-anchor-color;\r\n    display: block;\r\n    margin: 0;\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.1em;\r\n  }\r\n\r\n  .main-links {\r\n    min-height: 40px;\r\n    > div {\r\n      float: left;\r\n      padding: 10px 3%;\r\n      cursor: pointer;\r\n      span {\r\n        display: block;\r\n        margin: 0;\r\n        text-transform: uppercase;\r\n        letter-spacing: 0.1em;\r\n        color: $navmenu-anchor-color;\r\n      }\r\n    }\r\n    > div:hover {\r\n      background: $navmenu-hover-bgcolor;\r\n    }\r\n  }\r\n\r\n\r\n  ul {\r\n    display: none;\r\n    position: absolute;\r\n    z-index: 1;\r\n    border-radius: 0;\r\n    border: none;\r\n    padding: 0;\r\n    > li {\r\n      padding: 0;\r\n    }\r\n    a {\r\n      border: 0;\r\n      font-size: 0.9em;\r\n      width: auto;\r\n      min-width: 120px;\r\n      padding: 5px 28px;\r\n      background: $navsbmenu-bgcolor;\r\n      border-radius: inherit;\r\n    }\r\n    a:hover {\r\n      background: $navsbmenu-anchor-color;\r\n    }\r\n  }\r\n}\r\n\r\n.more-link {\r\n  float: right;\r\n}\r\n\r\n.card-header {\r\n  font-family: 'Droid Sans';\r\n}\r\n.card-content .titled-view > .card-header {\r\n  line-height: 1.4em;\r\n  margin-top: 1em;\r\n}\r\n\r\n.card-frame {\r\n  border-radius: 4px;\r\n  border: 0px solid #E5E5E5;\r\n  > .card-header {\r\n    background: $card-header-color;\r\nfont-size: 1.1em;\r\n// font-weight: bold;\r\n    @include card-txt-color;\r\n  }\r\n  > .instruction {\r\n    background: #bbb;\r\n  }\r\n}\r\n\r\n\r\n#main {\r\n  font-size: 1.1em;\r\n  clear: both;\r\n  padding: 20px 3%;\r\n  .card-frame > .card-body > .titled-view {\r\n    margin: 15px 0;\r\n    > .card-body {\r\n      margin: 5px 0 5px 3%;\r\n    }\r\n    > .card-content {\r\n      padding: 10px 20px 15px 20px;\r\n    }\r\n  }\r\n  .card-frame {\r\n    border-radius: 4px;\r\n    > .card-body > h1 {\r\n      font-size: 2em;\r\n      font-weight: normal;\r\n      line-height: 2em;\r\n      padding: 5px 0 0 0;\r\n    }\r\n  }\r\n  > .card-slot > h1 {\r\n    font-size: 1.5em;\r\n    padding: 0 5px;\r\n    .card-title {\r\n      text-align: center;\r\n      display: inline-block;\r\n      width: 90%;\r\n      /*text-indent: 10%;*/\r\n      margin-left:5%;\r\n    }\r\n  }\r\n}\r\n.card-slot > .card-header .card-menu-link {\r\n  display: none;\r\n}\r\n.card-slot.closed-view,\r\n.card-slot:hover {\r\n  > .card-header .card-menu-link {\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n.revision-navigation,\r\n.current {\r\n  background: #FFFFFF;\r\n}\r\n\r\n\r\nbody.home-layout #main {\r\n  > .card-content {\r\n    .SELF-wikirate_infographic {\r\ntext-align: center;\r\nborder-radius: 4px;\r\n-moz-border-radius: 4px;\r\nfloat: right;\r\nborder: 0px solid #E5E5E5;\r\nbackground: #fff;\r\nwidth: 41%;\r\npadding-top: 20px;\r\nmargin-bottom: 12px;\r\n      > .SELF-infographic {\r\n        float: left;\r\n        display: inline-block;\r\n        width:68%;\r\n      }\r\n      span {\r\n       font-size: 1.8em;\r\n       color: $infographic-heading;\r\n      }\r\n      p {\r\n        line-height: 2em;\r\n        color: #d5d5d5;\r\n        font-size: 1.3em;\r\n      }\r\n      > .wikirate-video-container {\r\n        position: relative;\r\n        padding-bottom: 17%;\r\n        padding-top: 0px;\r\n        height: 0;\r\n        overflow: hidden;\r\n        left: 14px;\r\n        top: -14px;\r\n        width: 30.2%;\r\n        margin: 0px;\r\n        iframe {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n    .SELF-industry_of_the_month.content-view {\r\nwidth: 100%;\r\ntext-align: center;\r\npadding: 0px 0px 24px 0px;\r\nfloat: left;\r\n    }\r\n    .home-left {\r\n      width: 58%;\r\n      float: left;\r\n      .SELF-featured_topic.card-frame {\r\n        margin-top: 40px;\r\n      }\r\n    }\r\n    .home-right {\r\n      width: 41%;\r\n      float: right;\r\n    }\r\n    > #wikirate_tagline {\r\n      text-align: center;\r\n      overflow: visible;\r\n      font-size: 2em;\r\n      padding: 1.5em;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-company_feature,\r\n.STRUCTURE-topic_feature {\r\n  clear: both;\r\n  padding: 20px 0;\r\n  min-height: 200px;\r\n}\r\n\r\n.STRUCTURE-company_feature,\r\n.STRUCTURE-topic_feature {\r\n  > a {\r\n    font-size: 1.3em;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 0.9em;\r\n    font-style: italic;\r\n    color: #aaa;\r\n  }\r\n\r\n  .TYPE-image.content-view {\r\n    width: 25%;\r\n    max-width: 100px;\r\n    padding: 0 3% 10px 0;\r\n    min-height: 200px;\r\n\r\n    img {\r\n        border-radius: 10px;\r\n       -moz-border-radius: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\r\n\r\nbody > .SELF-wikirate_footer {\r\n  clear: both;\r\n  display: block;\r\n  padding: 45px 30px 10px 30px;\r\n  text-align: center;\r\n  font-size: 0.9em;\r\n  background: #fff;\r\n  border: 1px solid #E5E5E5;\r\na.external-link {\r\n  padding-right: 0 !important;\r\n  background: inherit !important;\r\n}\r\n[class*=\"SELF-logo_\"] {\r\ndisplay: inline-block;\r\n}\r\n}\r\n\r\n#credit,\r\n#credit a {\r\n  padding: 0 !important;\r\n  background: none;\r\n  border: 0px;\r\n  margin-bottom: 15px;\r\n  position: relative;\r\n}\r\n\r\n#credit {\r\n  z-index: -0;\r\n  left: 8px;\r\n  display: block;\r\n  a {\r\n    right: 16px;\r\n    position: relative;\r\n    z-index: -1;\r\n  }\r\n}\r\n\r\n.RIGHT-claim_count.content-view {\r\n  display: inline;\r\n  float: right;\r\n  color: #999;\r\n}\r\n\r\n.search-result-item > .TYPE-page.content-view {\r\n  .RIGHT-website .pointer-list {\r\n    font-size: 1.1em;\r\n    font-weight: bold;\r\n    padding-bottom: 0;\r\n  }\r\n  .RIGHT-title {\r\n    font-size: 0.9em;\r\n    margin: 0 0 7px 3%;\r\n  }\r\n}\r\n\r\n\r\n\r\n.RIGHT-image_source.content-view {\r\n  font-size: 0.8em;\r\n  font-style: italic;\r\n}\r\n\r\n.TYPE-analysi,\r\n.TYPE-company,\r\n.TYPE-topic {\r\n  &.STRUCTURE-analysi_comparison a.internal-link,\r\n  >.source-side > a {\r\n    display: block;\r\n    padding: 10px;\r\n    margin: 10px 5%;\r\n    float: right;\r\n    border: 2px solid #555;\r\n    border-radius: 10px;\r\n    background: #eee;\r\n    font-size: 1.2em;\r\n  }\r\n}\r\n.TYPE-analysi {\r\n  &.STRUCTURE-analysi_comparison a.internal-link,\r\n  >.source-side > a {\r\n    float: none;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n\r\n\r\n.TYPE-topic .STRUCTURE-topic_analysi_blurb,\r\n.TYPE-company .STRUCTURE-company_analysi_blurb {\r\n  padding: 20px 0;\r\n  border-bottom: 1px solid #eee;\r\n  > a {\r\n    float: right;\r\n  }\r\n}\r\n\r\n.STRUCTURE-analysi_blurb {\r\n  > .RIGHT-article,\r\n  > .RIGHT-claim {\r\n    padding-left: 5%;\r\n  }\r\n  .RIGHT-claim {\r\n    > .card-header {\r\n      font-size: 0.9em;\r\n      font-style: italic;\r\n      color: #aaa;\r\n      padding: 0;\r\n    }\r\n    .search-result-item {\r\n      padding-bottom: 10px;\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-icon_and_link.content-view > a > img,\r\n.STRUCTURE-company_analysi_link.content-view > a > img,\r\n.STRUCTURE-topic_analysi_link.content-view > a > img,\r\n.STRUCTURE-company_link.content-view > a > img,\r\n.STRUCTURE-topic_link.content-view > a > img {\r\n  border-radius: 3px;\r\n  -moz-border-radius: 3px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.STRUCTURE-topic_analysi_link_and_compare .STRUCTURE-compare_link,\r\n.RIGHT-link_and_compare .RIGHT-compare_link {\r\n  float: right;\r\n}\r\n\r\n.STRUCTURE-claim_summary {\r\n  > h1 {\r\n    font-size: 1.1em;\r\n    padding-bottom: 0;\r\n  }\r\n  > .card-body {\r\n    padding:  5px 0 18px 5%;\r\n    margin: 0 0 5px 0px;\r\n    border-bottom: 1px solid #eee;\r\n    font-size: 0.8em;\r\n    .fa {\r\n      padding-right: 5px;\r\n    }\r\n    > div {\r\n      margin-left: 5%;\r\n      padding: 2px 0;\r\n      text-indent: -3%;\r\n      div {\r\n        display: inline;\r\n      }\r\n    }\r\n    .missing-view {\r\n      display: none;\r\n    }\r\n    .RIGHT-source .source-title {\r\n      font-style: italic;\r\n    }\r\n    .pointer-item, .search-result-item {\r\n       text-indent: 10px;\r\n       margin: 0;\r\n       margin-right: 0px !important;\r\n       padding: 2px;\r\n      :after {\r\n        content: ' ';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n#claim-sourcelink .pointer-item a {\r\n  color: $body-txt-color;\r\n    &:hover{\r\n      color:$anchor_color;\r\n    }\r\n }\r\n\r\n.analysis-link > a,\r\n.RIGHT-company.titled-view > .card-content .item-link > a,\r\n.RIGHT-topic.titled-view > .card-content  .item-link > a {\r\n    // margin: 3px 10px;\r\n}\r\n\r\n.analysis-link > a,\r\n.RIGHT-company.card-content .item-link > a,\r\n.RIGHT-topic.card-content .item-link > a,\r\n#company-and-topic .company-name,\r\n#company-and-topic  .topic-name {\r\n  display: inline-block;\r\n  text-indent: 0;\r\n  border-radius: 3px;\r\n  font-size: 0.9em;\r\n  color: #fff;\r\n  text-decoration: none;\r\n}\r\n\r\n.RIGHT-company.card-content .item-link > a,\r\n.RIGHT-topic.card-content .item-link > a,\r\n.analysis-link > a > span{\r\n  display: inline-block;\r\n  padding: 0px 6px !important;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n#company-and-topic{\r\n  .company-name, .topic-name {\r\n    padding: 1px 3px !important;\r\n  }\r\n}\r\n\r\n.RIGHT-company.card-content .item-link > a,\r\n.analysis-link > a > .company,\r\n#company-and-topic .company-name {\r\n  background: $claim-tag-companybg;\r\n  border-top-left-radius: 3px;\r\n  border-bottom-left-radius: 3px;\r\n}\r\n.RIGHT-company.card-content .item-link > a:hover,\r\n.analysis-link > a:hover > .company,\r\n#company-and-topic .company-name:hover {\r\n  background: $claim-tag-companybg-hover;\r\n}\r\n\r\n\r\n.RIGHT-topic.card-content .item-link > a,\r\n.analysis-link > a > .topic,\r\n#company-and-topic  .topic-name {\r\n  background:  $claim-tag-topicbg;\r\n  border-top-right-radius: 3px;\r\n  border-bottom-right-radius: 3px;\r\n}\r\n.RIGHT-topic.card-content .item-link > a:hover,\r\n.analysis-link > a:hover > .topic,\r\n#company-and-topic  .topic-name:hover {\r\n  background: $claim-tag-topicbg-hover;\r\n}\r\n\r\n.card-content .item-link > a.wanted-card {\r\n  background: $claim-tag-notexist;\r\n  border-top-left-radius: 3px;\r\n  border-bottom-left-radius: 3px;\r\n  color: $wanted-card-color;\r\n  &:hover{\r\n    background: $claim-tag-notexist-hover;\r\n  }\r\n}\r\n\r\n\r\n#main > .TYPE-claim {\r\n  > .card-header {\r\n    background-color: #fff;\r\n  }\r\n  .source-side {\r\n    border-right: 1px solid $div-border-color;\r\n  }\r\n}\r\n\r\n\r\n.RIGHT-tag,\r\n.RIGHT-year {\r\n  &.labeled-view {\r\n    font-size: 0.9em;\r\n    color: #aaa;\r\n    .card-content a {\r\n      color: #aaa;\r\n      font-style: italic;\r\n    }\r\n  }\r\n  &.missing-view,\r\n  &.labeled-view {\r\n    label,\r\n    .card-content a,\r\n    a.missing-labeled {\r\n      text-align: left;\r\n      min-width: 30px;\r\n    }\r\n  }\r\n}\r\n\r\n.TYPE-claim.card-content .source-side > .RIGHT-tag {\r\n  margin-top: 20px;\r\n}\r\n\r\n#main > .SELF-topic,\r\n#main > .SELF-company {\r\n  > .card-content {\r\n    .pointer-item,\r\n    .search-result-item {\r\n      display: inline-block;\r\n      min-width: 130px;\r\n      width: 17%;\r\n      padding: 10px 1%;\r\n    }\r\n  }\r\n}\r\n\r\n.STRUCTURE-topic_overview,\r\n.STRUCTURE-company_overview {\r\n  box-shadow: 0px 0px 12px 1px rgba(221, 221, 221, 0.87);\r\n  border-radius: 10px;\r\n  -moz-border-radius: 10px;\r\n  text-align: center;\r\n  border: 1px solid rgb(213, 213, 213);\r\n  width: 100%;\r\n  min-height: 250px;\r\n  > a {\r\n    font-size: 1em;\r\n    line-height: 1.6em;\r\n    display: block;\r\n    padding: 5px;\r\n  }\r\n  :hover{\r\n    background: #f8f8f8;\r\n  }\r\n  .card-title {\r\n    display: inline-block;\r\n    height: 60px;\r\n  }\r\n  .TYPE-image {\r\n    width: 80%;\r\n    padding: 5px 10%;\r\n    height: 150px;\r\n    overflow: hidden;\r\n    img {\r\n      max-height: 100%;\r\n    }\r\n  }\r\n  .claim-count {\r\n    color: #999;\r\n    .RIGHT-claim_count {\r\n      color: #444;\r\n      float: none;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-labeled_source_frame {\r\n  label {\r\n    display: inline-block;\r\n    padding-right: 10px;\r\n    float: left;\r\n  }\r\n  .RIGHT-title {\r\n    display: inline-block;\r\n    font-size: 1.2em;\r\n    line-height: 1.2em;\r\n  }\r\n  em {\r\n    float: right;\r\n  }\r\n  .pointer-list,\r\n  .pointer-item {\r\n    display: inline;\r\n    padding-left: 0;\r\n  }\r\n}\r\n.comment-box {\r\n  background: inherit;\r\n}\r\n.cited-claim-number {\r\n  padding:1px 5px;\r\n  border-radius: 10px;\r\n  -border-radius: 10px;\r\n  font-size: 0.8em;\r\n  margin-right: 5px;\r\n  background: #03998d;\r\n  color: white;\r\n}\r\n.claim-clipboard {\r\n  padding: 4px;\r\n  color: #03998d;\r\n  background: white;\r\n\r\n}\r\n\r\n.TYPE-analysi.card-content {\r\n  .search-no-results {\r\n    display: none;\r\n  }\r\n  > .search-result-list {\r\n    padding: 0;\r\n  }\r\n  .side-by-side {\r\n    text-align: center;\r\n    padding: 10px;\r\n    margin-bottom: 20px;\r\n    .company-link {\r\n      float: left;\r\n    }\r\n    .topic-link {\r\n      float: right;\r\n    }\r\n    .TYPE-image {\r\n      display: inline-block;\r\n      padding: 10px;\r\n      border-radius: 10px;\r\n      -moz-border-radius: 10px;\r\n      border: 2px solid #666;\r\n    }\r\n    img {\r\n        max-height: 130px;\r\n    }\r\n    .analysis-name {\r\n      font-size: 1.4em;\r\n      line-height: 1.6em;\r\n    }\r\n    .analysis-joint {\r\n      font-size: 0.8em;\r\n    }\r\n  }\r\n  > .source-side {\r\n    > h1 {\r\n      margin-top: 40px;\r\n      padding: 0;\r\n    }\r\n    > .TYPE-search > .card-content {\r\n      padding-left: 3%;\r\n    }\r\n  }\r\n  .RIGHT-right_sidebar.card-content {\r\n    > h1 {\r\n      padding: 0;\r\n    }\r\n    > h2 {\r\n      font-weight: normal;\r\n      font-size: 1em;\r\n      padding: 0 0 15px 3%;\r\n    }\r\n    > .card-content  {\r\n      padding-bottom: 25px;\r\n    }\r\n  }\r\n}\r\n\r\n.RIGHT-right_sidebar .source-title {\r\n  display: block;\r\n  padding: 3px 0 3px 5%\r\n}\r\n.RIGHT-wikirate_source .content-editor select {\r\n  height: 200px;\r\n}\r\n\r\n.STRUCTURE-website_summary.titled-view {\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid $div-border-color;\r\n  margin-bottom: 20px;\r\n  > .card-content {\r\n    padding-left: 5%;\r\n  }\r\n  .RIGHT-page {\r\n    > h1 {\r\n      font-size: 0.8em;\r\n    }\r\n    padding-left: 5%;\r\n    .search-result-item {\r\n      line-height: 2em;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.SELF-company_comparison.card-content {\r\n  table {\r\n    width: 100%;\r\n  }\r\n  th {\r\n    padding: 5px 1%;\r\n  }\r\n  td {\r\n    padding: 5px 2%;\r\n    width: 50%\r\n  }\r\n  > div {\r\n    width: 46%;\r\n    padding: 5px 2%;\r\n  }\r\n  .left-side {\r\n    float: left;\r\n  }\r\n  .right-side {\r\n    float: right;\r\n  }\r\n\r\n}\r\n\r\n.closed-content label {\r\n  display: inline;\r\n}\r\n\r\n.TYPE_PLUS_RIGHT-company-label img {\r\n  margin: 0 2px 5px 0;\r\n  border-radius: 4px;\r\n  -moz-border-radius: 4px;\r\n}\r\n\r\n//'make a claim' button in source page\r\n.TYPE-page .source-side .internal-link{\r\n  padding: 7px 6px 4px 6px !important;\r\n}\r\n//To hide 'make a claim' in new and edit source page. It is not required there.\r\n.TYPE-page.new-view .source-side .internal-link, .TYPE-page.edit-view .source-side .internal-link{\r\n  display:none;\r\n}\r\n\r\n//snippet for all buttons in Wikirate. Should use this .button primary class anywhere a button is required for a positive action(like submit, Go, etc)\r\nbutton, .button-primary, .TYPE-page .source-side .internal-link, .new-claim-button a, .ui-dialog .ui-dialog-buttonpane button{\r\n   margin-right: 1%;\r\n   background: $button-color;\r\n   border: none;\r\n   color: #fff;\r\n   @include border-radius(3px);\r\n   border-bottom: 3px solid $button-border;\r\n   padding: 5px 12px 4px 12px;\r\n   cursor: pointer;\r\n   text-decoration:none!important;\r\n   font-size: 0.7em;\r\n   outline:none;\r\n   &:hover{\r\n     background:$button-color-hover;\r\n    //  padding: 5px 12px 3px 12px;\r\n    //  border-bottom: 4px solid $button-border;\r\n   }\r\n   &:active{\r\n     background:$button-color-hover;\r\n     border-top: 3px solid $button-border;\r\n     border-bottom: 0;\r\n     padding: 2px 12px 6px 12px;\r\n\r\n   }\r\n   &.create-cancel-button,&.cancel-button,&.button-secondary{\r\n     background: $cancel-button-color;\r\n     border-bottom: 3px solid $cancel-button-border;\r\n     &:hover{\r\n       background: $cancel-button-hover;\r\n      //  padding: 5px 12px 3px 12px;\r\n      //  border-bottom: 4px solid $cancel-button-border;\r\n     }\r\n     &:active{\r\n       background:$cancel-button-hover;\r\n       border-top: 3px solid $cancel-button-border;\r\n       border-bottom: 0;\r\n       padding: 2px 12px 6px 12px;\r\n     }\r\n   }\r\n }\r\n\r\n //Tweak to large buttons in topic,company and article page\r\n .new-claim-button a {\r\n     text-align: center;\r\n     display: block;\r\n     font-size: 0.9em;\r\n     margin-bottom: 10px;\r\n  }\r\n\r\n\r\nfieldset {\r\n > .button-area,\r\n > .editor,\r\n > legend,\r\n > legend > .instruction {\r\n   float: none;\r\n   text-align: left;\r\n   display:inline-block;\r\n   width: 90%;\r\n   padding: 0 5%;\r\n  position:relative;\r\n\r\n>p {\r\n  display: none;\r\n  position: absolute;\r\n  left: 18px;\r\n  opacity: 0.8;\r\n  top: 50%;\r\n  margin-top: -18px;\r\n  margin-left: 8px;\r\n  width: auto;\r\n  color: #FFFFFF;\r\n  background: #000000;\r\n  padding: 5px;\r\n  text-align: center;\r\n  border-radius: 3px;\r\n  font-size: 0.8em;\r\n  z-index:1;\r\n      &:after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          right: 100%;\r\n          margin-top: -8px;\r\n          width: 0;\r\n          height: 0;\r\n          border-right: 8px solid #000000;\r\n          border-top: 8px solid transparent;\r\n          border-bottom: 8px solid transparent;\r\n          }\r\n        }\r\n  }\r\n > legend\r\n   h2{\r\n     display:inline;\r\n   }\r\n > legend > .instruction {\r\n   padding: 4px 0;\r\n   width: 70%;\r\n }\r\n}\r\n\r\n// To divide source and meta sides of content in Company, Claim, Topic , Analysis and Source pages\r\n.source-side, .meta-side{\r\nfloat: left;\r\npadding: 0;\r\nmargin-left: 2.5%;\r\n}\r\n.TYPE-analysi .source-side,.TYPE-company .source-side,.TYPE-topic .source-side{\r\nwidth: 65%;\r\n}\r\n.TYPE-analysi .meta-side,.TYPE-company .meta-side,.TYPE-topic .meta-side{\r\nwidth: 30%;\r\n}\r\n.SELF-source,\r\n.TYPE-claim\r\n {\r\n  .creator-credit{\r\n    text-align:center;\r\n    .search-result-list{\r\n      display:inline-block;\r\n    }\r\n  }\r\n .preview-visit-link{\r\n    float:right;\r\n  }\r\n  .remove-source{\r\n    display:none;\r\n    float:right;\r\n    cursor:pointer;\r\n  }\r\n}\r\n.TYPE-claim .source-side,\r\n.TYPE-page .source-side {\r\n  width: 45%;\r\n  margin-left: 2.5%;\r\n  padding-right: 2.5%;\r\n}\r\n.TYPE-claim .meta-side, .TYPE-page .meta-side {\r\n  width: 44.5%;\r\n  position: static;\r\n  > .card-slot {\r\n    margin: 20px 0;\r\n  }\r\n  > .RIGHT-source > .card-header {\r\n      margin-top: 0;\r\n    }\r\n  }\r\n\r\n\r\n.sourcebox > input {\r\n  width:100%;\r\n}\r\n/* .TYPE-claim .meta-side .RIGHT-source, */\r\n\r\n\r\n.sourcebox {\r\n  background: #FAFAFA;\r\n  display: inline-block;\r\n  height: 66px;\r\n  width: 96%;\r\n  padding: 12px;\r\n  > button {\r\n    float: right;\r\n    margin: 11px 0px;\r\n  }\r\n}\r\n\r\n.TYPE-claim, .TYPE-page {\r\n  .sourceErrorMsg{\r\n    color: red;\r\n    font-size: 0.7em;\r\n    float: left;\r\n    margin-top: 8px;\r\n  }\r\n  .addSourceLoader{\r\n    font-size: 0.7em;\r\n    float: left;\r\n    color:$anchor_color;\r\n  }\r\n}\r\n\r\n.STRUCTURE-source_preview {\r\n  background: #fafafa;\r\n  margin: 12px 0px;\r\n  padding: 4px 20px;\r\n  .preview-page-link {\r\n    font-weight: bold;\r\n    padding: 3px 0;\r\n    display: block;\r\n  }\r\n  .RIGHT-description {\r\n    font-size: 0.9em;\r\n    margin-top: 3px;\r\n  }\r\n  img {\r\n    width: 100px;\r\n    max-height: 100px;\r\n    max-width: 20%;\r\n    width: auto;\r\n    height: auto;\r\n    background-color: #eee;\r\n    border: 0 !important;\r\n    float: left;\r\n    margin: 5px 3% 0 0;\r\n  }\r\n  .preview-visit-link {\r\n    clear: both;\r\n  }\r\n}\r\n\r\n//////\r\n\r\n\r\n\r\n\r\n.RIGHT-compare_link.card-content,\r\n.STRUCTURE-compare_link {\r\n  &.card-content.content-view {\r\n    display: inline;\r\n    a {\r\n      background: $button-color;\r\n      font-size: 10px;\r\n      padding: 3px 5px;\r\n      margin-left: 10px;\r\n      color: white;\r\n      border-radius: 3px;\r\n      -moz-border-radius: 3px;\r\n    }\r\n  }\r\n}\r\n\r\n@media all and (max-width: 1280px) and (min-width: 1024px) {\r\nbody>.SELF-wikirate_footer > .consortium-logo-container {\r\nwidth: 102%;\r\n}\r\n}\r\n\r\n.consortium-logo-container .TYPE-image.card-content img {\r\nmax-width: 100%;\r\nmax-height: 80px;\r\n}\r\n\r\n#social-icons a {\r\n display: inline-block;\r\n}\r\n\r\n.claim-counting {\r\n float: right;\r\n margin-right: 6%;\r\n}\r\n\r\n.RIGHT-company > div> select {\r\n width: 40%;\r\n}\r\n.RIGHT-topic > div> select {\r\n width: 40%;\r\n}\r\n.claim_p_disclosure_link{\r\nmargin-left: 7.5%;\r\nmargin-bottom: 26px;\r\nfloat: left;\r\ndisplay:none;\r\ncolor:$anchor_color;\r\ncursor:pointer;\r\n}\r\n\r\n.RIGHT-company>div>div>.chosen-choices li.search-choice {\r\nbackground: #d3741c;\r\nborder: none;\r\nbox-shadow: none;\r\ncolor: #fff;\r\npadding: 7px 8px 8px 6px;\r\n}\r\n.RIGHT-topic>div>div>.chosen-choices li.search-choice {\r\nbackground: #2b7ea0;\r\nborder: none;\r\nbox-shadow: none;\r\ncolor: #fff;\r\npadding: 7px 8px 8px 6px;\r\n}\r\n\r\n.claim-tip{\r\nbackground: #FFF9B3;\r\ntext-align: center;\r\npadding: 8px;\r\nposition: relative;\r\nspan{\r\nposition: absolute;\r\nright: 2px;\r\ntop: 2px;\r\ncursor:pointer;\r\n}\r\n}\r\n.claim-clipboard {\r\n cursor:pointer;\r\n}\r\n\r\n//Chosen tweak to adjust height\r\n.chosen-container .chosen-results {\r\n    max-height:100px !important;\r\n}\r\n\r\n.modal-window{\r\n  display:none;\r\n}\r\n\r\n\r\n/*\r\nStyle for signup success modal window content\r\n*/\r\n#signup-success-msg {\r\n  text-align:center;\r\n  .headingTxt{\r\n  color:#000;\r\n  font-size: 1.3em;\r\n  margin-bottom: 18px;\r\n  }\r\n  .footNote{\r\n    color: #C4C4C4;\r\n    font-size: 0.8em;\r\n    margin-top: 18px;\r\n  }\r\n}\r\n.ui-tooltip {\r\n    background: #000000;\r\n    border-radius: 6px;\r\n    color: white;\r\n    border: none;\r\n    padding: 0;\r\n    opacity: 1;\r\n}\r\n.ui-tooltip-content {\r\n    position: relative;\r\n    padding: 1em;\r\n}\r\n.ui-tooltip-content::after {\r\n    content: '';\r\n    position: absolute;\r\n    border-style: solid;\r\n    display: block;\r\n    width: 0;\r\n}\r\n.ui-tooltip-content::after {\r\n    top: 18px;\r\n    left: -10px;\r\n    border-color: transparent #000000;\r\n    border-width: 10px 10px 10px 0;\r\n}\r\n.ui-widget-content a{\r\n  color:#279\r\n}\r\n.suggested-source{\r\n//max-height:200px\r\n}\r\n.TYPE-user {\r\n  > .card-header {\r\n    background-color: #fff;\r\n  }\r\n  >.card-body {\r\n    min-height: 500px;\r\n  }\r\n  .user-profile-left {\r\n    width: 220px;\r\n    display: inline-block;\r\n    float: left;\r\n    border-right: 1px solid $div-border-color;\r\n    .TYPE-image {\r\n      float: left;\r\n      margin: 0px 0px 22px 24px;\r\n      padding: 0;\r\n      height: auto;\r\n      width: 65%;\r\n      border: 8px solid #EEE;\r\n      overflow:hidden;\r\n      img {\r\n        max-width: 100%;\r\n        margin-bottom: -5px;\r\n      }\r\n    }\r\n  }\r\n  .join-date {\r\n    text-align: center;\r\n  }\r\n  .user-profile-right {\r\n    width: 75%;\r\n    padding-left: 10px;\r\n    float: left;\r\n  }\r\n  .user-profile-right-top {\r\n    min-height: 150px;\r\n    >span {\r\n      font-size: 1.5em;\r\n    }\r\n    .location {\r\n      >span {\r\n        float: left;\r\n        line-height: 1.5em;\r\n      }\r\n      font-size:0.8em;\r\n    }\r\n  }\r\n  .user-profile-right-bottom-contribution {\r\n    width: 50%;\r\n    float: left;\r\n    >h1 {\r\n      margin-top: 1em;\r\n      border-bottom: 1px solid $div-border-color;\r\n      padding: 1px 0;\r\n    }\r\n    .ui-widget-content {\r\n      border-style: none;\r\n    }\r\n  }\r\n\r\n  .TYPE_PLUS_RIGHT-user-discussion.titled-view{\r\n    width: 45%;\r\n    float: right;\r\n    h1 {\r\n      border-bottom: 1px solid $div-border-color;\r\n    }\r\n  }\r\n  .related-card-count {}\r\n  .TYPE_PLUS_RIGHT-user-following {\r\n    >h1 {\r\n      border-bottom: 1px solid $div-border-color;\r\n    }\r\n    .user-following-title {\r\n      font-size: 1.5em;\r\n      border-bottom: 1px solid $div-border-color;\r\n      font-weight: bold;\r\n      display: block;\r\n      padding-top: 20px;\r\n    }\r\n    .search-result-item {\r\n      margin: 6px;\r\n      background: #FAFAFA;\r\n      padding: 10px;\r\n    }\r\n    float:left;\r\n    width:100%;\r\n  }\r\n  .change-view {\r\n    width: 100%;\r\n    display: inline-block;\r\n    .item-name {\r\n      float: left;\r\n      width: 75%;\r\n    }\r\n    .last-edit {\r\n      text-align: right;\r\n      float: right;\r\n      width: 25%;\r\n    }\r\n  }\r\n  #tabs {\r\n    min-height: 300px;\r\n  }\r\n  .empty-profile-tab {\r\n    padding-top: 25%;\r\n    text-align: center;\r\n  }\r\n}\r\n.LTYPE_RTYPE-company-topic{\r\n  .STRUCTURE-source_link_preview, .suggested-source-item{\r\n    display: inline-block;\r\n    width: 95%;\r\n    min-height: 60px;\r\n    background: #EBEBEB;\r\n    padding: 6px;\r\n  }\r\n  .source-link-image{\r\n    width: 20%;\r\n    float: left;\r\n    >img{\r\n      max-width: 100%;\r\n      max-height: 60px;\r\n    }\r\n  }\r\n  .source-link-title{\r\n    float: left;\r\n    width: 75%;\r\n    padding-left: 10px;\r\n  }\r\n}\r\n\r\n\r\n#source-preview-page-layout {\r\n  #main{\r\n    padding: 0px 0%;\r\n  }\r\n  #logo-bar{\r\n    padding: 0px 0%;\r\n    float: left;\r\n    width: 100%;\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n    position: relative;\r\n    height: 53px;\r\n    .top-bar-icon{\r\n      float: left;\r\n    }\r\n  }\r\n  .ui-draggable {\r\n    border-bottom: 1px solid #a3a3a3;\r\n    @include box-shadow(0,0,6px,rgba(0,0,0,.64));\r\n  }\r\n\r\n  #source_preview_page{\r\n    overflow:hidden;\r\n  }\r\n  div.ui-tooltip {\r\n    max-width: 400px;\r\n  }\r\n  .TYPE-claim{\r\n    .source-side\r\n    {\r\n      width:100%;\r\n      padding-right: 0;\r\n      margin-left: 0;\r\n    }\r\n  }\r\n  #company-and-topic-detail-link{\r\n    border-left: 1px solid #f1f1f1;\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 0px;\r\n    height: 100%;\r\n    color: #ccc;\r\n    width: 45px;\r\n    i{\r\n      padding-top: 19px;\r\n    }\r\n    &:hover{\r\n       background:#f3f3f3;\r\n       color:#acacac;\r\n    }\r\n  }\r\n  #company-and-topic{\r\n  float: right;\r\n  width: 30%;\r\n  text-align: center;\r\n  padding: 14px;\r\n  background: #fafafa;\r\n  border-left: 1px solid #f1f1f1;\r\n  border-right: 1px solid #f1f1f1;\r\n  position:relative;\r\n    .company-name,\r\n    .topic-name{\r\n      display: inline-block;\r\n      margin:0px 6px;\r\n    }\r\n  }\r\n  .menu-options{\r\n    float: right;\r\n    width: 33%;\r\n    min-height:1px;\r\n    text-align: right;\r\n    div{\r\n\r\n    }\r\n    #make-claim{\r\n      float:right;\r\n\r\n    }\r\n    #source-page-link{\r\n      float:right;\r\n      width:110px;\r\n      padding: 0px 8px 0px 8px;\r\n    }\r\n    #source-page-button{\r\n      float:left;\r\n      width: 100%;\r\n    }\r\n    #direct-link-button{\r\n      float:left;\r\n      width: 100%;\r\n    }\r\n    #mark-irrelevant{\r\n      // float:right;\r\n      // padding: 4% 8px 0px 8px;\r\n      float: right;\r\n      height: 18px;\r\n      margin: 13px;\r\n      a{\r\n        color: #fff;\r\n        text-decoration: none;\r\n      }\r\n    }\r\n    #claim-count{\r\n      float:right;\r\n      padding: 4%;\r\n    }\r\n  }\r\n   #irrelevant-options {\r\n      a{\r\n        color: #fff;\r\n        text-decoration: none;\r\n      }\r\n      div{\r\n        display: inline-block;\r\n      }\r\n    }\r\n  .webpage-preview{\r\n    float: left;\r\n    width: 100%;\r\n    iframe{\r\n      width: 100%;\r\n      height: 100%;\r\n      border: 0;\r\n      outline: 0;\r\n    }\r\n  }\r\n  .redirect-notice{\r\n    width: 100%;\r\n    text-align: center;\r\n    padding-top: 20%;\r\n  }\r\n  .new-claim-button{\r\n    .create-submit-button{\r\n    width: 100%;\r\n    height: 30px;\r\n    margin-top: 14px;\r\n    }\r\n  }\r\n}\r\n.readmore-js-toggle{\r\n  float:right;\r\n}\r\n.card-editor #source-preview-link{\r\n  display:none;\r\n}"
      },
      {
        "name": "*all+*script",
        "type": "Pointer",
        "content": "[[script: jquery]]\n[[script: tinymce]]\n[[script: slot]]\n[[script: card menu]]\n[[script: jquery helper]]\n[[wikirate coffee]]\n[[userreport]]\n[[chosen proto script]]\n[[chosen script]]\n[[claim chosen]]\n[[claim clipboard script]]\n[[zeroclipboard]]\n[[tooltip script]]\n[[modal window script]]\n[[user profile tab script]]\n[[readmore_script]]\n[[page preview button link]]\n[[source preview script]]\n[[suggested source script]]\n[[newClaimJs]]"
      },
      {
        "name": "suggested source",
        "type": "HTML",
        "content": "<div class=\"suggested-source\">\r\n{{loading gif|size:large}}\r\n</div>"
      },
      {
        "name": "loading gif",
        "type": "Image",
        "content": "loading_gif-large.gif\nimage/gif\n31702"
      }
    ]
  }
}