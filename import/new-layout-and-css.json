{
  "url": "http://dev.wikirate.org/export.json?pretty=true",
  "timestamp": "2014-03-22 05:06:39 +0100",
  "card": {
    "name": "export",
    "type": "Pointer",
    "content": "[[top bar\r]]\n[[*css\r]]\n[[wikirate layout\r]]\n[[wikirate coffee\r]]\n[[top menu\r]]\n[[Home Layout]]",
    "value": [
      {
        "name": "top bar",
        "type": "HTML",
        "content": "<div id=\"logo-bar\" class=\"top-bar\">\r\n  {{*account links}}\r\n  [[/|{{*logo|size:original}}]]\r\n</div>\r\n<div id=\"menu-bar\" class=\"top-bar\">\r\n  {{*navbox}}\r\n  {{top menu}}\r\n</div>"
      },
      {
        "name": "*css",
        "type": "SCSS",
        "content": "@import url(\"http://fonts.googleapis.com/css?family=Droid+Sans:400,700\");\r\nbody {\r\n  color: #777;\r\n  font-family: 'Droid Sans', sans-serif;\r\n  line-height: 1.5em;\r\n  font-size: 0.9em;\r\n}\r\n\r\nbody#wagn {\r\n  min-height: 100%;\r\n  min-width: 480px;\r\n  /*border-top: 4px solid #2c2c2c;*/\r\n  background: #f3f3f3;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\na {\r\n  color: #009933;\r\n}\r\n\r\na.wanted-card {\r\n  color: #b6060a;\r\n}\r\n\r\n/* many sites may want this external link behavior; it's here because it's a nuisance to override when not desired */\r\na.external-link,\r\n.closed-content a.external-link {\r\n  color: #729;\r\n  background: url(/assets/external_link.png) center right no-repeat;\r\n  padding-right: 13px !important;\r\n}\r\n\r\nh1, h2 {\r\n  color: black;\r\n}\r\n\r\nh1 {\r\n  font-size: 1.2em;\r\n  font-weight: normal;\r\n  line-height: 1.8em;\r\n  padding: 5px 0;\r\n}\r\n\r\ninput.navbox {\r\n  border: 0px solid #AAA !important;\r\n  background: #FFFFFF !important;\r\n  color: #a8a8a8 !important;\r\n  padding-left: 3px;\r\n  border-radius: 3px;\r\n}\r\ninput.navbox:focus {\r\n  background-color: #f3f4de !important;\r\n  color: #a8a8a8 !important;\r\n  outline: none;\r\n}\r\n\r\n\r\n#logo-bar {\r\n  padding: 0 3%;\r\n  img {\r\n    margin-top: 3px;\r\n    height: 40px;\r\n  }\r\n  #logging {\r\n    float:right;\r\n    font-size: 1.1em;\r\n    margin-top: 10px;\r\n    a {\r\n      color: #72b671;\r\n      text-shadow: #fff 1px 1px 0px;\r\n      margin-left: 10px;\r\n    }\r\n    a:hover {\r\n      color: #777777;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n#menu-bar {\r\n  background: #76ba75;\r\n  padding: 0 3%;\r\n  border-bottom: 1px solid #999;\r\n  -moz-box-shadow: 0px 0px 2px 0px #ccc;\r\n  -webkit-box-shadow: 0px 0px 2px 0px #ccc;\r\n  box-shadow: 0px 0px 2px 0px #ccc;\r\n  text-shadow: #5c995b 1px 1px 0px;\r\n  margin-bottom: 20px;\r\n  \r\n  .navbox-form {\r\n    display: inline-block;\r\n    float: right;\r\n    width: 33%\r\n  }\r\n  .navbox {\r\n    height: 25px;\r\n    width: 100%;\r\n    margin-top: 8px;\r\n  }\r\n  a {\r\n    color: #fff;\r\n    display: block;\r\n    margin: 0;\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.1em;\r\n  }\r\n  \r\n  .main-links { \r\n    > div {\r\n      display: inline-block;\r\n      padding: 10px 3%;\r\n      cursor: pointer;\r\n      span {\r\n        display: block;\r\n        margin: 0;\r\n        text-transform: uppercase;\r\n        letter-spacing: 0.1em;\r\n        color: #fff;\r\n      }\r\n    }\r\n    > div:hover {\r\n      background: #83C782;\r\n    } \r\n  }\r\n\r\n\r\n  ul {\r\n    display: none;\r\n    position: absolute;\r\n    z-index: 1;\r\n    border-radius: 0;\r\n    border: none;\r\n    padding: 0;\r\n    > li {\r\n      padding: 0;\r\n    }\r\n    a {\r\n      border: 0;\r\n      font-size: 0.9em;\r\n      width: auto;\r\n      min-width: 120px;\r\n      padding: 5px 28px;\r\n      background: #83C782;\r\n      border-radius: inherit;\r\n    }\r\n    a:hover {\r\n      background: #8FD18E;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n.card-header {\r\n  font-family: 'Droid Sans';\r\n}\r\n\r\n.card-frame {\r\n  border-radius: 4px;\r\n  border: 1px solid #E5E5E5;\r\n  > .card-header {\r\n    background: #76BA75;\r\n    font-size: 1.1em;\r\n    color: white;\r\n  }\r\n  .instruction {\r\n    background: #bbb;\r\n  }\r\n}\r\n\r\n\r\n#main {\r\n  font-size: 1.1em;\r\n  clear: both;\r\n  padding: 20px 3%;\r\n  .card-frame > .card-body > .titled-view {\r\n    margin: 15px 0;\r\n    > .card-body {\r\n      margin: 5px 0 5px 3%;\r\n    }\r\n    .card-content {\r\n      padding: 10px 20px 15px 20px;\r\n    }\r\n  }\r\n  .open-view {\r\n    border-radius: 15px;\r\n    > .card-body > h1 {\r\n      font-size: 2em;\r\n      font-weight: normal;\r\n      line-height: 2em;\r\n      padding: 5px 0 0 0;\r\n    }\r\n  }\r\n  > .card-slot > h1 {\r\n    text-align: center;\r\n    font-size: 1.8em;\r\n    padding: 0 5px;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.revision-navigation,\r\n.current {\r\n  background: #FFFFFF;\r\n}\r\n\r\n\r\n\r\nbody.home-layout #main {\r\n\r\n  > .card-content {\r\n    .home-left {\r\n      width: 65%;\r\n      float: left;\r\n      .SELF-infographic {\r\n         text-align: center;\r\n         background: #fff;\r\n         padding: 10px;\r\n         border-radius: 15px;\r\n        -moz-border-radius: 15px;\r\n      }\r\n    }\r\n    .home-right {\r\n      width: 33%;\r\n      float: right;\r\n    }\r\n    > #wikirate_tagline {\r\n      text-align: center;\r\n      overflow: visible;\r\n      font-size: 2em;\r\n      padding: 1.5em;\r\n    }\r\n  }\r\n}\r\n\r\n.STRUCTURE-company_feature,\r\n.STRUCTURE-topic_feature {\r\n  clear: both;\r\n  padding: 20px 0;\r\n  min-height: 200px;\r\n}\r\n\r\n.STRUCTURE-company_feature,\r\n.STRUCTURE-topic_feature {\r\n  > a {\r\n    font-size: 1.3em;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 0.9em;\r\n    font-style: italic;\r\n    color: #aaa;\r\n  }\r\n\r\n  .TYPE-image.content-view {\r\n    width: 25%;\r\n    max-width: 100px;\r\n    padding: 0 3% 10px 0;\r\n    min-height: 200px;\r\n    \r\n    img {\r\n        border-radius: 10px;\r\n       -moz-border-radius: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/\r\n\r\ndiv.SELF-wikirate_footer {\r\n  clear: both;\r\n  display: block;\r\n  padding: 45px 30px 10px 30px;\r\n  text-align: center;\r\n  font-size: 0.9em;\r\n}\r\n\r\n#credit,\r\n#credit a {\r\n  padding: 0 !important;\r\n  background: none;\r\n  border: 0px;\r\n  margin-bottom: 15px;\r\n  position: relative;\r\n}\r\n\r\n#credit {\r\n  z-index: -0;\r\n  left: 8px;\r\n  display: block;\r\n  a {\r\n    right: 16px;\r\n    position: relative;\r\n    z-index: -1;\r\n  }\r\n}\r\n\r\nbody.three-column-layout #main {\r\n  width: 70%;\r\n  float: left;\r\n}\r\n\r\n\r\n.RIGHT-claim_count.content-view {\r\n  display: inline;\r\n  float: right;\r\n  color: #999;\r\n}\r\n\r\n.search-result-item > .TYPE-page.content-view {\r\n  .RIGHT-website .pointer-list {\r\n    font-size: 1.1em;\r\n    font-weight: bold;\r\n    padding-bottom: 0;\r\n  }\r\n  .RIGHT-title {\r\n    font-size: 0.9em;\r\n    margin: 0 0 7px 3%;\r\n  }\r\n}\r\n\r\n\r\n\r\n.RIGHT-image_source.content-view {\r\n  font-size: 0.8em;\r\n  font-style: italic;\r\n}\r\n\r\n.TYPE-topic .STRUCTURE-topic_analysi_blurb,\r\n.TYPE-company .STRUCTURE-company_analysi_blurb {\r\n  > h1 {\r\n    font-size: 1.4em;\r\n    margin: 15px 0 5px 0;\r\n  }\r\n  > .card-content {\r\n    background: #eee;\r\n    padding: 10px 20px;\r\n    border-radius: 10px;\r\n    margin-left: 30px;\r\n    > a {\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n.STRUCTURE-icon_and_link.content-view > a > img,\r\n.STRUCTURE-company_analysi_link.content-view > a > img,\r\n.STRUCTURE-topic_analysi_link.content-view > a > img,\r\n.STRUCTURE-company_link.content-view > a > img,\r\n.STRUCTURE-topic_link.content-view > a > img {\r\n  border-radius: 3px;\r\n  -moz-border-radius: 3px;\r\n  margin-right: 5px;\r\n}\r\n.TYPE-claim.STRUCTURE-claim_summary {\r\n  > h1 {\r\n    font-size: 1.1em;\r\n    margin-bottom: 8px;\r\n  }\r\n  > .card-body {\r\n    background: #eee;\r\n    padding: 10px;\r\n    margin: 0 0 20px 20px;\r\n    font-size: 0.8em;\r\n    border-radius: 10px;\r\n    -moz-border-radius: 10px;\r\n   .card-content,\r\n   .card-body,\r\n    h1,\r\n   .card-content div {\r\n     padding: 0;\r\n     margin: 0;\r\n     display: inline-block;\r\n     line-height: 1em;\r\n   }\r\n   h1 {\r\n    width: 90px;\r\n   }\r\n   h1,\r\n   h1 .joint {\r\n     color: #999999;\r\n   }\r\n\r\n   .RIGHT-source .RIGHT-website {\r\n     font-size: 1em;\r\n     font-weight: bold;\r\n   }\r\n   .pointer-item,\r\n   .search-result-item {\r\n     text-indent: 0;\r\n     margin: 0;\r\n     padding: 0;\r\n     margin-right: 10px !important;\r\n     line-height: 1em;\r\n    }\r\n  }\r\n}\r\n\r\n.STRUCTURE-topic_overview,\r\n.STRUCTURE-company_overview {\r\n  text-align: center;\r\n  width: 29%;\r\n  padding: 10px 1%;\r\n  margin: 10px 1%;\r\n  min-height: 300px;\r\n  float: left;\r\n  border: 1px solid #bbb;\r\n  border-radius: 20px;\r\n  -moz-border-radius: 20px;\r\n  > a {\r\n    font-size: 1.3em;\r\n    line-height: 1.6em;\r\n    display: block;\r\n  }\r\n  .TYPE-image {\r\n    padding: 15px 0;\r\n    min-height: 220px;\r\n  }\r\n  .wikirate-claim-count {\r\n    font-size: 0.8em;\r\n    color: #999;\r\n  }\r\n .RIGHT-claim_count {\r\n    float: none;\r\n  }\r\n}\r\n\r\n\r\n.STRUCTURE-labeled_source_frame {\r\n  label {\r\n    display: inline-block;\r\n    padding-right: 10px;\r\n    float: left;\r\n  }\r\n  .RIGHT-title {\r\n    display: inline-block;\r\n    font-size: 1.2em;\r\n    line-height: 1.2em;\r\n  }\r\n  em {\r\n    float: right;\r\n  }\r\n  .pointer-list,\r\n  .pointer-item {\r\n    display: inline;\r\n    padding-left: 0;\r\n  }\r\n}\r\n\r\n\r\nfieldset.RIGHT-link input.card-content {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n\r\n\r\n.comment-box {\r\n  background: inherit;\r\n}\r\n\r\n.TYPE-analysi.card-content {\r\n  > .search-no-results {\r\n    display: none;\r\n  }\r\n  > .search-result-list {\r\n    padding: 0;\r\n  }\r\n  > .RIGHT-description {\r\n    padding: 20px;\r\n    clear: both;\r\n  }\r\n  .SELF-analysi_image,\r\n  .RIGHT-image {\r\n    display: inline-block;\r\n    padding: 10px;\r\n  }\r\n  .SELF-analysi_image img {\r\n    height: 50px;\r\n    padding-bottom: 25px;\r\n  }\r\n  > a > .RIGHT-logo img,\r\n  > a > .RIGHT-image img {\r\n    border: 4px solid #666;\r\n    border-radius: 10px;\r\n    height: 100px;\r\n  }\r\n}\r\n\r\n\r\n.RIGHT-wikirate_source .content-editor select {\r\n  height: 200px;\r\n}\r\n\r\n.closed-content label {\r\n  display: inline;\r\n}\r\n\r\n\r\n.RIGHT-summary.titled-view {\r\n  display: inline;\r\n}\r\n\r\n.TYPE_PLUS_RIGHT-company-label img {\r\n  margin: 0 2px 5px 0;\r\n  border-radius: 4px;\r\n  -moz-border-radius: 4px;\r\n}\r\n\r\nfieldset {\r\n  > .button-area,\r\n  > .editor,\r\n  > legend,\r\n  > legend > .instruction {\r\n    float: none;\r\n    text-align: left;\r\n    width: 90%;\r\n    padding: 0 5%;\r\n  }\r\n  > legend > .instruction {\r\n    padding: 4px 0;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n.source-side {\r\n  width: 67%;\r\n  float: left;\r\n  padding: 0;\r\n  margin: 0 1%;\r\n  iframe {\r\n    width: 100%;\r\n    height: 500px;\r\n  }\r\n}\r\n\r\n.meta-side {\r\n  width: 28%;\r\n  float: right;\r\n  position: static;\r\n  padding: 0;\r\n  margin: 0 1%;\r\n  > .card-slot {\r\n    margin: 20px 0;\r\n  }\r\n}\r\n\r\n"
      },
      {
        "name": "wikirate layout",
        "type": "Layout",
        "content": "<!DOCTYPE HTML>\r\n<html>\r\n  {{wikirate head}}\r\n  <body id=\"wagn\" class=\"wikirate-layout\">\r\n    <div id=\"top\">\r\n       [[/|{{*logo|content}}]]\r\n       {{wikirate menu}}\r\n    </div>\r\n    <div id=\"simple-main\">\r\n      {{_main}}\r\n    </div>\r\n    {{wikirate footer | content}}\r\n  </body>\r\n</html>"
      },
      {
        "name": "wikirate coffee",
        "type": "CoffeeScript",
        "content": "\r\n$(window).ready ->\r\n  getFrameslot = (field)->\r\n    fieldset = field.closest 'fieldset'\r\n    frameslot = fieldset.find '.card-slot'\r\n    if frameslot[0]\r\n      frameslot = $(frameslot[0])\r\n    else\r\n      frameslot = $('<div class=\"card-slot\"></div>')\r\n      fieldset.append frameslot\r\n    frameslot\r\n  \r\n\r\n  $('.TYPE-claim .RIGHT-link').on 'change', 'input', ->\r\n    field = $(this)\r\n    frameslot = getFrameslot field\r\n    frameslot.empty()\r\n    $.ajax wagn.rootPath + '/card/create', {\r\n      data : {\r\n        success: { view : 'content' }\r\n        slot: { structure: 'labeled source frame' } #fixme -- need codename\r\n        quickframe: true\r\n        card: {\r\n          type_code: 'webpage'\r\n          subcards    : { '+Link' : { 'content' : field.val() } }\r\n        }\r\n      }\r\n      success: (data) -> frameslot.slotSuccess data\r\n      error: (xhr) -> frameslot.slotError xhr.status, xhr.responseText      \r\n    }\r\n    false #disable other events\r\n\r\n  $('.TYPE-page .RIGHT-link').on 'change', 'input', ->  \r\n    field = $(this)\r\n    frameslot = getFrameslot field\r\n    frameslot.html $('<iframe src=\"' + field.val()  + '\"></iframe>')\r\n\r\n  $('body').on 'click', '.wikirate-topic-list', (event) ->\r\n    listlink = $(this)\r\n    dialogDiv = listlink.data 'dialog'\r\n    dialogOptions = { minWidth: 400, maxHeight:400, position: { my: \"center\", at: \"center\", of: window } }\r\n    if dialogDiv\r\n      dialogDiv.dialog dialogOptions\r\n    else\r\n      $.ajax( url: listlink.attr('href') ).done (data)->\r\n        dialogDiv = listlink.slot().find '.wikirate-topic-dialog'\r\n        wagn.dd = dialogDiv\r\n        dialogDiv.html data\r\n        listlink.data 'dialog', dialogDiv\r\n        dialogDiv.dialog dialogOptions\r\n        dialogDiv.find('a').attr 'target','topics'\r\n    event.preventDefault()\r\n  \r\n  $('#menu-bar').on 'mouseenter', '.main-links > div', ->\r\n    ul = $(this).find('ul').first()\r\n    ul.menu()\r\n    ul.show()\r\n    ul.position my: 'left top', at: 'left bottom', of: this\r\n    \r\n  $('#menu-bar').on 'mouseleave', '.main-links > div', ->\r\n    ul = $(this).find('ul').first()\r\n    ul.hide()\r\n  \r\n#warn = (stuff) -> console.log stuff if console?",
        "codename": "wikirate_coffee"
      },
      {
        "name": "top menu",
        "type": "HTML",
        "content": "<div class=\"main-links\">\r\n  <div>\r\n    <span>Add</span>\r\n    <ul>\r\n      <li>[[/new/Claim|Claim]]</li>\r\n      <li>[[/new/Page|Source]]</li>\r\n    </ul>\r\n  </div>\r\n  <div>\r\n    <span>Browse</span>\r\n    <ul>\r\n      <li>[[Companies]]</li>\r\n      <li>[[Topics]]</li>\r\n      <li>[[Claims]]</li>\r\n      <li>[[Sources]]</li>\r\n      <li>[[/recent|Changes]]</li>\r\n    </ul>\r\n  </div>\r\n  <div>\r\n    <span>Community</span>\r\n    <ul>\r\n      <li>[[About Us]]</li>\r\n      <li>[[How To Participate]]</li>\r\n      <li>[[Community Portal]]</li>\r\n      <li>[[Donate]]</li>  \r\n      <li>[[/account/signup|Join]]</li>  \r\n    </ul>\r\n  </div>\r\n</div>"
      },
      {
        "name": "Home Layout",
        "type": "HTML",
        "content": "<!DOCTYPE HTML>\r\n<html>\r\n  {{wikirate head}}\r\n  <body id=\"wagn\" class=\"home-layout wikirate-layout\">\r\n    {{top bar}}\r\n    <div id=\"simple-main\">\r\n      {{_main|content}}\r\n    </div>\r\n    {{wikirate footer | content}}\r\n  </body>\r\n</html>"
      }
    ]
  }
}